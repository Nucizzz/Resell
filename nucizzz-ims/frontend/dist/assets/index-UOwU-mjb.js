(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function kp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a0={exports:{}},qo={},o0={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=Symbol.for("react.element"),Mp=Symbol.for("react.portal"),Lp=Symbol.for("react.fragment"),Bp=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),jp=Symbol.for("react.provider"),Up=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),Hp=Symbol.for("react.memo"),$p=Symbol.for("react.lazy"),Gc=Symbol.iterator;function Wp(t){return t===null||typeof t!="object"?null:(t=Gc&&t[Gc]||t["@@iterator"],typeof t=="function"?t:null)}var s0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u0=Object.assign,l0={};function fi(t,e,r){this.props=t,this.context=e,this.refs=l0,this.updater=r||s0}fi.prototype.isReactComponent={};fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c0(){}c0.prototype=fi.prototype;function Pl(t,e,r){this.props=t,this.context=e,this.refs=l0,this.updater=r||s0}var kl=Pl.prototype=new c0;kl.constructor=Pl;u0(kl,fi.prototype);kl.isPureReactComponent=!0;var Xc=Array.isArray,f0=Object.prototype.hasOwnProperty,Ml={current:null},d0={key:!0,ref:!0,__self:!0,__source:!0};function h0(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)f0.call(e,n)&&!d0.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ga,type:t,key:a,ref:o,props:i,_owner:Ml.current}}function Gp(t,e){return{$$typeof:ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ll(t){return typeof t=="object"&&t!==null&&t.$$typeof===ga}function Xp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Yc=/\/+/g;function Is(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xp(""+t.key):e.toString(36)}function Qa(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ga:case Mp:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Is(o,0):n,Xc(i)?(r="",t!=null&&(r=t.replace(Yc,"$&/")+"/"),Qa(i,e,r,"",function(l){return l})):i!=null&&(Ll(i)&&(i=Gp(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Yc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Xc(t))for(var s=0;s<t.length;s++){a=t[s];var u=n+Is(a,s);o+=Qa(a,e,r,u,i)}else if(u=Wp(t),typeof u=="function")for(t=u.call(t),s=0;!(a=t.next()).done;)a=a.value,u=n+Is(a,s++),o+=Qa(a,e,r,u,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ta(t,e,r){if(t==null)return t;var n=[],i=0;return Qa(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Yp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},Ja={transition:null},Kp={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:Ja,ReactCurrentOwner:Ml};function p0(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ta,forEach:function(t,e,r){Ta(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ta(t,function(){e++}),e},toArray:function(t){return Ta(t,function(e){return e})||[]},only:function(t){if(!Ll(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=fi;re.Fragment=Lp;re.Profiler=Fp;re.PureComponent=Pl;re.StrictMode=Bp;re.Suspense=Vp;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp;re.act=p0;re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=u0({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Ml.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)f0.call(e,u)&&!d0.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:ga,type:t.type,key:i,ref:a,props:n,_owner:o}};re.createContext=function(t){return t={$$typeof:Up,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jp,_context:t},t.Consumer=t};re.createElement=h0;re.createFactory=function(t){var e=h0.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:zp,render:t}};re.isValidElement=Ll;re.lazy=function(t){return{$$typeof:$p,_payload:{_status:-1,_result:t},_init:Yp}};re.memo=function(t,e){return{$$typeof:Hp,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Ja.transition;Ja.transition={};try{t()}finally{Ja.transition=e}};re.unstable_act=p0;re.useCallback=function(t,e){return Ct.current.useCallback(t,e)};re.useContext=function(t){return Ct.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};re.useEffect=function(t,e){return Ct.current.useEffect(t,e)};re.useId=function(){return Ct.current.useId()};re.useImperativeHandle=function(t,e,r){return Ct.current.useImperativeHandle(t,e,r)};re.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Ct.current.useMemo(t,e)};re.useReducer=function(t,e,r){return Ct.current.useReducer(t,e,r)};re.useRef=function(t){return Ct.current.useRef(t)};re.useState=function(t){return Ct.current.useState(t)};re.useSyncExternalStore=function(t,e,r){return Ct.current.useSyncExternalStore(t,e,r)};re.useTransition=function(){return Ct.current.useTransition()};re.version="18.3.1";o0.exports=re;var C=o0.exports;const vr=kp(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=C,qp=Symbol.for("react.element"),Qp=Symbol.for("react.fragment"),Jp=Object.prototype.hasOwnProperty,ev=Zp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tv={key:!0,ref:!0,__self:!0,__source:!0};function v0(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Jp.call(e,n)&&!tv.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:qp,type:t,key:a,ref:o,props:i,_owner:ev.current}}qo.Fragment=Qp;qo.jsx=v0;qo.jsxs=v0;a0.exports=qo;var p=a0.exports,yu={},g0={exports:{}},Vt={},x0={exports:{}},y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,k){var M=L.length;L.push(k);e:for(;0<M;){var Y=M-1>>>1,Z=L[Y];if(0<i(Z,k))L[Y]=k,L[M]=Z,M=Y;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var k=L[0],M=L.pop();if(M!==k){L[0]=M;e:for(var Y=0,Z=L.length,ne=Z>>>1;Y<ne;){var fe=2*(Y+1)-1,ee=L[fe],ye=fe+1,Mt=L[ye];if(0>i(ee,M))ye<Z&&0>i(Mt,ee)?(L[Y]=Mt,L[ye]=M,Y=ye):(L[Y]=ee,L[fe]=M,Y=fe);else if(ye<Z&&0>i(Mt,M))L[Y]=Mt,L[ye]=M,Y=ye;else break e}}return k}function i(L,k){var M=L.sortIndex-k.sortIndex;return M!==0?M:L.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var u=[],l=[],c=1,f=null,d=3,h=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var k=r(l);k!==null;){if(k.callback===null)n(l);else if(k.startTime<=L)n(l),k.sortIndex=k.expirationTime,e(u,k);else break;k=r(l)}}function _(L){if(g=!1,m(L),!v)if(r(u)!==null)v=!0,V(A);else{var k=r(l);k!==null&&$(_,k.startTime-L)}}function A(L,k){v=!1,g&&(g=!1,y(N),N=-1),h=!0;var M=d;try{for(m(k),f=r(u);f!==null&&(!(f.expirationTime>k)||L&&!R());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,d=f.priorityLevel;var Z=Y(f.expirationTime<=k);k=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(u)&&n(u),m(k)}else n(u);f=r(u)}if(f!==null)var ne=!0;else{var fe=r(l);fe!==null&&$(_,fe.startTime-k),ne=!1}return ne}finally{f=null,d=M,h=!1}}var I=!1,S=null,N=-1,b=5,P=-1;function R(){return!(t.unstable_now()-P<b)}function z(){if(S!==null){var L=t.unstable_now();P=L;var k=!0;try{k=S(!0,L)}finally{k?j():(I=!1,S=null)}}else I=!1}var j;if(typeof x=="function")j=function(){x(z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=z,j=function(){B.postMessage(null)}}else j=function(){w(z,0)};function V(L){S=L,I||(I=!0,j())}function $(L,k){N=w(function(){L(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,V(A))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var M=d;d=k;try{return L()}finally{d=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,k){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var M=d;d=L;try{return k()}finally{d=M}},t.unstable_scheduleCallback=function(L,k,M){var Y=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Y+M:Y):M=Y,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=M+Z,L={id:c++,callback:k,priorityLevel:L,startTime:M,expirationTime:Z,sortIndex:-1},M>Y?(L.sortIndex=M,e(l,L),r(u)===null&&L===r(l)&&(g?(y(N),N=-1):g=!0,$(_,M-Y))):(L.sortIndex=Z,e(u,L),v||h||(v=!0,V(A))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var k=d;return function(){var M=d;d=k;try{return L.apply(this,arguments)}finally{d=M}}}})(y0);x0.exports=y0;var rv=x0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv=C,zt=rv;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m0=new Set,qi={};function On(t,e){ni(t,e),ni(t+"Capture",e)}function ni(t,e){for(qi[t]=e,t=0;t<e.length;t++)m0.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=Object.prototype.hasOwnProperty,iv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kc={},Zc={};function av(t){return mu.call(Zc,t)?!0:mu.call(Kc,t)?!1:iv.test(t)?Zc[t]=!0:(Kc[t]=!0,!1)}function ov(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sv(t,e,r,n){if(e===null||typeof e>"u"||ov(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bl=/[\-:]([a-z])/g;function Fl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bl,Fl);st[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bl,Fl);st[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bl,Fl);st[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function jl(t,e,r,n){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sv(e,r,i,n)&&(r=null),n||i===null?av(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Pr=nv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ra=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),Ul=Symbol.for("react.strict_mode"),wu=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),_0=Symbol.for("react.context"),zl=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),Vl=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),E0=Symbol.for("react.offscreen"),qc=Symbol.iterator;function Ei(t){return t===null||typeof t!="object"?null:(t=qc&&t[qc]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,Ns;function Mi(t){if(Ns===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ns=e&&e[1]||""}return`
`+Ns+t}var Os=!1;function Ts(t,e){if(!t||Os)return"";Os=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=s);break}}}finally{Os=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Mi(t):""}function uv(t){switch(t.tag){case 5:return Mi(t.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 2:case 15:return t=Ts(t.type,!1),t;case 11:return t=Ts(t.type.render,!1),t;case 1:return t=Ts(t.type,!0),t;default:return""}}function Cu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ln:return"Fragment";case Mn:return"Portal";case wu:return"Profiler";case Ul:return"StrictMode";case _u:return"Suspense";case Eu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _0:return(t.displayName||"Context")+".Consumer";case w0:return(t._context.displayName||"Context")+".Provider";case zl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vl:return e=t.displayName||null,e!==null?e:Cu(t.type)||"Memo";case Fr:e=t._payload,t=t._init;try{return Cu(t(e))}catch{}}return null}function lv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cu(e);case 8:return e===Ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function C0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cv(t){var e=C0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Da(t){t._valueTracker||(t._valueTracker=cv(t))}function A0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=C0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function yo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Au(t,e){var r=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Qc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=tn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S0(t,e){e=e.checked,e!=null&&jl(t,"checked",e,!1)}function Su(t,e){S0(t,e);var r=tn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Iu(t,e.type,r):e.hasOwnProperty("defaultValue")&&Iu(t,e.type,tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Iu(t,e,r){(e!=="number"||yo(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Li=Array.isArray;function qn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ef(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(U(92));if(Li(r)){if(1<r.length)throw Error(U(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:tn(r)}}function I0(t,e){var r=tn(e.value),n=tn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function tf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ba,O0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fv=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(t){fv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vi[e]=Vi[t]})});function T0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Vi.hasOwnProperty(t)&&Vi[t]?(""+e).trim():e+"px"}function R0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=T0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var dv=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tu(t,e){if(e){if(dv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Ru(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=null;function Hl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bu=null,Qn=null,Jn=null;function rf(t){if(t=ma(t)){if(typeof bu!="function")throw Error(U(280));var e=t.stateNode;e&&(e=rs(e),bu(t.stateNode,t.type,e))}}function D0(t){Qn?Jn?Jn.push(t):Jn=[t]:Qn=t}function b0(){if(Qn){var t=Qn,e=Jn;if(Jn=Qn=null,rf(t),e)for(t=0;t<e.length;t++)rf(e[t])}}function P0(t,e){return t(e)}function k0(){}var Rs=!1;function M0(t,e,r){if(Rs)return t(e,r);Rs=!0;try{return P0(t,e,r)}finally{Rs=!1,(Qn!==null||Jn!==null)&&(k0(),b0())}}function Ji(t,e){var r=t.stateNode;if(r===null)return null;var n=rs(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(U(231,e,typeof r));return r}var Pu=!1;if(Or)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{Pu=!1}function hv(t,e,r,n,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var Hi=!1,mo=null,wo=!1,ku=null,pv={onError:function(t){Hi=!0,mo=t}};function vv(t,e,r,n,i,a,o,s,u){Hi=!1,mo=null,hv.apply(pv,arguments)}function gv(t,e,r,n,i,a,o,s,u){if(vv.apply(this,arguments),Hi){if(Hi){var l=mo;Hi=!1,mo=null}else throw Error(U(198));wo||(wo=!0,ku=l)}}function Tn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function L0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nf(t){if(Tn(t)!==t)throw Error(U(188))}function xv(t){var e=t.alternate;if(!e){if(e=Tn(t),e===null)throw Error(U(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return nf(i),t;if(a===n)return nf(i),e;a=a.sibling}throw Error(U(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(U(189))}}if(r.alternate!==n)throw Error(U(190))}if(r.tag!==3)throw Error(U(188));return r.stateNode.current===r?t:e}function B0(t){return t=xv(t),t!==null?F0(t):null}function F0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F0(t);if(e!==null)return e;t=t.sibling}return null}var j0=zt.unstable_scheduleCallback,af=zt.unstable_cancelCallback,yv=zt.unstable_shouldYield,mv=zt.unstable_requestPaint,Be=zt.unstable_now,wv=zt.unstable_getCurrentPriorityLevel,$l=zt.unstable_ImmediatePriority,U0=zt.unstable_UserBlockingPriority,_o=zt.unstable_NormalPriority,_v=zt.unstable_LowPriority,z0=zt.unstable_IdlePriority,Qo=null,yr=null;function Ev(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Qo,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:Sv,Cv=Math.log,Av=Math.LN2;function Sv(t){return t>>>=0,t===0?32:31-(Cv(t)/Av|0)|0}var Pa=64,ka=4194304;function Bi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eo(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Bi(s):(a&=o,a!==0&&(n=Bi(a)))}else o=r&~i,o!==0?n=Bi(o):a!==0&&(n=Bi(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-sr(e),i=1<<r,n|=t[r],e&=~i;return n}function Iv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nv(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-sr(a),s=1<<o,u=i[o];u===-1?(!(s&r)||s&n)&&(i[o]=Iv(s,e)):u<=e&&(t.expiredLanes|=s),a&=~s}}function Mu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V0(){var t=Pa;return Pa<<=1,!(Pa&4194240)&&(Pa=64),t}function Ds(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xa(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=r}function Ov(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-sr(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Wl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-sr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ge=0;function H0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $0,Gl,W0,G0,X0,Lu=!1,Ma=[],Wr=null,Gr=null,Xr=null,ea=new Map,ta=new Map,zr=[],Tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function of(t,e){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(e.pointerId)}}function Ai(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ma(e),e!==null&&Gl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Rv(t,e,r,n,i){switch(e){case"focusin":return Wr=Ai(Wr,t,e,r,n,i),!0;case"dragenter":return Gr=Ai(Gr,t,e,r,n,i),!0;case"mouseover":return Xr=Ai(Xr,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return ea.set(a,Ai(ea.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ta.set(a,Ai(ta.get(a)||null,t,e,r,n,i)),!0}return!1}function Y0(t){var e=hn(t.target);if(e!==null){var r=Tn(e);if(r!==null){if(e=r.tag,e===13){if(e=L0(r),e!==null){t.blockedOn=e,X0(t.priority,function(){W0(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Bu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Du=n,r.target.dispatchEvent(n),Du=null}else return e=ma(r),e!==null&&Gl(e),t.blockedOn=r,!1;e.shift()}return!0}function sf(t,e,r){eo(t)&&r.delete(e)}function Dv(){Lu=!1,Wr!==null&&eo(Wr)&&(Wr=null),Gr!==null&&eo(Gr)&&(Gr=null),Xr!==null&&eo(Xr)&&(Xr=null),ea.forEach(sf),ta.forEach(sf)}function Si(t,e){t.blockedOn===e&&(t.blockedOn=null,Lu||(Lu=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,Dv)))}function ra(t){function e(i){return Si(i,t)}if(0<Ma.length){Si(Ma[0],t);for(var r=1;r<Ma.length;r++){var n=Ma[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Wr!==null&&Si(Wr,t),Gr!==null&&Si(Gr,t),Xr!==null&&Si(Xr,t),ea.forEach(e),ta.forEach(e),r=0;r<zr.length;r++)n=zr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<zr.length&&(r=zr[0],r.blockedOn===null);)Y0(r),r.blockedOn===null&&zr.shift()}var ei=Pr.ReactCurrentBatchConfig,Co=!0;function bv(t,e,r,n){var i=ge,a=ei.transition;ei.transition=null;try{ge=1,Xl(t,e,r,n)}finally{ge=i,ei.transition=a}}function Pv(t,e,r,n){var i=ge,a=ei.transition;ei.transition=null;try{ge=4,Xl(t,e,r,n)}finally{ge=i,ei.transition=a}}function Xl(t,e,r,n){if(Co){var i=Bu(t,e,r,n);if(i===null)zs(t,e,n,Ao,r),of(t,n);else if(Rv(i,t,e,r,n))n.stopPropagation();else if(of(t,n),e&4&&-1<Tv.indexOf(t)){for(;i!==null;){var a=ma(i);if(a!==null&&$0(a),a=Bu(t,e,r,n),a===null&&zs(t,e,n,Ao,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else zs(t,e,n,null,r)}}var Ao=null;function Bu(t,e,r,n){if(Ao=null,t=Hl(n),t=hn(t),t!==null)if(e=Tn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=L0(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ao=t,null}function K0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wv()){case $l:return 1;case U0:return 4;case _o:case _v:return 16;case z0:return 536870912;default:return 16}default:return 16}}var Hr=null,Yl=null,to=null;function Z0(){if(to)return to;var t,e=Yl,r=e.length,n,i="value"in Hr?Hr.value:Hr.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return to=i.slice(t,1<n?1-n:void 0)}function ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function La(){return!0}function uf(){return!1}function Ht(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?La:uf,this.isPropagationStopped=uf,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),e}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=Ht(di),ya=ke({},di,{view:0,detail:0}),kv=Ht(ya),bs,Ps,Ii,Jo=ke({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(bs=t.screenX-Ii.screenX,Ps=t.screenY-Ii.screenY):Ps=bs=0,Ii=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:Ps}}),lf=Ht(Jo),Mv=ke({},Jo,{dataTransfer:0}),Lv=Ht(Mv),Bv=ke({},ya,{relatedTarget:0}),ks=Ht(Bv),Fv=ke({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),jv=Ht(Fv),Uv=ke({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zv=Ht(Uv),Vv=ke({},di,{data:0}),cf=Ht(Vv),Hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wv[t])?!!e[t]:!1}function Zl(){return Gv}var Xv=ke({},ya,{key:function(t){if(t.key){var e=Hv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$v[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(t){return t.type==="keypress"?ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yv=Ht(Xv),Kv=ke({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=Ht(Kv),Zv=ke({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),qv=Ht(Zv),Qv=ke({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jv=Ht(Qv),eg=ke({},Jo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tg=Ht(eg),rg=[9,13,27,32],ql=Or&&"CompositionEvent"in window,$i=null;Or&&"documentMode"in document&&($i=document.documentMode);var ng=Or&&"TextEvent"in window&&!$i,q0=Or&&(!ql||$i&&8<$i&&11>=$i),df=" ",hf=!1;function Q0(t,e){switch(t){case"keyup":return rg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bn=!1;function ig(t,e){switch(t){case"compositionend":return J0(e);case"keypress":return e.which!==32?null:(hf=!0,df);case"textInput":return t=e.data,t===df&&hf?null:t;default:return null}}function ag(t,e){if(Bn)return t==="compositionend"||!ql&&Q0(t,e)?(t=Z0(),to=Yl=Hr=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q0&&e.locale!=="ko"?null:e.data;default:return null}}var og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!og[t.type]:e==="textarea"}function e1(t,e,r,n){D0(n),e=So(e,"onChange"),0<e.length&&(r=new Kl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wi=null,na=null;function sg(t){f1(t,0)}function es(t){var e=Un(t);if(A0(e))return t}function ug(t,e){if(t==="change")return e}var t1=!1;if(Or){var Ms;if(Or){var Ls="oninput"in document;if(!Ls){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),Ls=typeof vf.oninput=="function"}Ms=Ls}else Ms=!1;t1=Ms&&(!document.documentMode||9<document.documentMode)}function gf(){Wi&&(Wi.detachEvent("onpropertychange",r1),na=Wi=null)}function r1(t){if(t.propertyName==="value"&&es(na)){var e=[];e1(e,na,t,Hl(t)),M0(sg,e)}}function lg(t,e,r){t==="focusin"?(gf(),Wi=e,na=r,Wi.attachEvent("onpropertychange",r1)):t==="focusout"&&gf()}function cg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return es(na)}function fg(t,e){if(t==="click")return es(e)}function dg(t,e){if(t==="input"||t==="change")return es(e)}function hg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:hg;function ia(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!mu.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yf(t,e){var r=xf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xf(r)}}function n1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i1(){for(var t=window,e=yo();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=yo(t.document)}return e}function Ql(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pg(t){var e=i1(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&n1(r.ownerDocument.documentElement,r)){if(n!==null&&Ql(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=yf(r,a);var o=yf(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vg=Or&&"documentMode"in document&&11>=document.documentMode,Fn=null,Fu=null,Gi=null,ju=!1;function mf(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ju||Fn==null||Fn!==yo(n)||(n=Fn,"selectionStart"in n&&Ql(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gi&&ia(Gi,n)||(Gi=n,n=So(Fu,"onSelect"),0<n.length&&(e=new Kl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Fn)))}function Ba(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var jn={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},Bs={},a1={};Or&&(a1=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function ts(t){if(Bs[t])return Bs[t];if(!jn[t])return t;var e=jn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in a1)return Bs[t]=e[r];return t}var o1=ts("animationend"),s1=ts("animationiteration"),u1=ts("animationstart"),l1=ts("transitionend"),c1=new Map,wf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(t,e){c1.set(t,e),On(e,[t])}for(var Fs=0;Fs<wf.length;Fs++){var js=wf[Fs],gg=js.toLowerCase(),xg=js[0].toUpperCase()+js.slice(1);nn(gg,"on"+xg)}nn(o1,"onAnimationEnd");nn(s1,"onAnimationIteration");nn(u1,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(l1,"onTransitionEnd");ni("onMouseEnter",["mouseout","mouseover"]);ni("onMouseLeave",["mouseout","mouseover"]);ni("onPointerEnter",["pointerout","pointerover"]);ni("onPointerLeave",["pointerout","pointerover"]);On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));On("onBeforeInput",["compositionend","keypress","textInput","paste"]);On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function _f(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,gv(n,e,void 0,t),t.currentTarget=null}function f1(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;_f(i,s,l),a=u}else for(o=0;o<n.length;o++){if(s=n[o],u=s.instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;_f(i,s,l),a=u}}}if(wo)throw t=ku,wo=!1,ku=null,t}function Ce(t,e){var r=e[$u];r===void 0&&(r=e[$u]=new Set);var n=t+"__bubble";r.has(n)||(d1(e,t,2,!1),r.add(n))}function Us(t,e,r){var n=0;e&&(n|=4),d1(r,t,n,e)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function aa(t){if(!t[Fa]){t[Fa]=!0,m0.forEach(function(r){r!=="selectionchange"&&(yg.has(r)||Us(r,!1,t),Us(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fa]||(e[Fa]=!0,Us("selectionchange",!1,e))}}function d1(t,e,r,n){switch(K0(e)){case 1:var i=bv;break;case 4:i=Pv;break;default:i=Xl}r=i.bind(null,e,r,t),i=void 0,!Pu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function zs(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;s!==null;){if(o=hn(s),o===null)return;if(u=o.tag,u===5||u===6){n=a=o;continue e}s=s.parentNode}}n=n.return}M0(function(){var l=a,c=Hl(r),f=[];e:{var d=c1.get(t);if(d!==void 0){var h=Kl,v=t;switch(t){case"keypress":if(ro(r)===0)break e;case"keydown":case"keyup":h=Yv;break;case"focusin":v="focus",h=ks;break;case"focusout":v="blur",h=ks;break;case"beforeblur":case"afterblur":h=ks;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=qv;break;case o1:case s1:case u1:h=jv;break;case l1:h=Jv;break;case"scroll":h=kv;break;case"wheel":h=tg;break;case"copy":case"cut":case"paste":h=zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ff}var g=(e&4)!==0,w=!g&&t==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var x=l,m;x!==null;){m=x;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,y!==null&&(_=Ji(x,y),_!=null&&g.push(oa(x,_,m)))),w)break;x=x.return}0<g.length&&(d=new h(d,v,null,r,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==Du&&(v=r.relatedTarget||r.fromElement)&&(hn(v)||v[Tr]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=l,v=v?hn(v):null,v!==null&&(w=Tn(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=l),h!==v)){if(g=lf,_="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=ff,_="onPointerLeave",y="onPointerEnter",x="pointer"),w=h==null?d:Un(h),m=v==null?d:Un(v),d=new g(_,x+"leave",h,r,c),d.target=w,d.relatedTarget=m,_=null,hn(c)===l&&(g=new g(y,x+"enter",v,r,c),g.target=m,g.relatedTarget=w,_=g),w=_,h&&v)t:{for(g=h,y=v,x=0,m=g;m;m=Rn(m))x++;for(m=0,_=y;_;_=Rn(_))m++;for(;0<x-m;)g=Rn(g),x--;for(;0<m-x;)y=Rn(y),m--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Rn(g),y=Rn(y)}g=null}else g=null;h!==null&&Ef(f,d,h,g,!1),v!==null&&w!==null&&Ef(f,w,v,g,!0)}}e:{if(d=l?Un(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var A=ug;else if(pf(d))if(t1)A=dg;else{A=cg;var I=lg}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=fg);if(A&&(A=A(t,l))){e1(f,A,r,c);break e}I&&I(t,d,l),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&Iu(d,"number",d.value)}switch(I=l?Un(l):window,t){case"focusin":(pf(I)||I.contentEditable==="true")&&(Fn=I,Fu=l,Gi=null);break;case"focusout":Gi=Fu=Fn=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,mf(f,r,c);break;case"selectionchange":if(vg)break;case"keydown":case"keyup":mf(f,r,c)}var S;if(ql)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Bn?Q0(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(q0&&r.locale!=="ko"&&(Bn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Bn&&(S=Z0()):(Hr=c,Yl="value"in Hr?Hr.value:Hr.textContent,Bn=!0)),I=So(l,N),0<I.length&&(N=new cf(N,t,null,r,c),f.push({event:N,listeners:I}),S?N.data=S:(S=J0(r),S!==null&&(N.data=S)))),(S=ng?ig(t,r):ag(t,r))&&(l=So(l,"onBeforeInput"),0<l.length&&(c=new cf("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:l}),c.data=S))}f1(f,e)})}function oa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function So(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ji(t,r),a!=null&&n.unshift(oa(t,a,i)),a=Ji(t,e),a!=null&&n.push(oa(t,a,i))),t=t.return}return n}function Rn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ef(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,i?(u=Ji(r,a),u!=null&&o.unshift(oa(r,u,s))):i||(u=Ji(r,a),u!=null&&o.push(oa(r,u,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var mg=/\r\n?/g,wg=/\u0000|\uFFFD/g;function Cf(t){return(typeof t=="string"?t:""+t).replace(mg,`
`).replace(wg,"")}function ja(t,e,r){if(e=Cf(e),Cf(t)!==e&&r)throw Error(U(425))}function Io(){}var Uu=null,zu=null;function Vu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,_g=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,Eg=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(t){return Af.resolve(null).then(t).catch(Cg)}:Hu;function Cg(t){setTimeout(function(){throw t})}function Vs(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ra(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ra(e)}function Yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),gr="__reactFiber$"+hi,sa="__reactProps$"+hi,Tr="__reactContainer$"+hi,$u="__reactEvents$"+hi,Ag="__reactListeners$"+hi,Sg="__reactHandles$"+hi;function hn(t){var e=t[gr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Tr]||r[gr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Sf(t);t!==null;){if(r=t[gr])return r;t=Sf(t)}return e}t=r,r=t.parentNode}return null}function ma(t){return t=t[gr]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Un(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function rs(t){return t[sa]||null}var Wu=[],zn=-1;function an(t){return{current:t}}function Ie(t){0>zn||(t.current=Wu[zn],Wu[zn]=null,zn--)}function we(t,e){zn++,Wu[zn]=t.current,t.current=e}var rn={},gt=an(rn),Tt=an(!1),En=rn;function ii(t,e){var r=t.type.contextTypes;if(!r)return rn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(t){return t=t.childContextTypes,t!=null}function No(){Ie(Tt),Ie(gt)}function If(t,e,r){if(gt.current!==rn)throw Error(U(168));we(gt,e),we(Tt,r)}function h1(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(U(108,lv(t)||"Unknown",i));return ke({},r,n)}function Oo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rn,En=gt.current,we(gt,t),we(Tt,Tt.current),!0}function Nf(t,e,r){var n=t.stateNode;if(!n)throw Error(U(169));r?(t=h1(t,e,En),n.__reactInternalMemoizedMergedChildContext=t,Ie(Tt),Ie(gt),we(gt,t)):Ie(Tt),we(Tt,r)}var Cr=null,ns=!1,Hs=!1;function p1(t){Cr===null?Cr=[t]:Cr.push(t)}function Ig(t){ns=!0,p1(t)}function on(){if(!Hs&&Cr!==null){Hs=!0;var t=0,e=ge;try{var r=Cr;for(ge=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Cr=null,ns=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(t+1)),j0($l,on),i}finally{ge=e,Hs=!1}}return null}var Vn=[],Hn=0,To=null,Ro=0,Wt=[],Gt=0,Cn=null,Ar=1,Sr="";function cn(t,e){Vn[Hn++]=Ro,Vn[Hn++]=To,To=t,Ro=e}function v1(t,e,r){Wt[Gt++]=Ar,Wt[Gt++]=Sr,Wt[Gt++]=Cn,Cn=t;var n=Ar;t=Sr;var i=32-sr(n)-1;n&=~(1<<i),r+=1;var a=32-sr(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ar=1<<32-sr(e)+i|r<<i|n,Sr=a+t}else Ar=1<<a|r<<i|n,Sr=t}function Jl(t){t.return!==null&&(cn(t,1),v1(t,1,0))}function ec(t){for(;t===To;)To=Vn[--Hn],Vn[Hn]=null,Ro=Vn[--Hn],Vn[Hn]=null;for(;t===Cn;)Cn=Wt[--Gt],Wt[Gt]=null,Sr=Wt[--Gt],Wt[Gt]=null,Ar=Wt[--Gt],Wt[Gt]=null}var jt=null,Ft=null,Ne=!1,ir=null;function g1(t,e){var r=Xt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Of(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Ft=Yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Cn!==null?{id:Ar,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Xt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,jt=t,Ft=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xu(t){if(Ne){var e=Ft;if(e){var r=e;if(!Of(t,e)){if(Gu(t))throw Error(U(418));e=Yr(r.nextSibling);var n=jt;e&&Of(t,e)?g1(n,r):(t.flags=t.flags&-4097|2,Ne=!1,jt=t)}}else{if(Gu(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ne=!1,jt=t}}}function Tf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Ua(t){if(t!==jt)return!1;if(!Ne)return Tf(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vu(t.type,t.memoizedProps)),e&&(e=Ft)){if(Gu(t))throw x1(),Error(U(418));for(;e;)g1(t,e),e=Yr(e.nextSibling)}if(Tf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ft=Yr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ft=null}}else Ft=jt?Yr(t.stateNode.nextSibling):null;return!0}function x1(){for(var t=Ft;t;)t=Yr(t.nextSibling)}function ai(){Ft=jt=null,Ne=!1}function tc(t){ir===null?ir=[t]:ir.push(t)}var Ng=Pr.ReactCurrentBatchConfig;function Ni(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(U(309));var n=r.stateNode}if(!n)throw Error(U(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(U(284));if(!r._owner)throw Error(U(290,t))}return t}function za(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rf(t){var e=t._init;return e(t._payload)}function y1(t){function e(y,x){if(t){var m=y.deletions;m===null?(y.deletions=[x],y.flags|=16):m.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Qr(y,x),y.index=0,y.sibling=null,y}function a(y,x,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<x?(y.flags|=2,x):m):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,x,m,_){return x===null||x.tag!==6?(x=Zs(m,y.mode,_),x.return=y,x):(x=i(x,m),x.return=y,x)}function u(y,x,m,_){var A=m.type;return A===Ln?c(y,x,m.props.children,_,m.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Fr&&Rf(A)===x.type)?(_=i(x,m.props),_.ref=Ni(y,x,m),_.return=y,_):(_=lo(m.type,m.key,m.props,null,y.mode,_),_.ref=Ni(y,x,m),_.return=y,_)}function l(y,x,m,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=qs(m,y.mode,_),x.return=y,x):(x=i(x,m.children||[]),x.return=y,x)}function c(y,x,m,_,A){return x===null||x.tag!==7?(x=mn(m,y.mode,_,A),x.return=y,x):(x=i(x,m),x.return=y,x)}function f(y,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Zs(""+x,y.mode,m),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ra:return m=lo(x.type,x.key,x.props,null,y.mode,m),m.ref=Ni(y,null,x),m.return=y,m;case Mn:return x=qs(x,y.mode,m),x.return=y,x;case Fr:var _=x._init;return f(y,_(x._payload),m)}if(Li(x)||Ei(x))return x=mn(x,y.mode,m,null),x.return=y,x;za(y,x)}return null}function d(y,x,m,_){var A=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return A!==null?null:s(y,x,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ra:return m.key===A?u(y,x,m,_):null;case Mn:return m.key===A?l(y,x,m,_):null;case Fr:return A=m._init,d(y,x,A(m._payload),_)}if(Li(m)||Ei(m))return A!==null?null:c(y,x,m,_,null);za(y,m)}return null}function h(y,x,m,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(m)||null,s(x,y,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ra:return y=y.get(_.key===null?m:_.key)||null,u(x,y,_,A);case Mn:return y=y.get(_.key===null?m:_.key)||null,l(x,y,_,A);case Fr:var I=_._init;return h(y,x,m,I(_._payload),A)}if(Li(_)||Ei(_))return y=y.get(m)||null,c(x,y,_,A,null);za(x,_)}return null}function v(y,x,m,_){for(var A=null,I=null,S=x,N=x=0,b=null;S!==null&&N<m.length;N++){S.index>N?(b=S,S=null):b=S.sibling;var P=d(y,S,m[N],_);if(P===null){S===null&&(S=b);break}t&&S&&P.alternate===null&&e(y,S),x=a(P,x,N),I===null?A=P:I.sibling=P,I=P,S=b}if(N===m.length)return r(y,S),Ne&&cn(y,N),A;if(S===null){for(;N<m.length;N++)S=f(y,m[N],_),S!==null&&(x=a(S,x,N),I===null?A=S:I.sibling=S,I=S);return Ne&&cn(y,N),A}for(S=n(y,S);N<m.length;N++)b=h(S,y,N,m[N],_),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?N:b.key),x=a(b,x,N),I===null?A=b:I.sibling=b,I=b);return t&&S.forEach(function(R){return e(y,R)}),Ne&&cn(y,N),A}function g(y,x,m,_){var A=Ei(m);if(typeof A!="function")throw Error(U(150));if(m=A.call(m),m==null)throw Error(U(151));for(var I=A=null,S=x,N=x=0,b=null,P=m.next();S!==null&&!P.done;N++,P=m.next()){S.index>N?(b=S,S=null):b=S.sibling;var R=d(y,S,P.value,_);if(R===null){S===null&&(S=b);break}t&&S&&R.alternate===null&&e(y,S),x=a(R,x,N),I===null?A=R:I.sibling=R,I=R,S=b}if(P.done)return r(y,S),Ne&&cn(y,N),A;if(S===null){for(;!P.done;N++,P=m.next())P=f(y,P.value,_),P!==null&&(x=a(P,x,N),I===null?A=P:I.sibling=P,I=P);return Ne&&cn(y,N),A}for(S=n(y,S);!P.done;N++,P=m.next())P=h(S,y,N,P.value,_),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?N:P.key),x=a(P,x,N),I===null?A=P:I.sibling=P,I=P);return t&&S.forEach(function(z){return e(y,z)}),Ne&&cn(y,N),A}function w(y,x,m,_){if(typeof m=="object"&&m!==null&&m.type===Ln&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ra:e:{for(var A=m.key,I=x;I!==null;){if(I.key===A){if(A=m.type,A===Ln){if(I.tag===7){r(y,I.sibling),x=i(I,m.props.children),x.return=y,y=x;break e}}else if(I.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Fr&&Rf(A)===I.type){r(y,I.sibling),x=i(I,m.props),x.ref=Ni(y,I,m),x.return=y,y=x;break e}r(y,I);break}else e(y,I);I=I.sibling}m.type===Ln?(x=mn(m.props.children,y.mode,_,m.key),x.return=y,y=x):(_=lo(m.type,m.key,m.props,null,y.mode,_),_.ref=Ni(y,x,m),_.return=y,y=_)}return o(y);case Mn:e:{for(I=m.key;x!==null;){if(x.key===I)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(y,x.sibling),x=i(x,m.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=qs(m,y.mode,_),x.return=y,y=x}return o(y);case Fr:return I=m._init,w(y,x,I(m._payload),_)}if(Li(m))return v(y,x,m,_);if(Ei(m))return g(y,x,m,_);za(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,m),x.return=y,y=x):(r(y,x),x=Zs(m,y.mode,_),x.return=y,y=x),o(y)):r(y,x)}return w}var oi=y1(!0),m1=y1(!1),Do=an(null),bo=null,$n=null,rc=null;function nc(){rc=$n=bo=null}function ic(t){var e=Do.current;Ie(Do),t._currentValue=e}function Yu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ti(t,e){bo=t,rc=$n=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(rc!==t)if(t={context:t,memoizedValue:e,next:null},$n===null){if(bo===null)throw Error(U(308));$n=t,bo.dependencies={lanes:0,firstContext:t}}else $n=$n.next=t;return e}var pn=null;function ac(t){pn===null?pn=[t]:pn.push(t)}function w1(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ac(e)):(r.next=i.next,i.next=r),e.interleaved=r,Rr(t,n)}function Rr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var jr=!1;function oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Rr(t,r)}return i=n.interleaved,i===null?(e.next=e,ac(n)):(e.next=i.next,i.next=e),n.interleaved=e,Rr(t,r)}function no(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wl(t,r)}}function Df(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Po(t,e,r,n){var i=t.updateQueue;jr=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,o===null?a=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(a!==null){var f=i.baseState;o=0,c=l=u=null,s=a;do{var d=s.lane,h=s.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,g=s;switch(d=e,h=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=ke({},f,d);break e;case 2:jr=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Sn|=o,t.lanes=o,t.memoizedState=f}}function bf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(U(191,i));i.call(n)}}}var wa={},mr=an(wa),ua=an(wa),la=an(wa);function vn(t){if(t===wa)throw Error(U(174));return t}function sc(t,e){switch(we(la,e),we(ua,t),we(mr,wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ou(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ou(e,t)}Ie(mr),we(mr,e)}function si(){Ie(mr),Ie(ua),Ie(la)}function E1(t){vn(la.current);var e=vn(mr.current),r=Ou(e,t.type);e!==r&&(we(ua,t),we(mr,r))}function uc(t){ua.current===t&&(Ie(mr),Ie(ua))}var be=an(0);function ko(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $s=[];function lc(){for(var t=0;t<$s.length;t++)$s[t]._workInProgressVersionPrimary=null;$s.length=0}var io=Pr.ReactCurrentDispatcher,Ws=Pr.ReactCurrentBatchConfig,An=0,Pe=null,He=null,Je=null,Mo=!1,Xi=!1,ca=0,Og=0;function lt(){throw Error(U(321))}function cc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!lr(t[r],e[r]))return!1;return!0}function fc(t,e,r,n,i,a){if(An=a,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,io.current=t===null||t.memoizedState===null?bg:Pg,t=r(n,i),Xi){a=0;do{if(Xi=!1,ca=0,25<=a)throw Error(U(301));a+=1,Je=He=null,e.updateQueue=null,io.current=kg,t=r(n,i)}while(Xi)}if(io.current=Lo,e=He!==null&&He.next!==null,An=0,Je=He=Pe=null,Mo=!1,e)throw Error(U(300));return t}function dc(){var t=ca!==0;return ca=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Pe.memoizedState=Je=t:Je=Je.next=t,Je}function Qt(){if(He===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Je===null?Pe.memoizedState:Je.next;if(e!==null)Je=e,He=t;else{if(t===null)throw Error(U(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Je===null?Pe.memoizedState=Je=t:Je=Je.next=t}return Je}function fa(t,e){return typeof e=="function"?e(t):e}function Gs(t){var e=Qt(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var n=He,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,u=null,l=a;do{var c=l.lane;if((An&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=f,o=n):u=u.next=f,Pe.lanes|=c,Sn|=c}l=l.next}while(l!==null&&l!==a);u===null?o=n:u.next=s,lr(n,e.memoizedState)||(Ot=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Pe.lanes|=a,Sn|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Xs(t){var e=Qt(),r=e.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);lr(a,e.memoizedState)||(Ot=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function C1(){}function A1(t,e){var r=Pe,n=Qt(),i=e(),a=!lr(n.memoizedState,i);if(a&&(n.memoizedState=i,Ot=!0),n=n.queue,hc(N1.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,da(9,I1.bind(null,r,n,i,e),void 0,null),tt===null)throw Error(U(349));An&30||S1(r,e,i)}return i}function S1(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function I1(t,e,r,n){e.value=r,e.getSnapshot=n,O1(e)&&T1(t)}function N1(t,e,r){return r(function(){O1(e)&&T1(t)})}function O1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!lr(t,r)}catch{return!0}}function T1(t){var e=Rr(t,1);e!==null&&ur(e,t,1,-1)}function Pf(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},e.queue=t,t=t.dispatch=Dg.bind(null,Pe,t),[e.memoizedState,t]}function da(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function R1(){return Qt().memoizedState}function ao(t,e,r,n){var i=pr();Pe.flags|=t,i.memoizedState=da(1|e,r,void 0,n===void 0?null:n)}function is(t,e,r,n){var i=Qt();n=n===void 0?null:n;var a=void 0;if(He!==null){var o=He.memoizedState;if(a=o.destroy,n!==null&&cc(n,o.deps)){i.memoizedState=da(e,r,a,n);return}}Pe.flags|=t,i.memoizedState=da(1|e,r,a,n)}function kf(t,e){return ao(8390656,8,t,e)}function hc(t,e){return is(2048,8,t,e)}function D1(t,e){return is(4,2,t,e)}function b1(t,e){return is(4,4,t,e)}function P1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k1(t,e,r){return r=r!=null?r.concat([t]):null,is(4,4,P1.bind(null,e,t),r)}function pc(){}function M1(t,e){var r=Qt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function L1(t,e){var r=Qt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function B1(t,e,r){return An&21?(lr(r,e)||(r=V0(),Pe.lanes|=r,Sn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=r)}function Tg(t,e){var r=ge;ge=r!==0&&4>r?r:4,t(!0);var n=Ws.transition;Ws.transition={};try{t(!1),e()}finally{ge=r,Ws.transition=n}}function F1(){return Qt().memoizedState}function Rg(t,e,r){var n=qr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j1(t))U1(e,r);else if(r=w1(t,e,r,n),r!==null){var i=Et();ur(r,t,n,i),z1(r,e,n)}}function Dg(t,e,r){var n=qr(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j1(t))U1(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,lr(s,o)){var u=e.interleaved;u===null?(i.next=i,ac(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=w1(t,e,i,n),r!==null&&(i=Et(),ur(r,t,n,i),z1(r,e,n))}}function j1(t){var e=t.alternate;return t===Pe||e!==null&&e===Pe}function U1(t,e){Xi=Mo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function z1(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wl(t,r)}}var Lo={readContext:qt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},bg={readContext:qt,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:kf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ao(4194308,4,P1.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ao(4194308,4,t,e)},useInsertionEffect:function(t,e){return ao(4,2,t,e)},useMemo:function(t,e){var r=pr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=pr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Rg.bind(null,Pe,t),[n.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:Pf,useDebugValue:pc,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=Pf(!1),e=t[0];return t=Tg.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Pe,i=pr();if(Ne){if(r===void 0)throw Error(U(407));r=r()}else{if(r=e(),tt===null)throw Error(U(349));An&30||S1(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,kf(N1.bind(null,n,a,t),[t]),n.flags|=2048,da(9,I1.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=pr(),e=tt.identifierPrefix;if(Ne){var r=Sr,n=Ar;r=(n&~(1<<32-sr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ca++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Og++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pg={readContext:qt,useCallback:M1,useContext:qt,useEffect:hc,useImperativeHandle:k1,useInsertionEffect:D1,useLayoutEffect:b1,useMemo:L1,useReducer:Gs,useRef:R1,useState:function(){return Gs(fa)},useDebugValue:pc,useDeferredValue:function(t){var e=Qt();return B1(e,He.memoizedState,t)},useTransition:function(){var t=Gs(fa)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:C1,useSyncExternalStore:A1,useId:F1,unstable_isNewReconciler:!1},kg={readContext:qt,useCallback:M1,useContext:qt,useEffect:hc,useImperativeHandle:k1,useInsertionEffect:D1,useLayoutEffect:b1,useMemo:L1,useReducer:Xs,useRef:R1,useState:function(){return Xs(fa)},useDebugValue:pc,useDeferredValue:function(t){var e=Qt();return He===null?e.memoizedState=t:B1(e,He.memoizedState,t)},useTransition:function(){var t=Xs(fa)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:C1,useSyncExternalStore:A1,useId:F1,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ku(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ke({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var as={isMounted:function(t){return(t=t._reactInternals)?Tn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Et(),i=qr(t),a=Ir(n,i);a.payload=e,r!=null&&(a.callback=r),e=Kr(t,a,i),e!==null&&(ur(e,t,i,n),no(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Et(),i=qr(t),a=Ir(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Kr(t,a,i),e!==null&&(ur(e,t,i,n),no(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Et(),n=qr(t),i=Ir(r,n);i.tag=2,e!=null&&(i.callback=e),e=Kr(t,i,n),e!==null&&(ur(e,t,n,r),no(e,t,n))}};function Mf(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!ia(r,n)||!ia(i,a):!0}function V1(t,e,r){var n=!1,i=rn,a=e.contextType;return typeof a=="object"&&a!==null?a=qt(a):(i=Rt(e)?En:gt.current,n=e.contextTypes,a=(n=n!=null)?ii(t,i):rn),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=as,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Lf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&as.enqueueReplaceState(e,e.state,null)}function Zu(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},oc(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=qt(a):(a=Rt(e)?En:gt.current,i.context=ii(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ku(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&as.enqueueReplaceState(i,i.state,null),Po(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ui(t,e){try{var r="",n=e;do r+=uv(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Ys(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function qu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Mg=typeof WeakMap=="function"?WeakMap:Map;function H1(t,e,r){r=Ir(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Fo||(Fo=!0,sl=n),qu(t,e)},r}function $1(t,e,r){r=Ir(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){qu(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){qu(t,e),typeof n!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Bf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Mg;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Kg.bind(null,t,e,r),e.then(t,t))}function Ff(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jf(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ir(-1,1),e.tag=2,Kr(r,e,1))),r.lanes|=1),t)}var Lg=Pr.ReactCurrentOwner,Ot=!1;function _t(t,e,r,n){e.child=t===null?m1(e,null,r,n):oi(e,t.child,r,n)}function Uf(t,e,r,n,i){r=r.render;var a=e.ref;return ti(e,i),n=fc(t,e,r,n,a,i),r=dc(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Ne&&r&&Jl(e),e.flags|=1,_t(t,e,n,i),e.child)}function zf(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Ec(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,W1(t,e,a,n,i)):(t=lo(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ia,r(o,n)&&t.ref===e.ref)return Dr(t,e,i)}return e.flags|=1,t=Qr(a,n),t.ref=e.ref,t.return=e,e.child=t}function W1(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(ia(a,n)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,Dr(t,e,i)}return Qu(t,e,r,n,i)}function G1(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Gn,Bt),Bt|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Gn,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,we(Gn,Bt),Bt|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,we(Gn,Bt),Bt|=n;return _t(t,e,i,r),e.child}function X1(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Qu(t,e,r,n,i){var a=Rt(r)?En:gt.current;return a=ii(e,a),ti(e,i),r=fc(t,e,r,n,a,i),n=dc(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(Ne&&n&&Jl(e),e.flags|=1,_t(t,e,r,i),e.child)}function Vf(t,e,r,n,i){if(Rt(r)){var a=!0;Oo(e)}else a=!1;if(ti(e,i),e.stateNode===null)oo(t,e),V1(e,r,n),Zu(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=qt(l):(l=Rt(r)?En:gt.current,l=ii(e,l));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||u!==l)&&Lf(e,o,n,l),jr=!1;var d=e.memoizedState;o.state=d,Po(e,n,o,i),u=e.memoizedState,s!==n||d!==u||Tt.current||jr?(typeof c=="function"&&(Ku(e,r,c,n),u=e.memoizedState),(s=jr||Mf(e,r,s,n,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_1(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:rr(e.type,s),o.props=l,f=e.pendingProps,d=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=qt(u):(u=Rt(r)?En:gt.current,u=ii(e,u));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==u)&&Lf(e,o,n,u),jr=!1,d=e.memoizedState,o.state=d,Po(e,n,o,i);var v=e.memoizedState;s!==f||d!==v||Tt.current||jr?(typeof h=="function"&&(Ku(e,r,h,n),v=e.memoizedState),(l=jr||Mf(e,r,l,n,d,v,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Ju(t,e,r,n,a,i)}function Ju(t,e,r,n,i,a){X1(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Nf(e,r,!1),Dr(t,e,a);n=e.stateNode,Lg.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=oi(e,t.child,null,a),e.child=oi(e,null,s,a)):_t(t,e,s,a),e.memoizedState=n.state,i&&Nf(e,r,!0),e.child}function Y1(t){var e=t.stateNode;e.pendingContext?If(t,e.pendingContext,e.pendingContext!==e.context):e.context&&If(t,e.context,!1),sc(t,e.containerInfo)}function Hf(t,e,r,n,i){return ai(),tc(i),e.flags|=256,_t(t,e,r,n),e.child}var el={dehydrated:null,treeContext:null,retryLane:0};function tl(t){return{baseLanes:t,cachePool:null,transitions:null}}function K1(t,e,r){var n=e.pendingProps,i=be.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(be,i&1),t===null)return Xu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=us(o,n,0,null),t=mn(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=tl(r),e.memoizedState=el,t):vc(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Bg(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Qr(i,u),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Qr(s,a):(a=mn(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?tl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=el,n}return a=t.child,t=a.sibling,n=Qr(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function vc(t,e){return e=us({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Va(t,e,r,n){return n!==null&&tc(n),oi(e,t.child,null,r),t=vc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bg(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Ys(Error(U(422))),Va(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=us({mode:"visible",children:n.children},i,0,null),a=mn(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&oi(e,t.child,null,o),e.child.memoizedState=tl(o),e.memoizedState=el,a);if(!(e.mode&1))return Va(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(U(419)),n=Ys(a,n,void 0),Va(t,e,o,n)}if(s=(o&t.childLanes)!==0,Ot||s){if(n=tt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Rr(t,i),ur(n,t,i,-1))}return _c(),n=Ys(Error(U(421))),Va(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Zg.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ft=Yr(i.nextSibling),jt=e,Ne=!0,ir=null,t!==null&&(Wt[Gt++]=Ar,Wt[Gt++]=Sr,Wt[Gt++]=Cn,Ar=t.id,Sr=t.overflow,Cn=e),e=vc(e,n.children),e.flags|=4096,e)}function $f(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Yu(t.return,e,r)}function Ks(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Z1(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(_t(t,e,n.children,r),n=be.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$f(t,r,e);else if(t.tag===19)$f(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(we(be,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ko(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ks(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ko(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ks(e,!0,r,null,a);break;case"together":Ks(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Sn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,r=Qr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Fg(t,e,r){switch(e.tag){case 3:Y1(e),ai();break;case 5:E1(e);break;case 1:Rt(e.type)&&Oo(e);break;case 4:sc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;we(Do,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(we(be,be.current&1),e.flags|=128,null):r&e.child.childLanes?K1(t,e,r):(we(be,be.current&1),t=Dr(t,e,r),t!==null?t.sibling:null);we(be,be.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Z1(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(be,be.current),n)break;return null;case 22:case 23:return e.lanes=0,G1(t,e,r)}return Dr(t,e,r)}var q1,rl,Q1,J1;q1=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rl=function(){};Q1=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,vn(mr.current);var a=null;switch(r){case"input":i=Au(t,i),n=Au(t,n),a=[];break;case"select":i=ke({},i,{value:void 0}),n=ke({},n,{value:void 0}),a=[];break;case"textarea":i=Nu(t,i),n=Nu(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Io)}Tu(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(qi.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var u=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(a||(a=[]),a.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(a=a||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(qi.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ce("scroll",t),a||s===u||(a=[])):(a=a||[]).push(l,u))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};J1=function(t,e,r,n){r!==n&&(e.flags|=4)};function Oi(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function jg(t,e,r){var n=e.pendingProps;switch(ec(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return Rt(e.type)&&No(),ct(e),null;case 3:return n=e.stateNode,si(),Ie(Tt),Ie(gt),lc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ua(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(cl(ir),ir=null))),rl(t,e),ct(e),null;case 5:uc(e);var i=vn(la.current);if(r=e.type,t!==null&&e.stateNode!=null)Q1(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(U(166));return ct(e),null}if(t=vn(mr.current),Ua(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[gr]=e,n[sa]=a,t=(e.mode&1)!==0,r){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(i=0;i<Fi.length;i++)Ce(Fi[i],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Qc(n,a),Ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ce("invalid",n);break;case"textarea":ef(n,a),Ce("invalid",n)}Tu(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&ja(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&ja(n.textContent,s,t),i=["children",""+s]):qi.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ce("scroll",n)}switch(r){case"input":Da(n),Jc(n,a,!0);break;case"textarea":Da(n),tf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Io)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[gr]=e,t[sa]=n,q1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ru(r,n),r){case"dialog":Ce("cancel",t),Ce("close",t),i=n;break;case"iframe":case"object":case"embed":Ce("load",t),i=n;break;case"video":case"audio":for(i=0;i<Fi.length;i++)Ce(Fi[i],t);i=n;break;case"source":Ce("error",t),i=n;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=n;break;case"details":Ce("toggle",t),i=n;break;case"input":Qc(t,n),i=Au(t,n),Ce("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ke({},n,{value:void 0}),Ce("invalid",t);break;case"textarea":ef(t,n),i=Nu(t,n),Ce("invalid",t);break;default:i=n}Tu(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="style"?R0(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&O0(t,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Qi(t,u):typeof u=="number"&&Qi(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qi.hasOwnProperty(a)?u!=null&&a==="onScroll"&&Ce("scroll",t):u!=null&&jl(t,a,u,o))}switch(r){case"input":Da(t),Jc(t,n,!1);break;case"textarea":Da(t),tf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+tn(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?qn(t,!!n.multiple,a,!1):n.defaultValue!=null&&qn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Io)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)J1(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(U(166));if(r=vn(la.current),vn(mr.current),Ua(e)){if(n=e.stateNode,r=e.memoizedProps,n[gr]=e,(a=n.nodeValue!==r)&&(t=jt,t!==null))switch(t.tag){case 3:ja(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ja(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gr]=e,e.stateNode=n}return ct(e),null;case 13:if(Ie(be),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Ft!==null&&e.mode&1&&!(e.flags&128))x1(),ai(),e.flags|=98560,a=!1;else if(a=Ua(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(U(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));a[gr]=e}else ai(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),a=!1}else ir!==null&&(cl(ir),ir=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Xe===0&&(Xe=3):_c())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return si(),rl(t,e),t===null&&aa(e.stateNode.containerInfo),ct(e),null;case 10:return ic(e.type._context),ct(e),null;case 17:return Rt(e.type)&&No(),ct(e),null;case 19:if(Ie(be),a=e.memoizedState,a===null)return ct(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Oi(a,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ko(t),o!==null){for(e.flags|=128,Oi(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return we(be,be.current&1|2),e.child}t=t.sibling}a.tail!==null&&Be()>li&&(e.flags|=128,n=!0,Oi(a,!1),e.lanes=4194304)}else{if(!n)if(t=ko(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Oi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ne)return ct(e),null}else 2*Be()-a.renderingStartTime>li&&r!==1073741824&&(e.flags|=128,n=!0,Oi(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Be(),e.sibling=null,r=be.current,we(be,n?r&1|2:r&1),e):(ct(e),null);case 22:case 23:return wc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Bt&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Ug(t,e){switch(ec(e),e.tag){case 1:return Rt(e.type)&&No(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return si(),Ie(Tt),Ie(gt),lc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uc(e),null;case 13:if(Ie(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ai()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(be),null;case 4:return si(),null;case 10:return ic(e.type._context),null;case 22:case 23:return wc(),null;case 24:return null;default:return null}}var Ha=!1,vt=!1,zg=typeof WeakSet=="function"?WeakSet:Set,G=null;function Wn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Me(t,e,n)}else r.current=null}function nl(t,e,r){try{r()}catch(n){Me(t,e,n)}}var Wf=!1;function Vg(t,e){if(Uu=Co,t=i1(),Ql(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,u=-1,l=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++l===i&&(s=o),d===a&&++c===n&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=s===-1||u===-1?null:{start:s,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(zu={focusedElem:t,selectionRange:r},Co=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:rr(e.type,g),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(_){Me(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return v=Wf,Wf=!1,v}function Yi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&nl(e,r,a)}i=i.next}while(i!==n)}}function os(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function il(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function eh(t){var e=t.alternate;e!==null&&(t.alternate=null,eh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[sa],delete e[$u],delete e[Ag],delete e[Sg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function th(t){return t.tag===5||t.tag===3||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||th(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function al(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Io));else if(n!==4&&(t=t.child,t!==null))for(al(t,e,r),t=t.sibling;t!==null;)al(t,e,r),t=t.sibling}function ol(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ol(t,e,r),t=t.sibling;t!==null;)ol(t,e,r),t=t.sibling}var it=null,nr=!1;function kr(t,e,r){for(r=r.child;r!==null;)rh(t,e,r),r=r.sibling}function rh(t,e,r){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Qo,r)}catch{}switch(r.tag){case 5:vt||Wn(r,e);case 6:var n=it,i=nr;it=null,kr(t,e,r),it=n,nr=i,it!==null&&(nr?(t=it,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):it.removeChild(r.stateNode));break;case 18:it!==null&&(nr?(t=it,r=r.stateNode,t.nodeType===8?Vs(t.parentNode,r):t.nodeType===1&&Vs(t,r),ra(t)):Vs(it,r.stateNode));break;case 4:n=it,i=nr,it=r.stateNode.containerInfo,nr=!0,kr(t,e,r),it=n,nr=i;break;case 0:case 11:case 14:case 15:if(!vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&nl(r,e,o),i=i.next}while(i!==n)}kr(t,e,r);break;case 1:if(!vt&&(Wn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Me(r,e,s)}kr(t,e,r);break;case 21:kr(t,e,r);break;case 22:r.mode&1?(vt=(n=vt)||r.memoizedState!==null,kr(t,e,r),vt=n):kr(t,e,r);break;default:kr(t,e,r)}}function Xf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zg),e.forEach(function(n){var i=qg.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function er(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:it=s.stateNode,nr=!1;break e;case 3:it=s.stateNode.containerInfo,nr=!0;break e;case 4:it=s.stateNode.containerInfo,nr=!0;break e}s=s.return}if(it===null)throw Error(U(160));rh(a,o,i),it=null,nr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Me(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nh(e,t),e=e.sibling}function nh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),hr(t),n&4){try{Yi(3,t,t.return),os(3,t)}catch(g){Me(t,t.return,g)}try{Yi(5,t,t.return)}catch(g){Me(t,t.return,g)}}break;case 1:er(e,t),hr(t),n&512&&r!==null&&Wn(r,r.return);break;case 5:if(er(e,t),hr(t),n&512&&r!==null&&Wn(r,r.return),t.flags&32){var i=t.stateNode;try{Qi(i,"")}catch(g){Me(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&S0(i,a),Ru(s,o);var l=Ru(s,a);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?R0(i,f):c==="dangerouslySetInnerHTML"?O0(i,f):c==="children"?Qi(i,f):jl(i,c,f,l)}switch(s){case"input":Su(i,a);break;case"textarea":I0(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?qn(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?qn(i,!!a.multiple,a.defaultValue,!0):qn(i,!!a.multiple,a.multiple?[]:"",!1))}i[sa]=a}catch(g){Me(t,t.return,g)}}break;case 6:if(er(e,t),hr(t),n&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){Me(t,t.return,g)}}break;case 3:if(er(e,t),hr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ra(e.containerInfo)}catch(g){Me(t,t.return,g)}break;case 4:er(e,t),hr(t);break;case 13:er(e,t),hr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(yc=Be())),n&4&&Xf(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(vt=(l=vt)||c,er(e,t),vt=l):er(e,t),hr(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(G=t,c=t.child;c!==null;){for(f=G=c;G!==null;){switch(d=G,h=d.child,d.tag){case 0:case 11:case 14:case 15:Yi(4,d,d.return);break;case 1:Wn(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Me(n,r,g)}}break;case 5:Wn(d,d.return);break;case 22:if(d.memoizedState!==null){Kf(f);continue}}h!==null?(h.return=d,G=h):Kf(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=T0("display",o))}catch(g){Me(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Me(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:er(e,t),hr(t),n&4&&Xf(t);break;case 21:break;default:er(e,t),hr(t)}}function hr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(th(r)){var n=r;break e}r=r.return}throw Error(U(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Qi(i,""),n.flags&=-33);var a=Gf(t);ol(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Gf(t);al(t,s,o);break;default:throw Error(U(161))}}catch(u){Me(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hg(t,e,r){G=t,ih(t)}function ih(t,e,r){for(var n=(t.mode&1)!==0;G!==null;){var i=G,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ha;if(!o){var s=i.alternate,u=s!==null&&s.memoizedState!==null||vt;s=Ha;var l=vt;if(Ha=o,(vt=u)&&!l)for(G=i;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?Zf(i):u!==null?(u.return=o,G=u):Zf(i);for(;a!==null;)G=a,ih(a),a=a.sibling;G=i,Ha=s,vt=l}Yf(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,G=a):Yf(t)}}function Yf(t){for(;G!==null;){var e=G;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||os(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!vt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:rr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&bf(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}bf(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ra(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}vt||e.flags&512&&il(e)}catch(d){Me(e,e.return,d)}}if(e===t){G=null;break}if(r=e.sibling,r!==null){r.return=e.return,G=r;break}G=e.return}}function Kf(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var r=e.sibling;if(r!==null){r.return=e.return,G=r;break}G=e.return}}function Zf(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{os(4,e)}catch(u){Me(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Me(e,i,u)}}var a=e.return;try{il(e)}catch(u){Me(e,a,u)}break;case 5:var o=e.return;try{il(e)}catch(u){Me(e,o,u)}}}catch(u){Me(e,e.return,u)}if(e===t){G=null;break}var s=e.sibling;if(s!==null){s.return=e.return,G=s;break}G=e.return}}var $g=Math.ceil,Bo=Pr.ReactCurrentDispatcher,gc=Pr.ReactCurrentOwner,Kt=Pr.ReactCurrentBatchConfig,oe=0,tt=null,je=null,ot=0,Bt=0,Gn=an(0),Xe=0,ha=null,Sn=0,ss=0,xc=0,Ki=null,It=null,yc=0,li=1/0,Er=null,Fo=!1,sl=null,Zr=null,$a=!1,$r=null,jo=0,Zi=0,ul=null,so=-1,uo=0;function Et(){return oe&6?Be():so!==-1?so:so=Be()}function qr(t){return t.mode&1?oe&2&&ot!==0?ot&-ot:Ng.transition!==null?(uo===0&&(uo=V0()),uo):(t=ge,t!==0||(t=window.event,t=t===void 0?16:K0(t.type)),t):1}function ur(t,e,r,n){if(50<Zi)throw Zi=0,ul=null,Error(U(185));xa(t,r,n),(!(oe&2)||t!==tt)&&(t===tt&&(!(oe&2)&&(ss|=r),Xe===4&&Vr(t,ot)),Dt(t,n),r===1&&oe===0&&!(e.mode&1)&&(li=Be()+500,ns&&on()))}function Dt(t,e){var r=t.callbackNode;Nv(t,e);var n=Eo(t,t===tt?ot:0);if(n===0)r!==null&&af(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&af(r),e===1)t.tag===0?Ig(qf.bind(null,t)):p1(qf.bind(null,t)),Eg(function(){!(oe&6)&&on()}),r=null;else{switch(H0(n)){case 1:r=$l;break;case 4:r=U0;break;case 16:r=_o;break;case 536870912:r=z0;break;default:r=_o}r=dh(r,ah.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ah(t,e){if(so=-1,uo=0,oe&6)throw Error(U(327));var r=t.callbackNode;if(ri()&&t.callbackNode!==r)return null;var n=Eo(t,t===tt?ot:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Uo(t,n);else{e=n;var i=oe;oe|=2;var a=sh();(tt!==t||ot!==e)&&(Er=null,li=Be()+500,yn(t,e));do try{Xg();break}catch(s){oh(t,s)}while(!0);nc(),Bo.current=a,oe=i,je!==null?e=0:(tt=null,ot=0,e=Xe)}if(e!==0){if(e===2&&(i=Mu(t),i!==0&&(n=i,e=ll(t,i))),e===1)throw r=ha,yn(t,0),Vr(t,n),Dt(t,Be()),r;if(e===6)Vr(t,n);else{if(i=t.current.alternate,!(n&30)&&!Wg(i)&&(e=Uo(t,n),e===2&&(a=Mu(t),a!==0&&(n=a,e=ll(t,a))),e===1))throw r=ha,yn(t,0),Vr(t,n),Dt(t,Be()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(U(345));case 2:fn(t,It,Er);break;case 3:if(Vr(t,n),(n&130023424)===n&&(e=yc+500-Be(),10<e)){if(Eo(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Et(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hu(fn.bind(null,t,It,Er),e);break}fn(t,It,Er);break;case 4:if(Vr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-sr(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$g(n/1960))-n,10<n){t.timeoutHandle=Hu(fn.bind(null,t,It,Er),n);break}fn(t,It,Er);break;case 5:fn(t,It,Er);break;default:throw Error(U(329))}}}return Dt(t,Be()),t.callbackNode===r?ah.bind(null,t):null}function ll(t,e){var r=Ki;return t.current.memoizedState.isDehydrated&&(yn(t,e).flags|=256),t=Uo(t,e),t!==2&&(e=It,It=r,e!==null&&cl(e)),t}function cl(t){It===null?It=t:It.push.apply(It,t)}function Wg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!lr(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~xc,e&=~ss,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-sr(e),n=1<<r;t[r]=-1,e&=~n}}function qf(t){if(oe&6)throw Error(U(327));ri();var e=Eo(t,0);if(!(e&1))return Dt(t,Be()),null;var r=Uo(t,e);if(t.tag!==0&&r===2){var n=Mu(t);n!==0&&(e=n,r=ll(t,n))}if(r===1)throw r=ha,yn(t,0),Vr(t,e),Dt(t,Be()),r;if(r===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fn(t,It,Er),Dt(t,Be()),null}function mc(t,e){var r=oe;oe|=1;try{return t(e)}finally{oe=r,oe===0&&(li=Be()+500,ns&&on())}}function In(t){$r!==null&&$r.tag===0&&!(oe&6)&&ri();var e=oe;oe|=1;var r=Kt.transition,n=ge;try{if(Kt.transition=null,ge=1,t)return t()}finally{ge=n,Kt.transition=r,oe=e,!(oe&6)&&on()}}function wc(){Bt=Gn.current,Ie(Gn)}function yn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,_g(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(ec(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&No();break;case 3:si(),Ie(Tt),Ie(gt),lc();break;case 5:uc(n);break;case 4:si();break;case 13:Ie(be);break;case 19:Ie(be);break;case 10:ic(n.type._context);break;case 22:case 23:wc()}r=r.return}if(tt=t,je=t=Qr(t.current,null),ot=Bt=e,Xe=0,ha=null,xc=ss=Sn=0,It=Ki=null,pn!==null){for(e=0;e<pn.length;e++)if(r=pn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}pn=null}return t}function oh(t,e){do{var r=je;try{if(nc(),io.current=Lo,Mo){for(var n=Pe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Mo=!1}if(An=0,Je=He=Pe=null,Xi=!1,ca=0,gc.current=null,r===null||r.return===null){Xe=1,ha=e,je=null;break}e:{var a=t,o=r.return,s=r,u=e;if(e=ot,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Ff(o);if(h!==null){h.flags&=-257,jf(h,o,s,a,e),h.mode&1&&Bf(a,l,e),e=h,u=l;var v=e.updateQueue;if(v===null){var g=new Set;g.add(u),e.updateQueue=g}else v.add(u);break e}else{if(!(e&1)){Bf(a,l,e),_c();break e}u=Error(U(426))}}else if(Ne&&s.mode&1){var w=Ff(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),jf(w,o,s,a,e),tc(ui(u,s));break e}}a=u=ui(u,s),Xe!==4&&(Xe=2),Ki===null?Ki=[a]:Ki.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=H1(a,u,e);Df(a,y);break e;case 1:s=u;var x=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zr===null||!Zr.has(m)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=$1(a,s,e);Df(a,_);break e}}a=a.return}while(a!==null)}lh(r)}catch(A){e=A,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function sh(){var t=Bo.current;return Bo.current=Lo,t===null?Lo:t}function _c(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),tt===null||!(Sn&268435455)&&!(ss&268435455)||Vr(tt,ot)}function Uo(t,e){var r=oe;oe|=2;var n=sh();(tt!==t||ot!==e)&&(Er=null,yn(t,e));do try{Gg();break}catch(i){oh(t,i)}while(!0);if(nc(),oe=r,Bo.current=n,je!==null)throw Error(U(261));return tt=null,ot=0,Xe}function Gg(){for(;je!==null;)uh(je)}function Xg(){for(;je!==null&&!yv();)uh(je)}function uh(t){var e=fh(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?lh(t):je=e,gc.current=null}function lh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ug(r,e),r!==null){r.flags&=32767,je=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,je=null;return}}else if(r=jg(r,e,Bt),r!==null){je=r;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Xe===0&&(Xe=5)}function fn(t,e,r){var n=ge,i=Kt.transition;try{Kt.transition=null,ge=1,Yg(t,e,r,n)}finally{Kt.transition=i,ge=n}return null}function Yg(t,e,r,n){do ri();while($r!==null);if(oe&6)throw Error(U(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(Ov(t,a),t===tt&&(je=tt=null,ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$a||($a=!0,dh(_o,function(){return ri(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Kt.transition,Kt.transition=null;var o=ge;ge=1;var s=oe;oe|=4,gc.current=null,Vg(t,r),nh(r,t),pg(zu),Co=!!Uu,zu=Uu=null,t.current=r,Hg(r),mv(),oe=s,ge=o,Kt.transition=a}else t.current=r;if($a&&($a=!1,$r=t,jo=i),a=t.pendingLanes,a===0&&(Zr=null),Ev(r.stateNode),Dt(t,Be()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Fo)throw Fo=!1,t=sl,sl=null,t;return jo&1&&t.tag!==0&&ri(),a=t.pendingLanes,a&1?t===ul?Zi++:(Zi=0,ul=t):Zi=0,on(),null}function ri(){if($r!==null){var t=H0(jo),e=Kt.transition,r=ge;try{if(Kt.transition=null,ge=16>t?16:t,$r===null)var n=!1;else{if(t=$r,$r=null,jo=0,oe&6)throw Error(U(331));var i=oe;for(oe|=4,G=t.current;G!==null;){var a=G,o=a.child;if(G.flags&16){var s=a.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(G=l;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:Yi(8,c,a)}var f=c.child;if(f!==null)f.return=c,G=f;else for(;G!==null;){c=G;var d=c.sibling,h=c.return;if(eh(c),c===l){G=null;break}if(d!==null){d.return=h,G=d;break}G=h}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}G=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,G=o;else e:for(;G!==null;){if(a=G,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Yi(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,G=y;break e}G=a.return}}var x=t.current;for(G=x;G!==null;){o=G;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,G=m;else e:for(o=x;G!==null;){if(s=G,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:os(9,s)}}catch(A){Me(s,s.return,A)}if(s===o){G=null;break e}var _=s.sibling;if(_!==null){_.return=s.return,G=_;break e}G=s.return}}if(oe=i,on(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Qo,t)}catch{}n=!0}return n}finally{ge=r,Kt.transition=e}}return!1}function Qf(t,e,r){e=ui(r,e),e=H1(t,e,1),t=Kr(t,e,1),e=Et(),t!==null&&(xa(t,1,e),Dt(t,e))}function Me(t,e,r){if(t.tag===3)Qf(t,t,r);else for(;e!==null;){if(e.tag===3){Qf(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zr===null||!Zr.has(n))){t=ui(r,t),t=$1(e,t,1),e=Kr(e,t,1),t=Et(),e!==null&&(xa(e,1,t),Dt(e,t));break}}e=e.return}}function Kg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&r,tt===t&&(ot&r)===r&&(Xe===4||Xe===3&&(ot&130023424)===ot&&500>Be()-yc?yn(t,0):xc|=r),Dt(t,e)}function ch(t,e){e===0&&(t.mode&1?(e=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):e=1);var r=Et();t=Rr(t,e),t!==null&&(xa(t,e,r),Dt(t,r))}function Zg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ch(t,r)}function qg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(U(314))}n!==null&&n.delete(e),ch(t,r)}var fh;fh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tt.current)Ot=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ot=!1,Fg(t,e,r);Ot=!!(t.flags&131072)}else Ot=!1,Ne&&e.flags&1048576&&v1(e,Ro,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;oo(t,e),t=e.pendingProps;var i=ii(e,gt.current);ti(e,r),i=fc(null,e,n,t,i,r);var a=dc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rt(n)?(a=!0,Oo(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oc(e),i.updater=as,e.stateNode=i,i._reactInternals=e,Zu(e,n,t,r),e=Ju(null,e,n,!0,a,r)):(e.tag=0,Ne&&a&&Jl(e),_t(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(oo(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Jg(n),t=rr(n,t),i){case 0:e=Qu(null,e,n,t,r);break e;case 1:e=Vf(null,e,n,t,r);break e;case 11:e=Uf(null,e,n,t,r);break e;case 14:e=zf(null,e,n,rr(n.type,t),r);break e}throw Error(U(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rr(n,i),Qu(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rr(n,i),Vf(t,e,n,i,r);case 3:e:{if(Y1(e),t===null)throw Error(U(387));n=e.pendingProps,a=e.memoizedState,i=a.element,_1(t,e),Po(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ui(Error(U(423)),e),e=Hf(t,e,n,r,i);break e}else if(n!==i){i=ui(Error(U(424)),e),e=Hf(t,e,n,r,i);break e}else for(Ft=Yr(e.stateNode.containerInfo.firstChild),jt=e,Ne=!0,ir=null,r=m1(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ai(),n===i){e=Dr(t,e,r);break e}_t(t,e,n,r)}e=e.child}return e;case 5:return E1(e),t===null&&Xu(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Vu(n,i)?o=null:a!==null&&Vu(n,a)&&(e.flags|=32),X1(t,e),_t(t,e,o,r),e.child;case 6:return t===null&&Xu(e),null;case 13:return K1(t,e,r);case 4:return sc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=oi(e,null,n,r):_t(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rr(n,i),Uf(t,e,n,i,r);case 7:return _t(t,e,e.pendingProps,r),e.child;case 8:return _t(t,e,e.pendingProps.children,r),e.child;case 12:return _t(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,we(Do,n._currentValue),n._currentValue=o,a!==null)if(lr(a.value,o)){if(a.children===i.children&&!Tt.current){e=Dr(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var u=s.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=Ir(-1,r&-r),u.tag=2;var l=a.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Yu(a.return,r,e),s.lanes|=r;break}u=u.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(U(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Yu(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_t(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ti(e,r),i=qt(i),n=n(i),e.flags|=1,_t(t,e,n,r),e.child;case 14:return n=e.type,i=rr(n,e.pendingProps),i=rr(n.type,i),zf(t,e,n,i,r);case 15:return W1(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:rr(n,i),oo(t,e),e.tag=1,Rt(n)?(t=!0,Oo(e)):t=!1,ti(e,r),V1(e,n,i),Zu(e,n,i,r),Ju(null,e,n,!0,t,r);case 19:return Z1(t,e,r);case 22:return G1(t,e,r)}throw Error(U(156,e.tag))};function dh(t,e){return j0(t,e)}function Qg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,r,n){return new Qg(t,e,r,n)}function Ec(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jg(t){if(typeof t=="function")return Ec(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zl)return 11;if(t===Vl)return 14}return 2}function Qr(t,e){var r=t.alternate;return r===null?(r=Xt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function lo(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")Ec(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ln:return mn(r.children,i,a,e);case Ul:o=8,i|=8;break;case wu:return t=Xt(12,r,e,i|2),t.elementType=wu,t.lanes=a,t;case _u:return t=Xt(13,r,e,i),t.elementType=_u,t.lanes=a,t;case Eu:return t=Xt(19,r,e,i),t.elementType=Eu,t.lanes=a,t;case E0:return us(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w0:o=10;break e;case _0:o=9;break e;case zl:o=11;break e;case Vl:o=14;break e;case Fr:o=16,n=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Xt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function mn(t,e,r,n){return t=Xt(7,t,n,e),t.lanes=r,t}function us(t,e,r,n){return t=Xt(22,t,n,e),t.elementType=E0,t.lanes=r,t.stateNode={isHidden:!1},t}function Zs(t,e,r){return t=Xt(6,t,null,e),t.lanes=r,t}function qs(t,e,r){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e2(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ds(0),this.expirationTimes=Ds(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ds(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cc(t,e,r,n,i,a,o,s,u){return t=new e2(t,e,r,s,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Xt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(a),t}function t2(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function hh(t){if(!t)return rn;t=t._reactInternals;e:{if(Tn(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var r=t.type;if(Rt(r))return h1(t,r,e)}return e}function ph(t,e,r,n,i,a,o,s,u){return t=Cc(r,n,!0,t,i,a,o,s,u),t.context=hh(null),r=t.current,n=Et(),i=qr(r),a=Ir(n,i),a.callback=e??null,Kr(r,a,i),t.current.lanes=i,xa(t,i,n),Dt(t,n),t}function ls(t,e,r,n){var i=e.current,a=Et(),o=qr(i);return r=hh(r),e.context===null?e.context=r:e.pendingContext=r,e=Ir(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Kr(i,e,o),t!==null&&(ur(t,i,o,a),no(t,i,o)),o}function zo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ac(t,e){Jf(t,e),(t=t.alternate)&&Jf(t,e)}function r2(){return null}var vh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sc(t){this._internalRoot=t}cs.prototype.render=Sc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));ls(t,e,null,null)};cs.prototype.unmount=Sc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;In(function(){ls(null,t,null,null)}),e[Tr]=null}};function cs(t){this._internalRoot=t}cs.prototype.unstable_scheduleHydration=function(t){if(t){var e=G0();t={blockedOn:null,target:t,priority:e};for(var r=0;r<zr.length&&e!==0&&e<zr[r].priority;r++);zr.splice(r,0,t),r===0&&Y0(t)}};function Ic(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ed(){}function n2(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var l=zo(o);a.call(l)}}var o=ph(e,n,t,0,null,!1,!1,"",ed);return t._reactRootContainer=o,t[Tr]=o.current,aa(t.nodeType===8?t.parentNode:t),In(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var l=zo(u);s.call(l)}}var u=Cc(t,0,!1,null,null,!1,!1,"",ed);return t._reactRootContainer=u,t[Tr]=u.current,aa(t.nodeType===8?t.parentNode:t),In(function(){ls(e,u,r,n)}),u}function ds(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var u=zo(o);s.call(u)}}ls(e,o,t,i)}else o=n2(r,e,t,i,n);return zo(o)}$0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Bi(e.pendingLanes);r!==0&&(Wl(e,r|1),Dt(e,Be()),!(oe&6)&&(li=Be()+500,on()))}break;case 13:In(function(){var n=Rr(t,1);if(n!==null){var i=Et();ur(n,t,1,i)}}),Ac(t,1)}};Gl=function(t){if(t.tag===13){var e=Rr(t,134217728);if(e!==null){var r=Et();ur(e,t,134217728,r)}Ac(t,134217728)}};W0=function(t){if(t.tag===13){var e=qr(t),r=Rr(t,e);if(r!==null){var n=Et();ur(r,t,e,n)}Ac(t,e)}};G0=function(){return ge};X0=function(t,e){var r=ge;try{return ge=t,e()}finally{ge=r}};bu=function(t,e,r){switch(e){case"input":if(Su(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=rs(n);if(!i)throw Error(U(90));A0(n),Su(n,i)}}}break;case"textarea":I0(t,r);break;case"select":e=r.value,e!=null&&qn(t,!!r.multiple,e,!1)}};P0=mc;k0=In;var i2={usingClientEntryPoint:!1,Events:[ma,Un,rs,D0,b0,mc]},Ti={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a2={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||r2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{Qo=Wa.inject(a2),yr=Wa}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i2;Vt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ic(e))throw Error(U(200));return t2(t,e,null,r)};Vt.createRoot=function(t,e){if(!Ic(t))throw Error(U(299));var r=!1,n="",i=vh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cc(t,1,!1,null,null,r,!1,n,i),t[Tr]=e.current,aa(t.nodeType===8?t.parentNode:t),new Sc(e)};Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=B0(e),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t){return In(t)};Vt.hydrate=function(t,e,r){if(!fs(e))throw Error(U(200));return ds(null,t,e,!0,r)};Vt.hydrateRoot=function(t,e,r){if(!Ic(t))throw Error(U(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=vh;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=ph(e,null,t,1,r??null,i,!1,a,o),t[Tr]=e.current,aa(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new cs(e)};Vt.render=function(t,e,r){if(!fs(e))throw Error(U(200));return ds(null,t,e,!1,r)};Vt.unmountComponentAtNode=function(t){if(!fs(t))throw Error(U(40));return t._reactRootContainer?(In(function(){ds(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};Vt.unstable_batchedUpdates=mc;Vt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!fs(r))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return ds(t,e,r,!1,n)};Vt.version="18.3.1-next-f1338f8080-20240426";function gh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gh)}catch(t){console.error(t)}}gh(),g0.exports=Vt;var o2=g0.exports,td=o2;yu.createRoot=td.createRoot,yu.hydrateRoot=td.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rd="popstate";function s2(t={}){function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return fl("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:pa(i)}return l2(e,r,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u2(){return Math.random().toString(36).substring(2,10)}function nd(t,e){return{usr:t.state,key:t.key,idx:e}}function fl(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pi(e):e,state:r,key:e&&e.key||n||u2()}}function pa({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function pi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function l2(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",u=null,l=c();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function c(){return(o.state||{idx:null}).idx}function f(){s="POP";let w=c(),y=w==null?null:w-l;l=w,u&&u({action:s,location:g.location,delta:y})}function d(w,y){s="PUSH";let x=fl(g.location,w,y);l=c()+1;let m=nd(x,l),_=g.createHref(x);try{o.pushState(m,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(_)}a&&u&&u({action:s,location:g.location,delta:1})}function h(w,y){s="REPLACE";let x=fl(g.location,w,y);l=c();let m=nd(x,l),_=g.createHref(x);o.replaceState(m,"",_),a&&u&&u({action:s,location:g.location,delta:0})}function v(w){return c2(w)}let g={get action(){return s},get location(){return t(i,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(rd,f),u=w,()=>{i.removeEventListener(rd,f),u=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let y=v(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(w){return o.go(w)}};return g}function c2(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:pa(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function xh(t,e,r="/"){return f2(t,e,r,!1)}function f2(t,e,r,n){let i=typeof e=="string"?pi(e):e,a=br(i.pathname||"/",r);if(a==null)return null;let o=yh(t);d2(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let l=C2(a);s=_2(o[u],l,n)}return s}function yh(t,e=[],r=[],n="",i=!1){let a=(o,s,u=i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&u)return;Oe(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let f=Nr([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Oe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),yh(o.children,e,d,f,u)),!(o.path==null&&!o.index)&&e.push({path:f,score:m2(f,o.index),routesMeta:d})};return t.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,s);else for(let l of mh(o.path))a(o,s,!0,l)}),e}function mh(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=mh(n.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&s.push(...o),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function d2(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:w2(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var h2=/^:[\w-]+$/,p2=3,v2=2,g2=1,x2=10,y2=-2,id=t=>t==="*";function m2(t,e){let r=t.split("/"),n=r.length;return r.some(id)&&(n+=y2),e&&(n+=v2),r.filter(i=>!id(i)).reduce((i,a)=>i+(h2.test(a)?p2:a===""?g2:x2),n)}function w2(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function _2(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let u=n[s],l=s===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=Vo({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),d=u.route;if(!f&&l&&r&&!n[n.length-1].route.index&&(f=Vo({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Nr([a,f.pathname]),pathnameBase:N2(Nr([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=Nr([a,f.pathnameBase]))}return o}function Vo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=E2(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((l,{paramName:c,isOptional:f},d)=>{if(c==="*"){let v=s[d]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const h=s[d];return f&&!h?l[c]=void 0:l[c]=(h||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:o,pattern:t}}function E2(t,e=!1,r=!0){cr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,u)=>(n.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function C2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function br(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function A2(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?pi(t):t;return{pathname:r?r.startsWith("/")?r:S2(r,e):e,search:O2(n),hash:T2(i)}}function S2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Qs(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I2(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Nc(t){let e=I2(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Oc(t,e,r,n=!1){let i;typeof t=="string"?i=pi(t):(i={...t},Oe(!i.pathname||!i.pathname.includes("?"),Qs("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Qs("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Qs("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let u=A2(i,s),l=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}var Nr=t=>t.join("/").replace(/\/\/+/g,"/"),N2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wh=["POST","PUT","PATCH","DELETE"];new Set(wh);var D2=["GET",...wh];new Set(D2);var vi=C.createContext(null);vi.displayName="DataRouter";var hs=C.createContext(null);hs.displayName="DataRouterState";C.createContext(!1);var _h=C.createContext({isTransitioning:!1});_h.displayName="ViewTransition";var b2=C.createContext(new Map);b2.displayName="Fetchers";var P2=C.createContext(null);P2.displayName="Await";var fr=C.createContext(null);fr.displayName="Navigation";var _a=C.createContext(null);_a.displayName="Location";var Jt=C.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var Tc=C.createContext(null);Tc.displayName="RouteError";function k2(t,{relative:e}={}){Oe(gi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(fr),{hash:i,pathname:a,search:o}=Ca(t,{relative:e}),s=a;return r!=="/"&&(s=a==="/"?r:Nr([r,a])),n.createHref({pathname:s,search:o,hash:i})}function gi(){return C.useContext(_a)!=null}function _r(){return Oe(gi(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(_a).location}var Eh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ch(t){C.useContext(fr).static||C.useLayoutEffect(t)}function Ea(){let{isDataRoute:t}=C.useContext(Jt);return t?Z2():M2()}function M2(){Oe(gi(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(vi),{basename:e,navigator:r}=C.useContext(fr),{matches:n}=C.useContext(Jt),{pathname:i}=_r(),a=JSON.stringify(Nc(n)),o=C.useRef(!1);return Ch(()=>{o.current=!0}),C.useCallback((u,l={})=>{if(cr(o.current,Eh),!o.current)return;if(typeof u=="number"){r.go(u);return}let c=Oc(u,JSON.parse(a),i,l.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Nr([e,c.pathname])),(l.replace?r.replace:r.push)(c,l.state,l)},[e,r,a,i,t])}var L2=C.createContext(null);function B2(t){let e=C.useContext(Jt).outlet;return C.useMemo(()=>e&&C.createElement(L2.Provider,{value:t},e),[e,t])}function F2(){let{matches:t}=C.useContext(Jt),e=t[t.length-1];return e?e.params:{}}function Ca(t,{relative:e}={}){let{matches:r}=C.useContext(Jt),{pathname:n}=_r(),i=JSON.stringify(Nc(r));return C.useMemo(()=>Oc(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function j2(t,e){return Ah(t,e)}function Ah(t,e,r,n,i){var x;Oe(gi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(fr),{matches:o}=C.useContext(Jt),s=o[o.length-1],u=s?s.params:{},l=s?s.pathname:"/",c=s?s.pathnameBase:"/",f=s&&s.route;{let m=f&&f.path||"";Sh(l,!f||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let d=_r(),h;if(e){let m=typeof e=="string"?pi(e):e;Oe(c==="/"||((x=m.pathname)==null?void 0:x.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${m.pathname}" was given in the \`location\` prop.`),h=m}else h=d;let v=h.pathname||"/",g=v;if(c!=="/"){let m=c.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(m.length).join("/")}let w=xh(t,{pathname:g});cr(f||w!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),cr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=$2(w&&w.map(m=>Object.assign({},m,{params:Object.assign({},u,m.params),pathname:Nr([c,a.encodeLocation?a.encodeLocation(m.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:Nr([c,a.encodeLocation?a.encodeLocation(m.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathnameBase])})),o,r,n,i);return e&&y?C.createElement(_a.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function U2(){let t=K2(),e=R2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,o)}var z2=C.createElement(U2,null),V2=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?C.createElement(Jt.Provider,{value:this.props.routeContext},C.createElement(Tc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H2({routeContext:t,match:e,children:r}){let n=C.useContext(vi);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Jt.Provider,{value:t},r)}function $2(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r==null?void 0:r.errors;if(o!=null){let l=a.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Oe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let s=!1,u=-1;if(r)for(let l=0;l<a.length;l++){let c=a[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=l),c.route.id){let{loaderData:f,errors:d}=r,h=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||h){s=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((l,c,f)=>{let d,h=!1,v=null,g=null;r&&(d=o&&c.route.id?o[c.route.id]:void 0,v=c.route.errorElement||z2,s&&(u<0&&f===0?(Sh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):u===f&&(h=!0,g=c.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,f+1)),y=()=>{let x;return d?x=v:h?x=g:c.route.Component?x=C.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=l,C.createElement(H2,{match:c,routeContext:{outlet:l,matches:w,isDataRoute:r!=null},children:x})};return r&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?C.createElement(V2,{location:r.location,revalidation:r.revalidation,component:v,error:d,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):y()},null)}function Rc(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W2(t){let e=C.useContext(vi);return Oe(e,Rc(t)),e}function G2(t){let e=C.useContext(hs);return Oe(e,Rc(t)),e}function X2(t){let e=C.useContext(Jt);return Oe(e,Rc(t)),e}function Dc(t){let e=X2(t),r=e.matches[e.matches.length-1];return Oe(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Y2(){return Dc("useRouteId")}function K2(){var n;let t=C.useContext(Tc),e=G2("useRouteError"),r=Dc("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Z2(){let{router:t}=W2("useNavigate"),e=Dc("useNavigate"),r=C.useRef(!1);return Ch(()=>{r.current=!0}),C.useCallback(async(i,a={})=>{cr(r.current,Eh),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var ad={};function Sh(t,e,r){!e&&!ad[t]&&(ad[t]=!0,cr(!1,r))}C.memo(q2);function q2({routes:t,future:e,state:r,unstable_onError:n}){return Ah(t,void 0,r,n,e)}function dl({to:t,replace:e,state:r,relative:n}){Oe(gi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(fr);cr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=C.useContext(Jt),{pathname:o}=_r(),s=Ea(),u=Oc(t,Nc(a),o,n==="path"),l=JSON.stringify(u);return C.useEffect(()=>{s(JSON.parse(l),{replace:e,state:r,relative:n})},[s,l,n,e,r]),null}function Q2(t){return B2(t.context)}function Ze(t){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J2({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Oe(!gi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),s=C.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof r=="string"&&(r=pi(r));let{pathname:u="/",search:l="",hash:c="",state:f=null,key:d="default"}=r,h=C.useMemo(()=>{let v=br(u,o);return v==null?null:{location:{pathname:v,search:l,hash:c,state:f,key:d},navigationType:n}},[o,u,l,c,f,d,n]);return cr(h!=null,`<Router basename="${o}"> is not able to match the URL "${u}${l}${c}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:C.createElement(fr.Provider,{value:s},C.createElement(_a.Provider,{children:e,value:h}))}function ex({children:t,location:e}){return j2(hl(t),e)}function hl(t,e=[]){let r=[];return C.Children.forEach(t,(n,i)=>{if(!C.isValidElement(n))return;let a=[...e,i];if(n.type===C.Fragment){r.push.apply(r,hl(n.props.children,a));return}Oe(n.type===Ze,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=hl(n.props.children,a)),r.push(o)}),r}var co="get",fo="application/x-www-form-urlencoded";function ps(t){return t!=null&&typeof t.tagName=="string"}function tx(t){return ps(t)&&t.tagName.toLowerCase()==="button"}function rx(t){return ps(t)&&t.tagName.toLowerCase()==="form"}function nx(t){return ps(t)&&t.tagName.toLowerCase()==="input"}function ix(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ax(t,e){return t.button===0&&(!e||e==="_self")&&!ix(t)}var Ga=null;function ox(){if(Ga===null)try{new FormData(document.createElement("form"),0),Ga=!1}catch{Ga=!0}return Ga}var sx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Js(t){return t!=null&&!sx.has(t)?(cr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fo}"`),null):t}function ux(t,e){let r,n,i,a,o;if(rx(t)){let s=t.getAttribute("action");n=s?br(s,e):null,r=t.getAttribute("method")||co,i=Js(t.getAttribute("enctype"))||fo,a=new FormData(t)}else if(tx(t)||nx(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||s.getAttribute("action");if(n=u?br(u,e):null,r=t.getAttribute("formmethod")||s.getAttribute("method")||co,i=Js(t.getAttribute("formenctype"))||Js(s.getAttribute("enctype"))||fo,a=new FormData(s,t),!ox()){let{name:l,type:c,value:f}=t;if(c==="image"){let d=l?`${l}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else l&&a.append(l,f)}}else{if(ps(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=co,n=null,i=fo,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bc(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lx(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&br(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function cx(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dx(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await cx(a,r);return o.links?o.links():[]}return[]}));return gx(n.flat(1).filter(fx).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function od(t,e,r,n,i,a){let o=(u,l)=>r[l]?u.route.id!==r[l].route.id:!0,s=(u,l)=>{var c;return r[l].pathname!==u.pathname||((c=r[l].route.path)==null?void 0:c.endsWith("*"))&&r[l].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,l)=>o(u,l)||s(u,l)):a==="data"?e.filter((u,l)=>{var f;let c=n.routes[u.route.id];if(!c||!c.hasLoader)return!1;if(o(u,l)||s(u,l))return!0;if(u.route.shouldRevalidate){let d=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function hx(t,e,{includeHydrateFallback:r}={}){return px(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function px(t){return[...new Set(t)]}function vx(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function gx(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(vx(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function Ih(){let t=C.useContext(vi);return bc(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function xx(){let t=C.useContext(hs);return bc(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pc=C.createContext(void 0);Pc.displayName="FrameworkContext";function Nh(){let t=C.useContext(Pc);return bc(t,"You must render this element inside a <HydratedRouter> element"),t}function yx(t,e){let r=C.useContext(Pc),[n,i]=C.useState(!1),[a,o]=C.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:l,onMouseLeave:c,onTouchStart:f}=e,d=C.useRef(null);C.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=y=>{y.forEach(x=>{o(x.isIntersecting)})},w=new IntersectionObserver(g,{threshold:.5});return d.current&&w.observe(d.current),()=>{w.disconnect()}}},[t]),C.useEffect(()=>{if(n){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[n]);let h=()=>{i(!0)},v=()=>{i(!1),o(!1)};return r?t!=="intent"?[a,d,{}]:[a,d,{onFocus:Ri(s,h),onBlur:Ri(u,v),onMouseEnter:Ri(l,h),onMouseLeave:Ri(c,v),onTouchStart:Ri(f,h)}]:[!1,d,{}]}function Ri(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function mx({page:t,...e}){let{router:r}=Ih(),n=C.useMemo(()=>xh(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?C.createElement(_x,{page:t,matches:n,...e}):null}function wx(t){let{manifest:e,routeModules:r}=Nh(),[n,i]=C.useState([]);return C.useEffect(()=>{let a=!1;return dx(t,e,r).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,r]),n}function _x({page:t,matches:e,...r}){let n=_r(),{manifest:i,routeModules:a}=Nh(),{basename:o}=Ih(),{loaderData:s,matches:u}=xx(),l=C.useMemo(()=>od(t,e,u,i,n,"data"),[t,e,u,i,n]),c=C.useMemo(()=>od(t,e,u,i,n,"assets"),[t,e,u,i,n]),f=C.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,g=!1;if(e.forEach(y=>{var m;let x=i.routes[y.route.id];!x||!x.hasLoader||(!l.some(_=>_.route.id===y.route.id)&&y.route.id in s&&((m=a[y.route.id])!=null&&m.shouldRevalidate)||x.hasClientLoader?g=!0:v.add(y.route.id))}),v.size===0)return[];let w=lx(t,o,"data");return g&&v.size>0&&w.searchParams.set("_routes",e.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[w.pathname+w.search]},[o,s,n,i,l,e,t,a]),d=C.useMemo(()=>hx(c,i),[c,i]),h=wx(c);return C.createElement(C.Fragment,null,f.map(v=>C.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),d.map(v=>C.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),h.map(({key:v,link:g})=>C.createElement("link",{key:v,nonce:r.nonce,...g})))}function Ex(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Oh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Oh&&(window.__reactRouterVersion="7.9.5")}catch{}function Cx({basename:t,children:e,window:r}){let n=C.useRef();n.current==null&&(n.current=s2({window:r,v5Compat:!0}));let i=n.current,[a,o]=C.useState({action:i.action,location:i.location}),s=C.useCallback(u=>{C.startTransition(()=>o(u))},[o]);return C.useLayoutEffect(()=>i.listen(s),[i,s]),C.createElement(J2,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Th=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kc=C.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:u,to:l,preventScrollReset:c,viewTransition:f,...d},h){let{basename:v}=C.useContext(fr),g=typeof l=="string"&&Th.test(l),w,y=!1;if(typeof l=="string"&&g&&(w=l,Oh))try{let b=new URL(window.location.href),P=l.startsWith("//")?new URL(b.protocol+l):new URL(l),R=br(P.pathname,v);P.origin===b.origin&&R!=null?l=R+P.search+P.hash:y=!0}catch{cr(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=k2(l,{relative:i}),[m,_,A]=yx(n,d),I=Ix(l,{replace:o,state:s,target:u,preventScrollReset:c,relative:i,viewTransition:f});function S(b){e&&e(b),b.defaultPrevented||I(b)}let N=C.createElement("a",{...d,...A,href:w||x,onClick:y||a?e:S,ref:Ex(h,_),target:u,"data-discover":!g&&r==="render"?"true":void 0});return m&&!g?C.createElement(C.Fragment,null,N,C.createElement(mx,{page:x})):N});kc.displayName="Link";var De=C.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:u,...l},c){let f=Ca(o,{relative:l.relative}),d=_r(),h=C.useContext(hs),{navigator:v,basename:g}=C.useContext(fr),w=h!=null&&Dx(f)&&s===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=d.pathname,m=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(x=x.toLowerCase(),m=m?m.toLowerCase():null,y=y.toLowerCase()),m&&g&&(m=br(m,g)||m);const _=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let A=x===y||!i&&x.startsWith(y)&&x.charAt(_)==="/",I=m!=null&&(m===y||!i&&m.startsWith(y)&&m.charAt(y.length)==="/"),S={isActive:A,isPending:I,isTransitioning:w},N=A?e:void 0,b;typeof n=="function"?b=n(S):b=[n,A?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(S):a;return C.createElement(kc,{...l,"aria-current":N,className:b,ref:c,style:P,to:o,viewTransition:s},typeof u=="function"?u(S):u)});De.displayName="NavLink";var Ax=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:o=co,action:s,onSubmit:u,relative:l,preventScrollReset:c,viewTransition:f,...d},h)=>{let v=Tx(),g=Rx(s,{relative:l}),w=o.toLowerCase()==="get"?"get":"post",y=typeof s=="string"&&Th.test(s),x=m=>{if(u&&u(m),m.defaultPrevented)return;m.preventDefault();let _=m.nativeEvent.submitter,A=(_==null?void 0:_.getAttribute("formmethod"))||o;v(_||m.currentTarget,{fetcherKey:e,method:A,navigate:r,replace:i,state:a,relative:l,preventScrollReset:c,viewTransition:f})};return C.createElement("form",{ref:h,method:w,action:g,onSubmit:n?u:x,...d,"data-discover":!y&&t==="render"?"true":void 0})});Ax.displayName="Form";function Sx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rh(t){let e=C.useContext(vi);return Oe(e,Sx(t)),e}function Ix(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o}={}){let s=Ea(),u=_r(),l=Ca(t,{relative:a});return C.useCallback(c=>{if(ax(c,e)){c.preventDefault();let f=r!==void 0?r:pa(u)===pa(l);s(t,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:o})}},[u,s,l,r,n,e,t,i,a,o])}var Nx=0,Ox=()=>`__${String(++Nx)}__`;function Tx(){let{router:t}=Rh("useSubmit"),{basename:e}=C.useContext(fr),r=Y2();return C.useCallback(async(n,i={})=>{let{action:a,method:o,encType:s,formData:u,body:l}=ux(n,e);if(i.navigate===!1){let c=i.fetcherKey||Ox();await t.fetch(c,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:l,formMethod:i.method||o,formEncType:i.encType||s,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:l,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function Rx(t,{relative:e}={}){let{basename:r}=C.useContext(fr),n=C.useContext(Jt);Oe(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Ca(t||".",{relative:e})},o=_r();if(t==null){a.search=o.search;let s=new URLSearchParams(a.search),u=s.getAll("index");if(u.some(c=>c==="")){s.delete("index"),u.filter(f=>f).forEach(f=>s.append("index",f));let c=s.toString();a.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Nr([r,a.pathname])),pa(a)}function Dx(t,{relative:e}={}){let r=C.useContext(_h);Oe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Rh("useViewTransitionState"),i=Ca(t,{relative:e});if(!r.isTransitioning)return!1;let a=br(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=br(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Vo(i.pathname,o)!=null||Vo(i.pathname,a)!=null}const Dh=C.createContext(void 0),bx=()=>{if(typeof window>"u")return{isAuthenticated:!1,user:null};try{const t=localStorage.getItem("auth");if(!t)return{isAuthenticated:!1,user:null};const e=JSON.parse(t);return{isAuthenticated:!!(e!=null&&e.isAuthenticated),user:typeof(e==null?void 0:e.username)=="string"?e.username:null}}catch{return{isAuthenticated:!1,user:null}}},Px={admin:"Sharkshopify1",milo:"Treviso"};function kx({children:t}){const e=bx(),[r,n]=C.useState(e.isAuthenticated),[i,a]=C.useState(e.user),o=async(u,l)=>{const c=u.trim().toLowerCase(),f=Px[c];if(f&&l===f){const d=c,h={username:d,isAuthenticated:!0};return localStorage.setItem("auth",JSON.stringify(h)),n(!0),a(d),!0}return!1},s=()=>{localStorage.removeItem("auth"),n(!1),a(null)};return p.jsx(Dh.Provider,{value:{isAuthenticated:r,login:o,logout:s,user:i},children:t})}function vs(){const t=C.useContext(Dh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function bh(t,e){return function(){return t.apply(e,arguments)}}const{toString:Mx}=Object.prototype,{getPrototypeOf:Mc}=Object,gs=(t=>e=>{const r=Mx.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),dr=t=>(t=t.toLowerCase(),e=>gs(e)===t),xs=t=>e=>typeof e===t,{isArray:xi}=Array,va=xs("undefined");function Lx(t){return t!==null&&!va(t)&&t.constructor!==null&&!va(t.constructor)&&Ut(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ph=dr("ArrayBuffer");function Bx(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ph(t.buffer),e}const Fx=xs("string"),Ut=xs("function"),kh=xs("number"),ys=t=>t!==null&&typeof t=="object",jx=t=>t===!0||t===!1,ho=t=>{if(gs(t)!=="object")return!1;const e=Mc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ux=dr("Date"),zx=dr("File"),Vx=dr("Blob"),Hx=dr("FileList"),$x=t=>ys(t)&&Ut(t.pipe),Wx=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ut(t.append)&&((e=gs(t))==="formdata"||e==="object"&&Ut(t.toString)&&t.toString()==="[object FormData]"))},Gx=dr("URLSearchParams"),[Xx,Yx,Kx,Zx]=["ReadableStream","Request","Response","Headers"].map(dr),qx=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Aa(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),xi(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,t[s],s,t)}}function Mh(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Lh=t=>!va(t)&&t!==gn;function pl(){const{caseless:t}=Lh(this)&&this||{},e={},r=(n,i)=>{const a=t&&Mh(e,i)||i;ho(e[a])&&ho(n)?e[a]=pl(e[a],n):ho(n)?e[a]=pl({},n):xi(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Aa(arguments[n],r);return e}const Qx=(t,e,r,{allOwnKeys:n}={})=>(Aa(e,(i,a)=>{r&&Ut(i)?t[a]=bh(i,r):t[a]=i},{allOwnKeys:n}),t),Jx=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ey=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},ty=(t,e,r,n)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&Mc(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},ry=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},ny=t=>{if(!t)return null;if(xi(t))return t;let e=t.length;if(!kh(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},iy=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Mc(Uint8Array)),ay=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},oy=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},sy=dr("HTMLFormElement"),uy=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),sd=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),ly=dr("RegExp"),Bh=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Aa(r,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(n[a]=o||i)}),Object.defineProperties(t,n)},cy=t=>{Bh(t,(e,r)=>{if(Ut(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ut(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},fy=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return xi(t)?n(t):n(String(t).split(e)),r},dy=()=>{},hy=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,eu="abcdefghijklmnopqrstuvwxyz",ud="0123456789",Fh={DIGIT:ud,ALPHA:eu,ALPHA_DIGIT:eu+eu.toUpperCase()+ud},py=(t=16,e=Fh.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function vy(t){return!!(t&&Ut(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const gy=t=>{const e=new Array(10),r=(n,i)=>{if(ys(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=xi(n)?[]:{};return Aa(n,(o,s)=>{const u=r(o,i+1);!va(u)&&(a[s]=u)}),e[i]=void 0,a}}return n};return r(t,0)},xy=dr("AsyncFunction"),yy=t=>t&&(ys(t)||Ut(t))&&Ut(t.then)&&Ut(t.catch),jh=((t,e)=>t?setImmediate:e?((r,n)=>(gn.addEventListener("message",({source:i,data:a})=>{i===gn&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),gn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ut(gn.postMessage)),my=typeof queueMicrotask<"u"?queueMicrotask.bind(gn):typeof process<"u"&&process.nextTick||jh,T={isArray:xi,isArrayBuffer:Ph,isBuffer:Lx,isFormData:Wx,isArrayBufferView:Bx,isString:Fx,isNumber:kh,isBoolean:jx,isObject:ys,isPlainObject:ho,isReadableStream:Xx,isRequest:Yx,isResponse:Kx,isHeaders:Zx,isUndefined:va,isDate:Ux,isFile:zx,isBlob:Vx,isRegExp:ly,isFunction:Ut,isStream:$x,isURLSearchParams:Gx,isTypedArray:iy,isFileList:Hx,forEach:Aa,merge:pl,extend:Qx,trim:qx,stripBOM:Jx,inherits:ey,toFlatObject:ty,kindOf:gs,kindOfTest:dr,endsWith:ry,toArray:ny,forEachEntry:ay,matchAll:oy,isHTMLForm:sy,hasOwnProperty:sd,hasOwnProp:sd,reduceDescriptors:Bh,freezeMethods:cy,toObjectSet:fy,toCamelCase:uy,noop:dy,toFiniteNumber:hy,findKey:Mh,global:gn,isContextDefined:Lh,ALPHABET:Fh,generateString:py,isSpecCompliantForm:vy,toJSONObject:gy,isAsyncFn:xy,isThenable:yy,setImmediate:jh,asap:my};function Q(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}T.inherits(Q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Uh=Q.prototype,zh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zh[t]={value:t}});Object.defineProperties(Q,zh);Object.defineProperty(Uh,"isAxiosError",{value:!0});Q.from=(t,e,r,n,i,a)=>{const o=Object.create(Uh);return T.toFlatObject(t,o,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),Q.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const wy=null;function vl(t){return T.isPlainObject(t)||T.isArray(t)}function Vh(t){return T.endsWith(t,"[]")?t.slice(0,-2):t}function ld(t,e,r){return t?t.concat(e).map(function(i,a){return i=Vh(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function _y(t){return T.isArray(t)&&!t.some(vl)}const Ey=T.toFlatObject(T,{},null,function(e){return/^is[A-Z]/.test(e)});function ms(t,e,r){if(!T.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!T.isUndefined(w[g])});const n=r.metaTokens,i=r.visitor||c,a=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(e);if(!T.isFunction(i))throw new TypeError("visitor must be a function");function l(v){if(v===null)return"";if(T.isDate(v))return v.toISOString();if(!u&&T.isBlob(v))throw new Q("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(v)||T.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,g,w){let y=v;if(v&&!w&&typeof v=="object"){if(T.endsWith(g,"{}"))g=n?g:g.slice(0,-2),v=JSON.stringify(v);else if(T.isArray(v)&&_y(v)||(T.isFileList(v)||T.endsWith(g,"[]"))&&(y=T.toArray(v)))return g=Vh(g),y.forEach(function(m,_){!(T.isUndefined(m)||m===null)&&e.append(o===!0?ld([g],_,a):o===null?g:g+"[]",l(m))}),!1}return vl(v)?!0:(e.append(ld(w,g,a),l(v)),!1)}const f=[],d=Object.assign(Ey,{defaultVisitor:c,convertValue:l,isVisitable:vl});function h(v,g){if(!T.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),T.forEach(v,function(y,x){(!(T.isUndefined(y)||y===null)&&i.call(e,y,T.isString(x)?x.trim():x,g,d))===!0&&h(y,g?g.concat(x):[x])}),f.pop()}}if(!T.isObject(t))throw new TypeError("data must be an object");return h(t),e}function cd(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Lc(t,e){this._pairs=[],t&&ms(t,this,e)}const Hh=Lc.prototype;Hh.append=function(e,r){this._pairs.push([e,r])};Hh.toString=function(e){const r=e?function(n){return e.call(this,n,cd)}:cd;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Cy(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $h(t,e,r){if(!e)return t;const n=r&&r.encode||Cy,i=r&&r.serialize;let a;if(i?a=i(e,r):a=T.isURLSearchParams(e)?e.toString():new Lc(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class fd{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){T.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Wh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ay=typeof URLSearchParams<"u"?URLSearchParams:Lc,Sy=typeof FormData<"u"?FormData:null,Iy=typeof Blob<"u"?Blob:null,Ny={isBrowser:!0,classes:{URLSearchParams:Ay,FormData:Sy,Blob:Iy},protocols:["http","https","file","blob","url","data"]},Bc=typeof window<"u"&&typeof document<"u",gl=typeof navigator=="object"&&navigator||void 0,Oy=Bc&&(!gl||["ReactNative","NativeScript","NS"].indexOf(gl.product)<0),Ty=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ry=Bc&&window.location.href||"http://localhost",Dy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bc,hasStandardBrowserEnv:Oy,hasStandardBrowserWebWorkerEnv:Ty,navigator:gl,origin:Ry},Symbol.toStringTag,{value:"Module"})),bt={...Dy,...Ny};function by(t,e){return ms(t,new bt.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return bt.isNode&&T.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Py(t){return T.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ky(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function Gh(t){function e(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),u=a>=r.length;return o=!o&&T.isArray(i)?i.length:o,u?(T.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!T.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&T.isArray(i[o])&&(i[o]=ky(i[o])),!s)}if(T.isFormData(t)&&T.isFunction(t.entries)){const r={};return T.forEachEntry(t,(n,i)=>{e(Py(n),i,r,0)}),r}return null}function My(t,e,r){if(T.isString(t))try{return(e||JSON.parse)(t),T.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Sa={transitional:Wh,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=T.isObject(e);if(a&&T.isHTMLForm(e)&&(e=new FormData(e)),T.isFormData(e))return i?JSON.stringify(Gh(e)):e;if(T.isArrayBuffer(e)||T.isBuffer(e)||T.isStream(e)||T.isFile(e)||T.isBlob(e)||T.isReadableStream(e))return e;if(T.isArrayBufferView(e))return e.buffer;if(T.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return by(e,this.formSerializer).toString();if((s=T.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ms(s?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),My(e)):e}],transformResponse:[function(e){const r=this.transitional||Sa.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(T.isResponse(e)||T.isReadableStream(e))return e;if(e&&T.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?Q.from(s,Q.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],t=>{Sa.headers[t]={}});const Ly=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),By=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Ly[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},dd=Symbol("internals");function Di(t){return t&&String(t).trim().toLowerCase()}function po(t){return t===!1||t==null?t:T.isArray(t)?t.map(po):String(t)}function Fy(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const jy=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tu(t,e,r,n,i){if(T.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!T.isString(e)){if(T.isString(n))return e.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(e)}}function Uy(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function zy(t,e){const r=T.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}let Pt=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(s,u,l){const c=Di(u);if(!c)throw new Error("header name must be a non-empty string");const f=T.findKey(i,c);(!f||i[f]===void 0||l===!0||l===void 0&&i[f]!==!1)&&(i[f||u]=po(s))}const o=(s,u)=>T.forEach(s,(l,c)=>a(l,c,u));if(T.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(T.isString(e)&&(e=e.trim())&&!jy(e))o(By(e),r);else if(T.isHeaders(e))for(const[s,u]of e.entries())a(u,s,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=Di(e),e){const n=T.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Fy(i);if(T.isFunction(r))return r.call(this,i,n);if(T.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Di(e),e){const n=T.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||tu(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=Di(o),o){const s=T.findKey(n,o);s&&(!r||tu(n,n[s],s,r))&&(delete n[s],i=!0)}}return T.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||tu(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return T.forEach(this,(i,a)=>{const o=T.findKey(n,a);if(o){r[o]=po(i),delete r[a];return}const s=e?Uy(a):String(a).trim();s!==a&&delete r[a],r[s]=po(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return T.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&T.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[dd]=this[dd]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Di(o);n[s]||(zy(i,o),n[s]=!0)}return T.isArray(e)?e.forEach(a):a(e),this}};Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Pt.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});T.freezeMethods(Pt);function ru(t,e){const r=this||Sa,n=e||r,i=Pt.from(n.headers);let a=n.data;return T.forEach(t,function(s){a=s.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function Xh(t){return!!(t&&t.__CANCEL__)}function yi(t,e,r){Q.call(this,t??"canceled",Q.ERR_CANCELED,e,r),this.name="CanceledError"}T.inherits(yi,Q,{__CANCEL__:!0});function Yh(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Q("Request failed with status code "+r.status,[Q.ERR_BAD_REQUEST,Q.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Vy(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Hy(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),c=n[a];o||(o=l),r[i]=u,n[i]=l;let f=a,d=0;for(;f!==i;)d+=r[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),l-o<e)return;const h=c&&l-c;return h?Math.round(d*1e3/h):void 0}}function $y(t,e){let r=0,n=1e3/e,i,a;const o=(l,c=Date.now())=>{r=c,i=null,a&&(clearTimeout(a),a=null),t.apply(null,l)};return[(...l)=>{const c=Date.now(),f=c-r;f>=n?o(l,c):(i=l,a||(a=setTimeout(()=>{a=null,o(i)},n-f)))},()=>i&&o(i)]}const Ho=(t,e,r=3)=>{let n=0;const i=Hy(50,250);return $y(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,u=o-n,l=i(u),c=o<=s;n=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:u,rate:l||void 0,estimated:l&&s&&c?(s-o)/l:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(f)},r)},hd=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},pd=t=>(...e)=>T.asap(()=>t(...e)),Wy=bt.hasStandardBrowserEnv?function(){const e=bt.navigator&&/(msie|trident)/i.test(bt.navigator.userAgent),r=document.createElement("a");let n;function i(a){let o=a;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const s=T.isString(o)?i(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),Gy=bt.hasStandardBrowserEnv?{write(t,e,r,n,i,a){const o=[t+"="+encodeURIComponent(e)];T.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),T.isString(n)&&o.push("path="+n),T.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xy(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Yy(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Kh(t,e){return t&&!Xy(e)?Yy(t,e):e}const vd=t=>t instanceof Pt?{...t}:t;function Nn(t,e){e=e||{};const r={};function n(l,c,f){return T.isPlainObject(l)&&T.isPlainObject(c)?T.merge.call({caseless:f},l,c):T.isPlainObject(c)?T.merge({},c):T.isArray(c)?c.slice():c}function i(l,c,f){if(T.isUndefined(c)){if(!T.isUndefined(l))return n(void 0,l,f)}else return n(l,c,f)}function a(l,c){if(!T.isUndefined(c))return n(void 0,c)}function o(l,c){if(T.isUndefined(c)){if(!T.isUndefined(l))return n(void 0,l)}else return n(void 0,c)}function s(l,c,f){if(f in e)return n(l,c);if(f in t)return n(void 0,l)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(l,c)=>i(vd(l),vd(c),!0)};return T.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=u[c]||i,d=f(t[c],e[c],c);T.isUndefined(d)&&f!==s||(r[c]=d)}),r}const Zh=t=>{const e=Nn({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;e.headers=o=Pt.from(o),e.url=$h(Kh(e.baseURL,e.url),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let u;if(T.isFormData(r)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[l,...c]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...c].join("; "))}}if(bt.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(e)),n||n!==!1&&Wy(e.url))){const l=i&&a&&Gy.read(a);l&&o.set(i,l)}return e},Ky=typeof XMLHttpRequest<"u",Zy=Ky&&function(t){return new Promise(function(r,n){const i=Zh(t);let a=i.data;const o=Pt.from(i.headers).normalize();let{responseType:s,onUploadProgress:u,onDownloadProgress:l}=i,c,f,d,h,v;function g(){h&&h(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function y(){if(!w)return;const m=Pt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),A={data:!s||s==="text"||s==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:m,config:t,request:w};Yh(function(S){r(S),g()},function(S){n(S),g()},A),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(n(new Q("Request aborted",Q.ECONNABORTED,t,w)),w=null)},w.onerror=function(){n(new Q("Network Error",Q.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||Wh;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new Q(_,A.clarifyTimeoutError?Q.ETIMEDOUT:Q.ECONNABORTED,t,w)),w=null},a===void 0&&o.setContentType(null),"setRequestHeader"in w&&T.forEach(o.toJSON(),function(_,A){w.setRequestHeader(A,_)}),T.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),s&&s!=="json"&&(w.responseType=i.responseType),l&&([d,v]=Ho(l,!0),w.addEventListener("progress",d)),u&&w.upload&&([f,h]=Ho(u),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(c=m=>{w&&(n(!m||m.type?new yi(null,t,w):m),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const x=Vy(i.url);if(x&&bt.protocols.indexOf(x)===-1){n(new Q("Unsupported protocol "+x+":",Q.ERR_BAD_REQUEST,t));return}w.send(a||null)})},qy=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const a=function(l){if(!i){i=!0,s();const c=l instanceof Error?l:this.reason;n.abort(c instanceof Q?c:new yi(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,a(new Q(`timeout ${e} of ms exceeded`,Q.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(a):l.removeEventListener("abort",a)}),t=null)};t.forEach(l=>l.addEventListener("abort",a));const{signal:u}=n;return u.unsubscribe=()=>T.asap(s),u}},Qy=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Jy=async function*(t,e){for await(const r of em(t))yield*Qy(r,e)},em=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},gd=(t,e,r,n)=>{const i=Jy(t,e);let a=0,o,s=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:l,value:c}=await i.next();if(l){s(),u.close();return}let f=c.byteLength;if(r){let d=a+=f;r(d)}u.enqueue(new Uint8Array(c))}catch(l){throw s(l),l}},cancel(u){return s(u),i.return()}},{highWaterMark:2})},ws=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qh=ws&&typeof ReadableStream=="function",tm=ws&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Qh=(t,...e)=>{try{return!!t(...e)}catch{return!1}},rm=qh&&Qh(()=>{let t=!1;const e=new Request(bt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),xd=64*1024,xl=qh&&Qh(()=>T.isReadableStream(new Response("").body)),$o={stream:xl&&(t=>t.body)};ws&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$o[e]&&($o[e]=T.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Q(`Response type '${e}' is not supported`,Q.ERR_NOT_SUPPORT,n)})})})(new Response);const nm=async t=>{if(t==null)return 0;if(T.isBlob(t))return t.size;if(T.isSpecCompliantForm(t))return(await new Request(bt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(T.isArrayBufferView(t)||T.isArrayBuffer(t))return t.byteLength;if(T.isURLSearchParams(t)&&(t=t+""),T.isString(t))return(await tm(t)).byteLength},im=async(t,e)=>{const r=T.toFiniteNumber(t.getContentLength());return r??nm(e)},am=ws&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:a,timeout:o,onDownloadProgress:s,onUploadProgress:u,responseType:l,headers:c,withCredentials:f="same-origin",fetchOptions:d}=Zh(t);l=l?(l+"").toLowerCase():"text";let h=qy([i,a&&a.toAbortSignal()],o),v;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let w;try{if(u&&rm&&r!=="get"&&r!=="head"&&(w=await im(c,n))!==0){let A=new Request(e,{method:"POST",body:n,duplex:"half"}),I;if(T.isFormData(n)&&(I=A.headers.get("content-type"))&&c.setContentType(I),A.body){const[S,N]=hd(w,Ho(pd(u)));n=gd(A.body,xd,S,N)}}T.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;v=new Request(e,{...d,signal:h,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:y?f:void 0});let x=await fetch(v);const m=xl&&(l==="stream"||l==="response");if(xl&&(s||m&&g)){const A={};["status","statusText","headers"].forEach(b=>{A[b]=x[b]});const I=T.toFiniteNumber(x.headers.get("content-length")),[S,N]=s&&hd(I,Ho(pd(s),!0))||[];x=new Response(gd(x.body,xd,S,()=>{N&&N(),g&&g()}),A)}l=l||"text";let _=await $o[T.findKey($o,l)||"text"](x,t);return!m&&g&&g(),await new Promise((A,I)=>{Yh(A,I,{data:_,headers:Pt.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:v})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new Q("Network Error",Q.ERR_NETWORK,t,v),{cause:y.cause||y}):Q.from(y,y&&y.code,t,v)}}),yl={http:wy,xhr:Zy,fetch:am};T.forEach(yl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yd=t=>`- ${t}`,om=t=>T.isFunction(t)||t===null||t===!1,Jh={getAdapter:t=>{t=T.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!om(r)&&(n=yl[(o=String(r)).toLowerCase()],n===void 0))throw new Q(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,u])=>`adapter ${s} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(yd).join(`
`):" "+yd(a[0]):"as no adapter specified";throw new Q("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:yl};function nu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yi(null,t)}function md(t){return nu(t),t.headers=Pt.from(t.headers),t.data=ru.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Jh.getAdapter(t.adapter||Sa.adapter)(t).then(function(n){return nu(t),n.data=ru.call(t,t.transformResponse,n),n.headers=Pt.from(n.headers),n},function(n){return Xh(n)||(nu(t),n&&n.response&&(n.response.data=ru.call(t,t.transformResponse,n.response),n.response.headers=Pt.from(n.response.headers))),Promise.reject(n)})}const ep="1.7.7",Fc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fc[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const wd={};Fc.transitional=function(e,r,n){function i(a,o){return"[Axios v"+ep+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new Q(i(o," has been removed"+(r?" in "+r:"")),Q.ERR_DEPRECATED);return r&&!wd[o]&&(wd[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function sm(t,e,r){if(typeof t!="object")throw new Q("options must be an object",Q.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=t[a],u=s===void 0||o(s,a,t);if(u!==!0)throw new Q("option "+a+" must be "+u,Q.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Q("Unknown option "+a,Q.ERR_BAD_OPTION)}}const ml={assertOptions:sm,validators:Fc},Mr=ml.validators;let wn=class{constructor(e){this.defaults=e,this.interceptors={request:new fd,response:new fd}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Nn(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&ml.assertOptions(n,{silentJSONParsing:Mr.transitional(Mr.boolean),forcedJSONParsing:Mr.transitional(Mr.boolean),clarifyTimeoutError:Mr.transitional(Mr.boolean)},!1),i!=null&&(T.isFunction(i)?r.paramsSerializer={serialize:i}:ml.assertOptions(i,{encode:Mr.function,serialize:Mr.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&T.merge(a.common,a[r.method]);a&&T.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),r.headers=Pt.concat(o,a);const s=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(u=u&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let c,f=0,d;if(!u){const v=[md.bind(this),void 0];for(v.unshift.apply(v,s),v.push.apply(v,l),d=v.length,c=Promise.resolve(r);f<d;)c=c.then(v[f++],v[f++]);return c}d=s.length;let h=r;for(f=0;f<d;){const v=s[f++],g=s[f++];try{h=v(h)}catch(w){g.call(this,w);break}}try{c=md.call(this,h)}catch(v){return Promise.reject(v)}for(f=0,d=l.length;f<d;)c=c.then(l[f++],l[f++]);return c}getUri(e){e=Nn(this.defaults,e);const r=Kh(e.baseURL,e.url);return $h(r,e.params,e.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(e){wn.prototype[e]=function(r,n){return this.request(Nn(n||{},{method:e,url:r,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(Nn(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}wn.prototype[e]=r(),wn.prototype[e+"Form"]=r(!0)});let um=class tp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new yi(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new tp(function(i){e=i}),cancel:e}}};function lm(t){return function(r){return t.apply(null,r)}}function cm(t){return T.isObject(t)&&t.isAxiosError===!0}const wl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wl).forEach(([t,e])=>{wl[e]=t});function rp(t){const e=new wn(t),r=bh(wn.prototype.request,e);return T.extend(r,wn.prototype,e,{allOwnKeys:!0}),T.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return rp(Nn(t,i))},r}const Fe=rp(Sa);Fe.Axios=wn;Fe.CanceledError=yi;Fe.CancelToken=um;Fe.isCancel=Xh;Fe.VERSION=ep;Fe.toFormData=ms;Fe.AxiosError=Q;Fe.Cancel=Fe.CanceledError;Fe.all=function(e){return Promise.all(e)};Fe.spread=lm;Fe.isAxiosError=cm;Fe.mergeConfig=Nn;Fe.AxiosHeaders=Pt;Fe.formToJSON=t=>Gh(T.isHTMLForm(t)?new FormData(t):t);Fe.getAdapter=Jh.getAdapter;Fe.HttpStatusCode=wl;Fe.default=Fe;const{Axios:x4,AxiosError:y4,CanceledError:m4,isCancel:w4,CancelToken:_4,VERSION:E4,all:C4,Cancel:A4,isAxiosError:S4,spread:I4,toFormData:N4,AxiosHeaders:O4,HttpStatusCode:T4,formToJSON:R4,getAdapter:D4,mergeConfig:b4}=Fe,_l="https://app.nucizzz.shop/api";let np=_l;try{const t=window.location;_l.startsWith("http://")&&t.protocol==="https:"&&(np="https://"+_l.substring(7))}catch{}const he=Fe.create({baseURL:np}),El="nucizzz-location-selection",ip=C.createContext(void 0),fm=()=>{var t,e;if(typeof window>"u")return null;try{const r=localStorage.getItem(El);if(!r)return null;const n=JSON.parse(r);if(n.mode==="general")return{mode:"general"};if(n.mode==="location"&&((t=n.location)!=null&&t.id)&&((e=n.location)!=null&&e.name))return{mode:"location",location:n.location}}catch(r){console.warn("Impossibile leggere la location salvata:",r)}return null};function dm({children:t}){const[e,r]=C.useState([]),[n,i]=C.useState(()=>fm()),[a,o]=C.useState(!1),[s,u]=C.useState(!1),l=_=>{typeof window>"u"||(_?localStorage.setItem(El,JSON.stringify(_)):localStorage.removeItem(El))},c=C.useCallback(async()=>{o(!0);try{const _=await he.get("/locations/"),A=Array.isArray(_.data)?_.data:[];if(r(A),(n==null?void 0:n.mode)==="location"){const I=A.find(S=>S.id===n.location.id);if(!I)i(null),l(null),u(!0);else if(I.name!==n.location.name){const S={mode:"location",location:I};i(S),l(S)}}}catch(_){console.error("Errore caricamento locations:",_)}finally{o(!1)}},[n]);C.useEffect(()=>{c()},[c]),C.useEffect(()=>{n||u(!0)},[n]);const f=()=>{const _={mode:"general"};i(_),l(_),u(!1)},d=_=>{const A={mode:"location",location:_};i(A),l(A),u(!1)},h=()=>{i(null),l(null),u(!0)},v=()=>u(!0),g=()=>{n&&u(!1)},w=(n==null?void 0:n.mode)??"general",y=(n==null?void 0:n.mode)==="location"?n.location:null,x=!!n,m=s||!n;return p.jsx(ip.Provider,{value:{locations:e,refreshLocations:c,mode:w,location:y,hasSelection:x,selectGeneral:f,selectLocation:d,clearSelection:h,openSelector:v,closeSelector:g,isSelectorOpen:m,loadingLocations:a},children:t})}function sn(){const t=C.useContext(ip);if(!t)throw new Error("useLocationSelection deve essere usato dentro LocationProvider");return t}function hm(t,e,r){const n=_r();C.useEffect(()=>{t&&e()},[n.pathname]),C.useEffect(()=>{if(!t)return;const i=o=>{if(!(r!=null&&r.current))return;const s=o.target;s&&!r.current.contains(s)&&e()},a=o=>{o.key==="Escape"&&e()};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i),document.removeEventListener("keydown",a)}},[t,e,r])}const ft="px-3 py-2 rounded-lg",dt="bg-black text-white",ht="bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600";function pm(){const[t,e]=vr.useState(!1),[r,n]=vr.useState(!1),i=vr.useRef(null);C.useContext(Pp);const{mode:a,location:o,openSelector:s}=sn(),u=a==="location"?(o==null?void 0:o.name)||"Location":"Vista generale",l=a==="location"?"Movimenti su questa sede":"Solo consultazione";vr.useEffect(()=>{const g=localStorage.getItem("theme")==="dark";n(g),document.documentElement.classList.toggle("dark",g)},[]),hm(t,()=>e(!1),i);function c(){const g=!r;n(g),localStorage.setItem("theme",g?"dark":"light"),document.documentElement.classList.toggle("dark",g)}const[f,d]=vr.useState(null),[h,v]=vr.useState(null);return vr.useEffect(()=>{(async()=>{try{const g=await he.get("/products/",{params:{limit:1}}),w=Array.isArray(g.data)?g.data:[];d(w.length?g.data.total??w.length:0)}catch{}try{const g=await he.get("/stock/low"),w=Array.isArray(g.data)?g.data:[];v(w.length)}catch{}})()},[]),p.jsxs("div",{ref:i,className:"sticky top-0 z-20 backdrop-blur bg-white/70 dark:bg-gray-900/70 py-2 px-2 rounded-xl",children:[p.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Nucizzz IMS"}),p.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm",children:[p.jsxs("span",{className:"px-2 py-1 rounded bg-gray-100 dark:bg-gray-800",children:["Tot: ",f??"-"]}),p.jsxs("span",{className:"px-2 py-1 rounded bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",children:["Low: ",h??"-"]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"hidden md:flex flex-col text-xs text-gray-500 dark:text-gray-400",children:[p.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:u}),p.jsx("span",{children:l})]}),p.jsx("button",{className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700",onClick:s,children:"Cambia sede"}),p.jsx("button",{className:"hidden md:block px-3 py-2 rounded bg-gray-100 dark:bg-gray-700",onClick:c,children:r?"Light":"Dark"}),p.jsx("button",{className:"md:hidden px-3 py-2 rounded bg-gray-100 dark:bg-gray-700",onClick:()=>e(g=>!g),children:"Menu"})]})]}),p.jsxs("nav",{className:"hidden md:flex gap-2 mt-2",children:[p.jsx(De,{to:"/products",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Prodotti"}),p.jsx(De,{to:"/receive",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Ricezione"}),p.jsx(De,{to:"/stock/add",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Aggiungi stock"}),p.jsx(De,{to:"/sell",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Vendita"}),p.jsx(De,{to:"/inventory",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Inventario"}),p.jsx(De,{to:"/sales",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Storico"}),p.jsx(De,{to:"/analytics",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Analisi"}),p.jsx(De,{to:"/setup",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Setup"})]}),t&&p.jsxs("div",{className:"md:hidden mt-2 grid grid-cols-2 gap-2",children:[p.jsxs("div",{className:"col-span-2 flex flex-col rounded-lg bg-gray-100 dark:bg-gray-800 p-3 text-sm",children:[p.jsx("span",{className:"font-semibold text-base text-gray-900 dark:text-gray-100",children:u}),p.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:l}),p.jsx("button",{className:"btn mt-2",onClick:s,children:"Cambia"})]}),p.jsx("button",{className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700",onClick:c,children:r?"Light":"Dark"}),p.jsx(De,{to:"/products",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Prodotti"}),p.jsx(De,{to:"/receive",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Ricezione"}),p.jsx(De,{to:"/stock/add",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Aggiungi stock"}),p.jsx(De,{to:"/sell",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Vendita"}),p.jsx(De,{to:"/inventory",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Inventario"}),p.jsx(De,{to:"/sales",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Storico"}),p.jsx(De,{to:"/analytics",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Analisi"}),p.jsx(De,{to:"/setup",className:({isActive:g})=>`${ft} ${g?dt:ht}`,children:"Setup"})]})]})}const Dn="flex flex-col items-center gap-1 text-xs px-2 py-2 rounded-lg",bn="bg-black text-white",Pn="bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300";function vm(){return p.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur border-t border-gray-200 dark:border-gray-700 flex justify-around z-30",children:[p.jsxs(De,{to:"/products",className:({isActive:t})=>`${Dn} ${t?bn:Pn}`,children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Prodotti"})]}),p.jsxs(De,{to:"/receive",className:({isActive:t})=>`${Dn} ${t?bn:Pn}`,children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Ricevi"})]}),p.jsxs(De,{to:"/stock/add",className:({isActive:t})=>`${Dn} ${t?bn:Pn}`,children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Stock"})]}),p.jsxs(De,{to:"/sell",className:({isActive:t})=>`${Dn} ${t?bn:Pn}`,children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Vendi"})]}),p.jsxs(De,{to:"/inventory",className:({isActive:t})=>`${Dn} ${t?bn:Pn}`,children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Stock"})]}),p.jsxs(De,{to:"/analytics",className:({isActive:t})=>`${Dn} ${t?bn:Pn}`,children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Analisi"})]})]})}function gm({toasts:t}){return t.length?p.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>p.jsx("div",{className:`px-4 py-2 rounded-lg shadow text-sm ${e.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:e.message},e.id))}):null}function xm(){const[t,e]=C.useState([]),r=C.useCallback((n,i="success")=>{const a=Math.random().toString(36).slice(2,9);e(o=>[...o,{id:a,message:n,type:i}]),setTimeout(()=>{e(o=>o.filter(s=>s.id!==a))},3e3)},[]);return{toasts:t,addToast:r}}function ym(){const{isAuthenticated:t}=vs(),{locations:e,selectGeneral:r,selectLocation:n,refreshLocations:i,isSelectorOpen:a,hasSelection:o,loadingLocations:s,closeSelector:u}=sn();return!t||!a?null:p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",children:p.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-white dark:bg-gray-900 p-6 space-y-5 shadow-2xl",children:[p.jsxs("div",{className:"space-y-1 text-center",children:[p.jsx("p",{className:"text-sm uppercase tracking-wide text-gray-500",children:"Modalit operativa"}),p.jsx("h2",{className:"text-2xl font-semibold",children:"Scegli dove vuoi lavorare"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Puoi sempre cambiare sede dal menu superiore. La modalit Generale permette solo consultazione e anagrafica prodotti."})]}),p.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[p.jsxs("button",{onClick:r,className:"rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50/70 dark:bg-gray-800/70 px-4 py-5 text-left hover:border-black focus:outline-none focus:ring-2 focus:ring-black",children:[p.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Modalit"}),p.jsx("div",{className:"text-lg font-semibold",children:"Vista generale"}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Consulta lo stock aggregato, crea nuovi prodotti e fai analisi senza toccare le giacenze."})]}),e.map(l=>p.jsxs("button",{onClick:()=>n(l),className:"rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 px-4 py-5 text-left hover:border-black focus:outline-none focus:ring-2 focus:ring-black",children:[p.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-500",children:"Location"}),p.jsx("div",{className:"text-lg font-semibold",children:l.name}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tutte le ricezioni, vendite e movimenti verranno registrati su questa sede."})]},l.id))]}),p.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-sm text-gray-500",children:[p.jsx("div",{children:s?"Aggiornamento location...":"Non trovi la tua sede? Aggiungila nella pagina Locations."}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:i,className:"underline",children:"Aggiorna elenco"}),o&&p.jsx("button",{onClick:u,className:"px-4 py-2 rounded-lg bg-black text-white",children:"Inizia"})]})]})]})})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wm=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),_d=t=>{const e=wm(t);return e.charAt(0).toUpperCase()+e.slice(1)},ap=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),_m=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Em={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},u)=>C.createElement("svg",{ref:u,...Em,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:ap("lucide",i),...!a&&!_m(s)&&{"aria-hidden":"true"},...s},[...o.map(([l,c])=>C.createElement(l,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(t,e)=>{const r=C.forwardRef(({className:n,...i},a)=>C.createElement(Cm,{ref:a,iconNode:e,className:ap(`lucide-${mm(_d(t))}`,`lucide-${t}`,n),...i}));return r.displayName=_d(t),r};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],op=ut("arrow-right",Am);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],Im=ut("barcode",Sm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],sp=ut("box",Nm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Tm=ut("camera",Om);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],up=ut("circle-plus",Rm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bm=ut("lock",Dm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],km=ut("log-out",Pm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],lp=ut("package",Mm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Bm=ut("refresh-cw",Lm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cp=ut("search",Fm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fp=ut("settings",jm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dp=ut("shopping-cart",Um);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hp=ut("trending-up",zm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hm=ut("user",Vm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],pp=ut("warehouse",$m);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gm=ut("x",Wm);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ym=ut("zap",Xm);function Km(){const[t,e]=C.useState(""),[r,n]=C.useState(""),[i,a]=C.useState(""),[o,s]=C.useState(!1),{login:u,isAuthenticated:l}=vs(),c=Ea();C.useEffect(()=>{l&&c("/dashboard",{replace:!0})},[l,c]);const f=async d=>{d.preventDefault(),a(""),s(!0);try{await u(t,r)?c("/dashboard",{replace:!0}):a("Credenziali non valide")}catch{a("Errore durante il login")}finally{s(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-4",children:p.jsx("div",{className:"w-full max-w-md",children:p.jsx("div",{className:"card bg-white/10 backdrop-blur-lg border border-white/20 shadow-2xl",children:p.jsxs("div",{className:"p-8 space-y-6",children:[p.jsxs("div",{className:"text-center space-y-2",children:[p.jsx("h1",{className:"text-3xl font-bold text-white",children:"Nucizzz IMS"}),p.jsx("p",{className:"text-gray-300",children:"Accedi al tuo account"})]}),p.jsxs("form",{onSubmit:f,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[p.jsx(Hm,{className:"h-4 w-4"}),"Username"]}),p.jsx("input",{type:"text",value:t,onChange:d=>e(d.target.value),className:"input w-full bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-white/40 focus:ring-2 focus:ring-white/20",placeholder:"Inserisci username",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[p.jsx(bm,{className:"h-4 w-4"}),"Password"]}),p.jsx("input",{type:"password",value:r,onChange:d=>n(d.target.value),className:"input w-full bg-white/10 border-white/20 text-white placeholder-gray-400 focus:border-white/40 focus:ring-2 focus:ring-white/20",placeholder:"Inserisci password",required:!0})]}),i&&p.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 border border-red-500/50 text-red-200 text-sm",children:i}),p.jsx("button",{type:"submit",disabled:o,className:"btn w-full bg-white text-gray-900 hover:bg-gray-100 font-semibold py-3 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:o?"Accesso in corso...":"Accedi"})]}),p.jsx("div",{className:"text-center text-xs text-gray-400",children:"Sistema di gestione inventario"})]})})})})}const Ed=[{id:"products",icon:p.jsx(lp,{className:"h-5 w-5"}),title:"Prodotti",description:"Gestisci catalogo e varianti",route:"/products"},{id:"receive",icon:p.jsx(sp,{className:"h-5 w-5"}),title:"Ricezione",description:"Registra nuovi arrivi",route:"/receive"},{id:"addstock",icon:p.jsx(up,{className:"h-5 w-5"}),title:"Aggiungi stock",description:"Carica pezzi rapidamente",route:"/stock/add"},{id:"sell",icon:p.jsx(dp,{className:"h-5 w-5"}),title:"Vendita",description:"Vendi e scala la giacenza",route:"/sell"},{id:"inventory",icon:p.jsx(pp,{className:"h-5 w-5"}),title:"Inventario",description:"Consulta stock per sede",route:"/inventory"},{id:"transfers",icon:p.jsx(op,{className:"h-5 w-5"}),title:"Trasferimenti",description:"Sposta tra location",route:"/transfers"},{id:"analytics",icon:p.jsx(hp,{className:"h-5 w-5"}),title:"Analytics",description:"Metriche e andamenti",route:"/analytics"},{id:"sales",icon:p.jsx(cp,{className:"h-5 w-5"}),title:"Storico vendite",description:"Filtri e export Excel",route:"/sales"},{id:"locations",icon:p.jsx(fp,{className:"h-5 w-5"}),title:"Sedi",description:"Configura punti vendita",route:"/locations"}];function Zm(){const t=Ea(),{logout:e,user:r}=vs(),{mode:n,location:i,openSelector:a}=sn(),o=n==="location"?(i==null?void 0:i.name)||"Location":"Vista generale",s=n==="location"?"Le azioni stock agiscono sulla sede selezionata":"Modalit consultazione: aggiorna prodotti senza muovere stock",u=[{id:"products",icon:p.jsx(lp,{className:"h-5 w-5"}),title:"Prodotti",description:"Gestisci il catalogo prodotti e le informazioni",route:"/products",area:"md:[grid-area:1/1/2/7] xl:[grid-area:1/1/2/5]"},{id:"receive",icon:p.jsx(sp,{className:"h-5 w-5"}),title:"Ricezione Merce",description:"Aggiungi nuovi prodotti tramite scansione barcode",route:"/receive",area:"md:[grid-area:1/7/2/13] xl:[grid-area:1/5/2/9]"},{id:"addstock",icon:p.jsx(up,{className:"h-5 w-5"}),title:"Aggiungi stock",description:"Carica rapidamente pezzi tramite barcode o ricerca",route:"/stock/add",area:"md:[grid-area:2/1/3/7] xl:[grid-area:1/9/2/13]"},{id:"sell",icon:p.jsx(dp,{className:"h-5 w-5"}),title:"Vendita",description:"Registra vendite e aggiorna lo stock",route:"/sell",area:"md:[grid-area:2/7/3/13] xl:[grid-area:2/1/3/5]"},{id:"inventory",icon:p.jsx(pp,{className:"h-5 w-5"}),title:"Inventario",description:"Visualizza lo stock per location e prodotto",route:"/inventory",area:"md:[grid-area:3/1/4/7] xl:[grid-area:2/5/3/9]"},{id:"transfers",icon:p.jsx(op,{className:"h-5 w-5"}),title:"Trasferimenti",description:"Sposta prodotti tra warehouse e negozio",route:"/transfers",area:"md:[grid-area:3/7/4/13] xl:[grid-area:2/9/3/13]"},{id:"analytics",icon:p.jsx(hp,{className:"h-5 w-5"}),title:"Analytics",description:"Statistiche vendite e performance",route:"/analytics",area:"md:[grid-area:4/1/5/7] xl:[grid-area:3/1/4/5]"},{id:"sales",icon:p.jsx(cp,{className:"h-5 w-5"}),title:"Storico Vendite",description:"Visualizza lo storico delle vendite",route:"/sales",area:"md:[grid-area:4/7/5/13] xl:[grid-area:3/5/4/9]"},{id:"locations",icon:p.jsx(fp,{className:"h-5 w-5"}),title:"Location",description:"Gestisci warehouse e negozi",route:"/locations",area:"md:[grid-area:5/1/6/13] xl:[grid-area:3/9/4/13]"}];n==="location"||u.filter(c=>!["receive","sell"].includes(c.id));const l=n==="location"?Ed:Ed.filter(c=>!["receive","sell"].includes(c.id));return p.jsxs("div",{className:"space-y-6",children:[p.jsx("section",{className:"rounded-3xl bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 p-6 text-white shadow-xl",children:p.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm uppercase tracking-widest text-white/60",children:"Benvenuto"}),p.jsx("h1",{className:"text-3xl font-bold",children:r||"Operatore"}),p.jsx("p",{className:"text-sm text-white/70",children:"Gestisci tutto il negozio da un'unica dashboard."})]}),p.jsxs("div",{className:"flex flex-col gap-3 text-sm",children:[p.jsxs("div",{className:"rounded-2xl border border-white/20 bg-white/5 p-3",children:[p.jsx("div",{className:"text-xs uppercase text-white/60",children:"Sede corrente"}),p.jsx("div",{className:"text-lg font-semibold",children:o}),p.jsx("div",{className:"text-white/70",children:s}),p.jsx("button",{className:"btn mt-3 bg-white/20 text-white hover:bg-white/30",onClick:a,children:"Cambia sede"})]}),p.jsxs("button",{onClick:()=>{e(),t("/login")},className:"btn bg-red-500/20 text-white hover:bg-red-500/40",children:[p.jsx(km,{className:"h-4 w-4"}),p.jsx("span",{children:"Logout"})]})]})]})}),p.jsxs("section",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Azioni rapide"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Ottimizzato per desktop e mobile"})]}),p.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:l.map(c=>p.jsx("button",{onClick:()=>t(c.route),className:"rounded-2xl border border-gray-200 bg-white p-5 text-left transition hover:-translate-y-0.5 hover:border-gray-300 hover:shadow-lg",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"rounded-xl bg-gray-100 p-3 text-gray-900",children:c.icon}),p.jsxs("div",{children:[p.jsx("div",{className:"text-base font-semibold",children:c.title}),p.jsx("p",{className:"text-sm text-gray-500",children:c.description})]})]})},c.id))})]})]})}const mi=vr.forwardRef(({label:t,placeholder:e,value:r,onChange:n,onScan:i,autoFocusOnMount:a=!0,onRequestScan:o,inputRef:s},u)=>{const l=C.useRef(null),c=u||s||l;return C.useEffect(()=>{if(!a||r||typeof window>"u")return;const f=window.setTimeout(()=>{var w,y,x;const d=document.activeElement;if(!d){(w=c.current)==null||w.focus();return}const h=d.tagName.toLowerCase(),v=(y=d.getAttribute)==null?void 0:y.call(d,"contenteditable");h==="input"||h==="textarea"||v==="true"||(x=c.current)==null||x.focus()},250);return()=>window.clearTimeout(f)},[a,r,c]),p.jsxs("div",{className:"space-y-2",children:[t&&p.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{ref:c,className:"input w-full pr-12",placeholder:e,value:r,onChange:f=>n(f.target.value),enterKeyHint:"done",onKeyDown:f=>{f.key==="Enter"&&(f.preventDefault(),r&&(i==null||i(r)))}}),p.jsx("button",{type:"button","aria-label":"Apri scanner barcode",className:"absolute right-2 top-1/2 -translate-y-1/2 btn px-3 py-2",onClick:f=>{f.preventDefault(),f.stopPropagation(),o==null||o()},children:p.jsx(Im,{className:"h-4 w-4"})})]})]})});mi.displayName="ScanInput";function qm(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function Qm(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var Jm=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ew=function(t){Jm(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),qm(a,i.prototype),Qm(a),a}return e}(Error),tw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kt=function(t){tw(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(ew),rw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Le=function(t){rw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(kt),nw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q=function(t){nw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(kt),vp=function(){function t(e){if(this.binarizer=e,e===null)throw new q("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),iw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ue=function(t){iw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(kt),aw=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),_e=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),ow=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jc=function(t){ow(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(kt),sw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cd=function(t){sw(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(jc),uw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ge=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new q("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new Cd(r);if(n>e)throw new Cd(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=uw(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return _e.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),te=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),et=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);_e.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+te.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+te.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new q;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,u=o<i?31:r&31,l=(2<<u)-(1<<s);a[o]|=l}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new q;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var u=s>i?0:e&31,l=s<a?31:r&31,c=(2<<l)-(1<<u)&4294967295;if((o[s]&c)!==(n?c:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new q("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new q("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,u=e[0]>>>s,a=1;a<n;a++){var l=e[a];u|=l<<32-s,e[a-1]=u,u=l>>>s}e[n-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Ge.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Ge.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),Cl;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Cl||(Cl={}));const Ee=Cl;var lw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H=function(t){lw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(kt),cw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pe;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(pe||(pe={}));var We=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var u=this.values,l=0,c=u.length;l!==c;l++){var f=u[l];t.VALUES_TO_ECI.set(f,this)}try{for(var d=cw(o),h=d.next();!h.done;h=d.next()){var v=h.value;t.NAME_TO_ECI.set(v,this)}}catch(g){i={error:g}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new H("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new H("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new H("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(pe.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(pe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(pe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(pe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(pe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(pe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(pe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(pe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(pe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(pe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(pe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(pe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(pe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(pe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(pe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(pe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(pe.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(pe.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(pe.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(pe.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(pe.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(pe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(pe.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(pe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(pe.Big5,28,"Big5"),t.GB18030=new t(pe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(pe.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),fw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vo=function(t){fw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(kt),Zt=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof We?e:We.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(We.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new vo("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(We.UTF8)||e.equals(We.ISO8859_1)||e.equals(We.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),ie=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Zt.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Ee.CHARACTER_SET)!==void 0)return r.get(Ee.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,u=0,l=0,c=0,f=0,d=0,h=0,v=0,g=0,w=0,y=0,x=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,m=0;m<n&&(i||a||o);m++){var _=e[m]&255;o&&(s>0?_&128?s--:o=!1:_&128&&(_&64?(s++,_&32?(s++,_&16?(s++,_&8?o=!1:c++):l++):u++):o=!1)),i&&(_>127&&_<160?i=!1:_>159&&(_<192||_===215||_===247)&&y++),a&&(f>0?_<64||_===127||_>252?a=!1:f--:_===128||_===160||_>239?a=!1:_>160&&_<224?(d++,v=0,h++,h>g&&(g=h)):_>127?(f++,h=0,v++,v>w&&(w=v)):(h=0,v=0))}return o&&s>0&&(o=!1),a&&f>0&&(a=!1),o&&(x||u+l+c>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||g>=3||w>=3)?t.SHIFT_JIS:i&&a?g===2&&d===2||y*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,u,l,c,f,d){if(s==="%%")return"%";if(r[++i]!==void 0){s=c?parseInt(c.substr(1)):void 0;var h=f?parseInt(f.substr(1)):void 0,v;switch(d){case"s":v=r[i];break;case"c":v=r[i][0];break;case"f":v=parseFloat(r[i]).toFixed(s);break;case"p":v=parseFloat(r[i]).toPrecision(s);break;case"e":v=parseFloat(r[i]).toExponential(s);break;case"x":v=parseInt(r[i]).toString(h||16);break;case"d":v=parseFloat(parseInt(r[i],h||10).toPrecision(s)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(h);for(var g=parseInt(l),w=l&&l[0]+""=="0"?"0":" ";v.length<g;)v=u!==void 0?v+w:w+v;return v}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return Zt.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=We.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=We.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=We.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),J=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),wr=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new q("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new q("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,u=0,l=0;l<e.length;)if(e.charAt(l)===`
`||e.charAt(l)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new q("row lengths do not match");o=a,u++}l++}else if(e.substring(l,l+r.length)===r)l+=r.length,i[a]=!0,a++;else if(e.substring(l,l+n.length)===n)l+=n.length,i[a]=!1,a++;else throw new q("illegal character encountered: "+e.substring(l));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new q("row lengths do not match");u++}for(var c=new t(s,u),f=0;f<a;f++)i[f]&&c.set(Math.floor(f%s),Math.floor(f/s));return c},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new q("input matrix dimensions do not match");for(var r=new et(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,u=e.getRow(a,r).getBitArray(),l=0;l<n;l++)i[s+l]^=u[l]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new q("Left and top must be nonnegative");if(i<1||n<1)throw new q("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new q("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,l=r;l<o;l++)for(var c=l*s,f=e;f<a;f++)u[c+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new et(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){_e.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new et(e),i=new et(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,u=-1,l=0;l<r;l++)for(var c=0;c<n;c++){var f=i[l*n+c];if(f!==0){if(l<o&&(o=l),l>u&&(u=l),c*32<a){for(var d=0;!(f<<31-d&4294967295);)d++;c*32+d<a&&(a=c*32+d)}if(c*32+31>s){for(var d=31;!(f>>>d);)d--;c*32+d>s&&(s=c*32+d)}}}return s<a||u<o?null:Int32Array.from([a,o,s-a+1,u-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Ge.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Ge.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new J,a=0,o=this.height;a<o;a++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),dw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D=function(t){dw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(kt),hw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pw=function(t){hw(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new et(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,u=0;u<a;u++)s[(o[u]&255)>>e.LUMINANCE_SHIFT]++;var l=e.estimateBlackPoint(s);if(a<3)for(var u=0;u<a;u++)(o[u]&255)<l&&n.set(u);else for(var c=o[0]&255,f=o[1]&255,u=1;u<a-1;u++){var d=o[u+1]&255;(f*4-c-d)/2<l&&n.set(u),c=f,f=d}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new wr(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),l=r.getRow(u,this.luminances),c=Math.floor(n*4/5),f=Math.floor(n/5);f<c;f++){var d=l[f]&255;o[d>>e.LUMINANCE_SHIFT]++}for(var h=e.estimateBlackPoint(o),v=r.getMatrix(),s=0;s<i;s++)for(var g=s*n,f=0;f<n;f++){var d=v[g+f]&255;d<h&&a.set(f,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var u=0,l=0,s=0;s<n;s++){var c=s-a,f=r[s]*c*c;f>l&&(u=s,l=f)}if(a>u){var d=a;a=u,u=d}if(u-a<=n/16)throw new D;for(var h=u-1,v=-1,s=u-1;s>a;s--){var g=s-a,f=g*g*(u-s)*(i-r[s]);f>v&&(h=s,v=f)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(aw),vw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gp=function(t){vw(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var u=e.calculateBlackPoints(a,o,s,n,i),l=new wr(n,i);e.calculateThresholdForBlock(a,o,s,n,i,u,l),this.matrix=l}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,u){for(var l=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,f=0;f<i;f++){var d=f<<e.BLOCK_SIZE_POWER;d>l&&(d=l);for(var h=e.cap(f,2,i-3),v=0;v<n;v++){var g=v<<e.BLOCK_SIZE_POWER;g>c&&(g=c);for(var w=e.cap(v,2,n-3),y=0,x=-2;x<=2;x++){var m=s[h+x];y+=m[w-2]+m[w-1]+m[w]+m[w+1]+m[w+2]}var _=y/25;e.thresholdBlock(r,g,d,_,a,u)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var u=0,l=i*o+n;u<e.BLOCK_SIZE;u++,l+=o)for(var c=0;c<e.BLOCK_SIZE;c++)(r[l+c]&255)<=a&&s.set(n+c,i+u)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,l=new Array(i),c=0;c<i;c++){l[c]=new Int32Array(n);var f=c<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var d=0;d<n;d++){var h=d<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var v=0,g=255,w=0,y=0,x=f*a+h;y<e.BLOCK_SIZE;y++,x+=a){for(var m=0;m<e.BLOCK_SIZE;m++){var _=r[x+m]&255;v+=_,_<g&&(g=_),_>w&&(w=_)}if(w-g>e.MIN_DYNAMIC_RANGE)for(y++,x+=a;y<e.BLOCK_SIZE;y++,x+=a)for(var m=0;m<e.BLOCK_SIZE;m++)v+=r[x+m]&255}var A=v>>e.BLOCK_SIZE_POWER*2;if(w-g<=e.MIN_DYNAMIC_RANGE&&(A=g/2,c>0&&d>0)){var I=(l[c-1][d]+2*l[c][d-1]+l[c-1][d-1])/4;g<I&&(A=I)}l[c][d]=A}}return l},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(pw),Ia=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new vo("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new vo("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new vo("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new J,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),gw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_s=function(t){gw(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Ia),xw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yw=function(t){xw(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,u=0,l=r.length;s<l;s+=4,u++){var c=void 0,f=r[s+3];if(f===0)c=255;else{var d=r[s],h=r[s+1],v=r[s+2];c=306*d+601*h+117*v+512>>10}o[u]=c}else for(var s=0,u=0,g=r.length;s<g;s+=4,u++){var c=void 0,f=r[s+3];if(f===0)c=255;else{var d=r[s],h=r[s+1],v=r[s+2];c=306*d+601*h+117*v+512>>10}o[u]=255-c}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new q("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),l=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=u,n.height=l,i.translate(u/2,l/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new _s(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Ia),mw=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),yt=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},mt=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},ww=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wi=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return yt(this,void 0,void 0,function(){var e,r,n,i,a,o,s,u,l,c,f,d;return mt(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),r=[];try{for(n=ww(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device "+(r.length+1),l=a.groupId,c={deviceId:s,label:u,kind:o,groupId:l},r.push(c))}catch(v){f={error:v}}finally{try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return yt(this,void 0,void 0,function(){var e;return mt(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new mw(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return yt(this,void 0,void 0,function(){var r;return mt(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return yt(this,void 0,void 0,function(){return mt(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return yt(this,void 0,void 0,function(){var n,i;return mt(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return yt(this,void 0,void 0,function(){var n;return mt(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return yt(this,void 0,void 0,function(){var n,i;return mt(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return yt(this,void 0,void 0,function(){return mt(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return yt(this,void 0,void 0,function(){var i,a;return mt(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return yt(this,void 0,void 0,function(){var i;return mt(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return yt(this,void 0,void 0,function(){var i;return mt(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return yt(this,void 0,void 0,function(){var n;return mt(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return yt(this,void 0,void 0,function(){return mt(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Le("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Le("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Le("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Le("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Le("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Le("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Le("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Le("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Le("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Le("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return yt(this,void 0,void 0,function(){return mt(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return yt(this,void 0,void 0,function(){return mt(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new D("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);o(u)}catch(d){var l=r&&d instanceof D,c=d instanceof Ue||d instanceof H,f=c&&n;if(l||f)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(d)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(u){r(null,u);var o=u instanceof Ue||u instanceof H,s=u instanceof D;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new yw(n,r),a=new gp(i);return new vp(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),xt=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=_e.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=_e.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);_e.arraycopy(r,0,n,0,r.length),_e.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Al;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Al||(Al={}));const K=Al;var Sl;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Sl||(Sl={}));const at=Sl;var Es=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),ji=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new q;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Jr=function(){function t(e,r){if(r.length===0)throw new q;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),_e.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=ji.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,u=this.field,i=1;i<s;i++)n=ji.addOrSubtract(u.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new q("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;_e.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=ji.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new q("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,u=0;u<n;u++)for(var l=r[u],c=0;c<a;c++)o[u+c]=ji.addOrSubtract(o[u+c],s.multiply(l,i[c]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new q;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new q("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new q("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=r.multiply(i.getCoefficient(i.getDegree()),o),l=e.multiplyByMonomial(s,u),c=r.buildMonomial(s,u);n=n.addOrSubtract(c),i=i.addOrSubtract(l)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),_w=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xp=function(t){_w(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(kt),Ew=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nt=function(t){Ew(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,u=0;u<n;u++)o[u]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var l=new Int32Array(n),u=0;u<n-1;u++)l[o[u]]=u;return a.logTable=l,a.zero=new Jr(a,Int32Array.from([0])),a.one=new Jr(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new q;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Jr(this,i)},e.prototype.inverse=function(r){if(r===0)throw new xp;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+te.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(ji),Cw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xa=function(t){Cw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(kt),Aw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Na=function(t){Aw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(kt),Cs=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Jr(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var u=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=u,u!==0&&(o=!1)}if(!o)for(var l=new Jr(n,a),c=this.runEuclideanAlgorithm(n.buildMonomial(r,1),l,r),f=c[0],d=c[1],h=this.findErrorLocations(f),v=this.findErrorMagnitudes(d,h),s=0;s<h.length;s++){var g=e.length-1-n.log(h[s]);if(g<0)throw new Xa("Bad error location");e[g]=Nt.addOrSubtract(e[g],v[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,u=a.getZero(),l=a.getOne();s.getDegree()>=(n/2|0);){var c=o,f=u;if(o=s,u=l,o.isZero())throw new Xa("r_{i-1} was zero");s=c;for(var d=a.getZero(),h=o.getCoefficient(o.getDegree()),v=a.inverse(h);s.getDegree()>=o.getDegree()&&!s.isZero();){var g=s.getDegree()-o.getDegree(),w=a.multiply(s.getCoefficient(s.getDegree()),v);d=d.addOrSubtract(a.buildMonomial(g,w)),s=s.addOrSubtract(o.multiplyByMonomial(g,w))}if(l=d.multiply(u).addOrSubtract(f),s.getDegree()>=o.getDegree())throw new Na("Division algorithm failed to reduce polynomial?")}var y=l.getCoefficient(0);if(y===0)throw new Xa("sigmaTilde(0) was zero");var x=a.inverse(y),m=l.multiplyScalar(x),_=s.multiplyScalar(x);return[m,_]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new Xa("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),u=1,l=0;l<n;l++)if(o!==l){var c=a.multiply(r[l],s),f=c&1?c&-2:c|1;u=a.multiply(u,f)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(u)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),rt;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(rt||(rt={}));var Ad=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new Es(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=rt.UPPER,i=rt.UPPER,a="",o=0;o<r;)if(i===rt.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var u=0;u<s;u++){if(r-o<8){o=r;break}var l=t.readCode(e,o,8);a+=ie.castAsNonUtf8Char(l),o+=8}i=n}else{var c=i===rt.DIGIT?4:5;if(r-o<c)break;var l=t.readCode(e,o,c);o+=c;var f=t.getCharacter(i,l);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(a+=f,i=n)}return a},t.getTable=function(e){switch(e){case"L":return rt.LOWER;case"P":return rt.PUNCT;case"M":return rt.MIXED;case"D":return rt.DIGIT;case"B":return rt.BINARY;case"U":default:return rt.UPPER}},t.getCharacter=function(e,r){switch(e){case rt.UPPER:return t.UPPER_TABLE[r];case rt.LOWER:return t.LOWER_TABLE[r];case rt.MIXED:return t.MIXED_TABLE[r];case rt.PUNCT:return t.PUNCT_TABLE[r];case rt.DIGIT:return t.DIGIT_TABLE[r];default:throw new Na("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Nt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Nt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Nt.AZTEC_DATA_10):(n=12,r=Nt.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new H;for(var o=e.length%n,s=new Int32Array(a),u=0;u<a;u++,o+=n)s[u]=t.readCode(e,o,n);try{var l=new Cs(r);l.decode(s,a-i)}catch(w){throw new H(w)}for(var c=(1<<n)-1,f=0,u=0;u<i;u++){var d=s[u];if(d===0||d===c)throw new H;(d===1||d===c-1)&&f++}for(var h=new Array(i*n-f),v=0,u=0;u<i;u++){var d=s[u];if(d===1||d===c-1)h.fill(d>1,v,v+n-1),v+=n-1;else for(var g=n-1;g>=0;--g)h[v++]=(d&1<<g)!==0}return h},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var u=i+1+2*te.truncDivision(te.truncDivision(i,2)-1,15),l=i/2,c=te.truncDivision(u,2),s=0;s<l;s++){var f=s+te.truncDivision(s,15);a[l-s-1]=c-f-1,a[l+s]=c+f+1}for(var s=0,d=0;s<n;s++){for(var h=(n-s)*4+(r?9:12),v=s*2,g=i-1-v,w=0;w<h;w++)for(var y=w*2,x=0;x<2;x++)o[d+y+x]=e.get(a[v+x],a[v+w]),o[d+2*h+y+x]=e.get(a[v+w],a[g-x]),o[d+4*h+y+x]=e.get(a[g-x],a[g-w]),o[d+6*h+y+x]=e.get(a[g-w],a[v+x]);d+=h*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),se=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),Il=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),X=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Il.floatToIntBits(this.x)+Il.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var u=a;a=s,s=u}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return se.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),Uc=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Sw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Iw=function(t){Sw(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Uc),Nl=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new D}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,u=!1,l=!1,c=!1,f=!1,d=this.width,h=this.height;o;){o=!1;for(var v=!0;(v||!u)&&r<d;)v=this.containsBlackPoint(n,i,r,!1),v?(r++,o=!0,u=!0):u||r++;if(r>=d){a=!0;break}for(var g=!0;(g||!l)&&i<h;)g=this.containsBlackPoint(e,r,i,!0),g?(i++,o=!0,l=!0):l||i++;if(i>=h){a=!0;break}for(var w=!0;(w||!c)&&e>=0;)w=this.containsBlackPoint(n,i,e,!1),w?(e--,o=!0,c=!0):c||e--;if(e<0){a=!0;break}for(var y=!0;(y||!f)&&n>=0;)y=this.containsBlackPoint(e,r,n,!0),y?(n--,o=!0,f=!0):f||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var x=r-e,m=null,_=1;m===null&&_<x;_++)m=this.getBlackPointOnSegment(e,i-_,e+_,i);if(m==null)throw new D;for(var A=null,_=1;A===null&&_<x;_++)A=this.getBlackPointOnSegment(e,n+_,e+_,n);if(A==null)throw new D;for(var I=null,_=1;I===null&&_<x;_++)I=this.getBlackPointOnSegment(r,n+_,r-_,n);if(I==null)throw new D;for(var S=null,_=1;S===null&&_<x;_++)S=this.getBlackPointOnSegment(r,i-_,r-_,i);if(S==null)throw new D;return this.centerEdges(S,m,I,A)}else throw new D},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=se.round(se.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,u=this.image,l=0;l<a;l++){var c=se.round(e+l*o),f=se.round(r+l*s);if(u.get(c,f))return new X(c,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),u=r.getY(),l=n.getX(),c=n.getY(),f=i.getX(),d=i.getY(),h=t.CORR;return a<this.width/2?[new X(f-h,d+h),new X(s+h,u+h),new X(l-h,c-h),new X(a+h,o-h)]:[new X(f+h,d+h),new X(s+h,u-h),new X(l-h,c+h),new X(a-h,o-h)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),Sd=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),u=Math.floor(r[o+1]);if(s<-1||s>n||u<-1||u>i)throw new D;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),u===-1?(r[o+1]=0,a=!0):u===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),u=Math.floor(r[o+1]);if(s<-1||s>n||u<-1||u>i)throw new D;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),u===-1?(r[o+1]=0,a=!0):u===i&&(r[o+1]=i-1,a=!0)}},t}(),yp=function(){function t(e,r,n,i,a,o,s,u,l){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=u,this.a33=l}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,u,l,c,f,d,h,v,g,w){var y=t.quadrilateralToSquare(e,r,n,i,a,o,s,u),x=t.squareToQuadrilateral(l,c,f,d,h,v,g,w);return x.times(y)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,l=this.a31,c=this.a32,f=this.a33,d=0;d<r;d+=2){var h=e[d],v=e[d+1],g=a*h+u*v+f;e[d]=(n*h+o*v+l)/g,e[d+1]=(i*h+s*v+c)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,l=this.a31,c=this.a32,f=this.a33,d=e.length,h=0;h<d;h++){var v=e[h],g=r[h],w=a*v+u*g+f;e[h]=(n*v+o*g+l)/w,r[h]=(i*v+s*g+c)/w}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,u){var l=e-n+a-s,c=r-i+o-u;if(l===0&&c===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var f=n-a,d=s-a,h=i-o,v=u-o,g=f*v-d*h,w=(l*v-d*c)/g,y=(f*c-l*h)/g;return new t(n-e+w*n,s-e+y*s,e,i-r+w*i,u-r+y*u,r,w,y,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,u){return t.squareToQuadrilateral(e,r,n,i,a,o,s,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Nw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ow=function(t){Nw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,u,l,c,f,d,h,v,g,w,y,x,m,_){var A=yp.quadrilateralToQuadrilateral(a,o,s,u,l,c,f,d,h,v,g,w,y,x,m,_);return this.sampleGridWithTransform(r,n,i,A)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new D;for(var o=new wr(n,i),s=new Float32Array(2*n),u=0;u<i;u++){for(var l=s.length,c=u+.5,f=0;f<l;f+=2)s[f]=f/2+.5,s[f+1]=c;a.transformPoints(s),Sd.checkAndNudgePoints(r,s);try{for(var f=0;f<l;f+=2)r.get(Math.floor(s[f]),Math.floor(s[f+1]))&&o.set(f/2,u)}catch{throw new D}}return o},e}(Sd),zc=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Ow,t}(),St=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new X(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),Tw=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new Iw(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new D;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var u=(a>>r-2<<1)+(a&1);n=(n<<3)+u}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(te.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new D},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var u=new Cs(Nt.AZTEC_PARAM);u.decode(o,a)}catch{throw new D}for(var l=0,s=0;s<i;s++)l=(l<<4)+o[s];return l},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),u=this.getFirstDifferent(n,o,1,1),l=this.getFirstDifferent(i,o,-1,1),c=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(s,u,l,c))break}r=s,n=u,i=l,a=c,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new D;this.compact=this.nbCenterLayers===5;var d=new X(r.getX()+.5,r.getY()-.5),h=new X(n.getX()+.5,n.getY()+.5),v=new X(i.getX()-.5,i.getY()+.5),g=new X(a.getX()-.5,a.getY()-.5);return this.expandSquare([d,h,v,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new Nl(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new St(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new St(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new St(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new St(o-7,s-7),!1,-1,-1).toResultPoint()}var u=se.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=se.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new Nl(this.image,15,u,l).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new St(u+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new St(u+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new St(u-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new St(u-7,l-7),!1,-1,-1).toResultPoint()}return u=se.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=se.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new St(u,l)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=zc.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,u,u,l,u,l,l,u,l,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),u=e.getY(),l=o*(r.getX()-e.getX())/a,c=o*(r.getY()-e.getY())/a,f=0;f<n;f++)this.image.get(se.round(s+f*l),se.round(u+f*c))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new St(e.getX()-a,e.getY()+a),r=new St(r.getX()-a,r.getY()-a),n=new St(n.getX()+a,n.getY()-a),i=new St(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),u=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),f=0;f<c;f++)s+=i,u+=a,this.image.get(se.round(s),se.round(u))!==l&&o++;var d=o/n;return d>.1&&d<.9?0:d<=.1===l?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new St(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,l=new X(s+i*a,u+i*o),c=new X(s-i*a,u-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var f=new X(s+i*a,u+i*o),d=new X(s-i*a,u-i*o),h=[l,f,c,d];return h},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=se.round(e.getX()),n=se.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return se.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return se.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(te.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Wo=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new Tw(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new Ad().decode(s)}catch(f){n=f}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new Ad().decode(s)}catch(f){throw n??f}var u=new xt(o.getText(),o.getRawBytes(),o.getNumBits(),a,K.AZTEC,_e.currentTimeMillis()),l=o.getByteSegments();l!=null&&u.putMetadata(at.BYTE_SEGMENTS,l);var c=o.getECLevel();return c!=null&&u.putMetadata(at.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Ee.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),Rw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Rw(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Wo,r)||this}return e})(wi);var Ye=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Ee.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(at.ORIENTATION)===!0&&(s=s+o.get(at.ORIENTATION)%360),a.putMetadata(at.ORIENTATION,s);var u=a.getResultPoints();if(u!==null)for(var l=i.getHeight(),c=0;c<u.length;c++)u[c]=new X(l-u[c].getY()-1,u[c].getX());return a}else throw new D}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new et(n),o=r&&r.get(Ee.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),u;o?u=i:u=15;for(var l=Math.trunc(i/2),c=0;c<u;c++){var f=Math.trunc((c+1)/2),d=(c&1)===0,h=l+s*(d?f:-f);if(h<0||h>=i)break;try{a=e.getBlackRow(h,a)}catch{continue}for(var v=function(x){if(x===1&&(a.reverse(),r&&r.get(Ee.NEED_RESULT_POINT_CALLBACK)===!0)){var m=new Map;r.forEach(function(I,S){return m.set(S,I)}),m.delete(Ee.NEED_RESULT_POINT_CALLBACK),r=m}try{var _=g.decodeRow(h,a,r);if(x===1){_.putMetadata(at.ORIENTATION,180);var A=_.getResultPoints();A!==null&&(A[0]=new X(n-A[0].getX()-1,A[0].getY()),A[1]=new X(n-A[1].getX()-1,A[1].getY()))}return{value:_}}catch{}},g=this,w=0;w<2;w++){var y=v(w);if(typeof y=="object")return y.value}}throw new D},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new D;for(var s=!e.get(r),u=0,l=r;l<o;){if(e.get(l)!==s)n[u]++;else{if(++u===i)break;n[u]=1,s=!s}l++}if(!(u===i||u===i-1&&l===o))throw new D},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new D;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var u=a/o;n*=u;for(var l=0,c=0;c<i;c++){var f=e[c],d=r[c]*u,h=f>d?f-d:d-f;if(h>n)return Number.POSITIVE_INFINITY;l+=h}return l/a},t}(),Dw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Id=function(t){Dw(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,l=6,c=i;c<n;c++)if(r.get(c)!==u)o[a]++;else{if(a===l-1){for(var f=e.MAX_AVG_VARIANCE,d=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var v=Ye.patternMatchVariance(o,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);v<f&&(f=v,d=h)}if(d>=0&&r.isRange(Math.max(0,s-(c-s)/2),s,!1))return Int32Array.from([s,c,d]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,u=!u}throw new D},e.decodeCode=function(r,n,i){Ye.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],l=this.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);l<a&&(a=l,o=s)}if(o>=0)return o;throw new D},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(Ee.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],u=0,l=new Uint8Array(20);l[u++]=s;var c;switch(s){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new H}for(var f=!1,d=!1,h="",v=o[0],g=o[1],w=Int32Array.from([0,0,0,0,0,0]),y=0,x=0,m=s,_=0,A=!0,I=!1,S=!1;!f;){var N=d;switch(d=!1,y=x,x=e.decodeCode(n,w,g),l[u++]=x,x!==e.CODE_STOP&&(A=!0),x!==e.CODE_STOP&&(_++,m+=_*x),v=g,g+=w.reduce(function($,L){return $+L},0),x){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new H}switch(c){case e.CODE_CODE_A:if(x<64)S===I?h+=String.fromCharCode(32+x):h+=String.fromCharCode(32+x+128),S=!1;else if(x<96)S===I?h+=String.fromCharCode(x-64):h+=String.fromCharCode(x+64),S=!1;else switch(x!==e.CODE_STOP&&(A=!1),x){case e.CODE_FNC_1:a&&(h.length===0?h+="]C1":h+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!I&&S?(I=!0,S=!1):I&&S?(I=!1,S=!1):S=!0;break;case e.CODE_SHIFT:d=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(x<96)S===I?h+=String.fromCharCode(32+x):h+=String.fromCharCode(32+x+128),S=!1;else switch(x!==e.CODE_STOP&&(A=!1),x){case e.CODE_FNC_1:a&&(h.length===0?h+="]C1":h+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!I&&S?(I=!0,S=!1):I&&S?(I=!1,S=!1):S=!0;break;case e.CODE_SHIFT:d=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(x<100)x<10&&(h+="0"),h+=x;else switch(x!==e.CODE_STOP&&(A=!1),x){case e.CODE_FNC_1:a&&(h.length===0?h+="]C1":h+="");break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}N&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var b=g-v;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-v)/2),!1))throw new D;if(m-=_*y,m%103!==y)throw new Ue;var P=h.length;if(P===0)throw new D;P>0&&A&&(c===e.CODE_CODE_C?h=h.substring(0,P-2):h=h.substring(0,P-1));for(var R=(o[1]+o[0])/2,z=v+b/2,j=l.length,F=new Uint8Array(j),B=0;B<j;B++)F[B]=l[B];var V=[new X(R,r),new X(z,r)];return new xt(h,F,0,V,K.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Ye),bw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nd=function(t){bw(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,u,l=this.counters;l.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(n,l),f=n.getNextSet(c[1]),d=n.getSize(),h,v;do{e.recordPattern(n,f,l);var g=e.toNarrowWidePattern(l);if(g<0)throw new D;h=e.patternToChar(g),this.decodeRowResult+=h,v=f;try{for(var w=(a=void 0,iu(l)),y=w.next();!y.done;y=w.next()){var x=y.value;f+=x}}catch(j){a={error:j}}finally{try{y&&!y.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var m=0;try{for(var _=iu(l),A=_.next();!A.done;A=_.next()){var x=A.value;m+=x}}catch(j){s={error:j}}finally{try{A&&!A.done&&(u=_.return)&&u.call(_)}finally{if(s)throw s.error}}var I=f-v-m;if(f!==d&&I*2<m)throw new D;if(this.usingCheckDigit){for(var S=this.decodeRowResult.length-1,N=0,b=0;b<S;b++)N+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(b));if(this.decodeRowResult.charAt(S)!==e.ALPHABET_STRING.charAt(N%43))throw new Ue;this.decodeRowResult=this.decodeRowResult.substring(0,S)}if(this.decodeRowResult.length===0)throw new D;var P;this.extendedMode?P=e.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;var R=(c[1]+c[0])/2,z=v+m/2;return new xt(P,null,0,[new X(R,r),new X(z,r)],K.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,u=!1,l=n.length,c=a;c<i;c++)if(r.get(c)!==u)n[o]++;else{if(o===l-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new D},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var u=2147483647;try{for(var l=(n=void 0,iu(r)),c=l.next();!c.done;c=l.next()){var f=c.value;f<u&&f>o&&(u=f)}}catch(g){n={error:g}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}o=u,s=0;for(var d=0,h=0,v=0;v<a;v++){var f=r[v];f>o&&(h|=1<<a-1-v,s++,d+=f)}if(s===3){for(var v=0;v<a&&s>0;v++){var f=r[v];if(f>o&&(s--,f*2>=d))return-1}return h}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new D},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),u="\0";switch(o){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new H;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new H;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="";else throw new H;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new H;break}i+=u,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Ye),Pw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),au=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Od=function(t){Pw(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,u,l=this.findAsteriskPattern(n),c=n.getNextSet(l[1]),f=n.getSize(),d=this.counters;d.fill(0),this.decodeRowResult="";var h,v;do{e.recordPattern(n,c,d);var g=this.toPattern(d);if(g<0)throw new D;h=this.patternToChar(g),this.decodeRowResult+=h,v=c;try{for(var w=(a=void 0,au(d)),y=w.next();!y.done;y=w.next()){var x=y.value;c+=x}}catch(b){a={error:b}}finally{try{y&&!y.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}c=n.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var m=0;try{for(var _=au(d),A=_.next();!A.done;A=_.next()){var x=A.value;m+=x}}catch(b){s={error:b}}finally{try{A&&!A.done&&(u=_.return)&&u.call(_)}finally{if(s)throw s.error}}if(c===f||!n.get(c))throw new D;if(this.decodeRowResult.length<2)throw new D;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var I=this.decodeExtended(this.decodeRowResult),S=(l[1]+l[0])/2,N=v+m/2;return new xt(I,null,0,[new X(S,r),new X(N,r)],K.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,u=a.length,l=0,c=i;c<n;c++)if(r.get(c)!==s)a[l]++;else{if(l===u-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,c]);o+=a[0]+a[1],a.copyWithin(0,2,2+l-1),a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,s=!s}throw new D},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=au(r),s=o.next();!s.done;s=o.next()){var u=s.value;a+=u}}catch(v){n={error:v}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var l=0,c=r.length,f=0;f<c;f++){var d=Math.round(r[f]*9/a);if(d<1||d>4)return-1;if(f&1)l<<=d;else for(var h=0;h<d;h++)l=l<<1|1}return l},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new D},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new H;var s=r.charAt(a+1),u="\0";switch(o){case"d":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new H;break;case"a":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new H;break;case"b":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s>="X"&&s<="Z")u="";else throw new H;break;case"c":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new H;break}i+=u,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new Ue},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Ye),kw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Td=function(t){kw(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),u=this.decodeEnd(n),l=new J;e.decodeMiddle(n,s[1],u[0],l);var c=l.toString(),f=null;i!=null&&(f=i.get(Ee.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var d=c.length,h=!1,v=0;try{for(var g=Mw(f),w=g.next();!w.done;w=g.next()){var y=w.value;if(d===y){h=!0;break}y>v&&(v=y)}}catch(_){a={error:_}}finally{try{w&&!w.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}if(!h&&d>v&&(h=!0),!h)throw new H;var x=[new X(s[1],r),new X(u[0],r)],m=new xt(c,null,0,x,K.ITF,new Date().getTime());return m},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),s.fill(0),u.fill(0);n<i;){Ye.recordPattern(r,n,o);for(var l=0;l<5;l++){var c=2*l;s[l]=o[c],u[l]=o[c+1]}var f=e.decodeDigit(s);a.append(f.toString()),f=this.decodeDigit(u),a.append(f.toString()),o.forEach(function(d){n+=d})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new D},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new D;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof D&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),u=!1,l=0,c=n;o.fill(0);for(var f=n;f<s;f++)if(r.get(f)!==u)o[l]++;else{if(l===a-1){if(Ye.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,f];c+=o[0]+o[1],_e.arraycopy(o,2,o,0,l-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,u=!u}throw new D},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],u=Ye.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,i=o):u===n&&(i=-1)}if(i>=0)return i%10;throw new D},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Ye),Lw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ci=function(t){Lw(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var u=s-(a-s);u>=0&&(n=r.isRange(u,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new H;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new H;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var u=0,l=n,c=a.length,f=i,d=n;d<s;d++)if(r.get(d)!==f)o[u]++;else{if(u===c-1){if(Ye.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([l,d]);l+=o[0]+o[1];for(var h=o.slice(2,o.length),v=0;v<u-1;v++)o[v]=h[v];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,f=!f}throw new D},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,u=a.length,l=0;l<u;l++){var c=a[l],f=Ye.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=l)}if(s>=0)return s;throw new D},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Ye),Bw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fw=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),u=[new X((n[0]+n[1])/2,e),new X(a,e)],l=new xt(o,null,0,u,K.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=r[1],l=0,c=0;c<5&&u<s;c++){var f=ci.decodeDigit(e,o,u,ci.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var d=(i=void 0,Bw(o)),h=d.next();!h.done;h=d.next()){var v=h.value;u+=v}}catch(w){i={error:w}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}f>=10&&(l|=1<<4-c),c!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==5)throw new D;var g=this.determineCheckDigit(l);if(t.extensionChecksum(n.toString())!==g)throw new D;return u},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new D},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[at.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),jw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uw=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),u=[new X((n[0]+n[1])/2,e),new X(a,e)],l=new xt(o,null,0,u,K.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=r[1],l=0,c=0;c<2&&u<s;c++){var f=ci.decodeDigit(e,o,u,ci.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var d=(i=void 0,jw(o)),h=d.next();!h.done;h=d.next()){var v=h.value;u+=v}}catch(g){i={error:g}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}f>=10&&(l|=1<<1-c),c!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==2)throw new D;if(parseInt(n.toString())%4!==l)throw new D;return u},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[at.ISSUE_NUMBER,parseInt(e)]])},t}(),zw=function(){function t(){}return t.decodeRow=function(e,r,n){var i=ci.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new Fw;return a.decodeRow(e,r,i)}catch{var o=new Uw;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),Vw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$e=function(t){Vw(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(Ee.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new X((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var u=this.decodeMiddle(n,a,this.decodeRowStringBuffer),l=u.rowOffset,c=u.resultString;if(o!=null){var f=new X(l,r);o.foundPossibleResultPoint(f)}var d=e.decodeEnd(n,l);if(o!=null){var h=new X((d[0]+d[1])/2,r);o.foundPossibleResultPoint(h)}var v=d[1],g=v+(v-d[0]);if(g>=n.getSize()||!n.isRange(v,g,!1))throw new D;var w=c.toString();if(w.length<8)throw new H;if(!e.checkChecksum(w))throw new Ue;var y=(a[1]+a[0])/2,x=(d[1]+d[0])/2,m=this.getBarcodeFormat(),_=[new X(y,r),new X(x,r)],A=new xt(w,null,0,_,m,new Date().getTime()),I=0;try{var S=zw.decodeRow(r,n,d[1]);A.putMetadata(at.UPC_EAN_EXTENSION,S.getText()),A.putAllMetadata(S.getResultMetadata()),A.addResultPoints(S.getResultPoints()),I=S.getText().length}catch{}var N=i==null?null:i.get(Ee.ALLOWED_EAN_EXTENSIONS);if(N!=null){var b=!1;for(var P in N)if(I.toString()===P){b=!0;break}if(!b)throw new D}return m===K.EAN_13||K.UPC_A,A},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new H;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-48;if(o<0||o>9)throw new H;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(ci),Hw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ol=function(t){Hw(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,u,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),f=n[1],d=0,h=0;h<6&&f<c;h++){var v=$e.decodeDigit(r,l,f,$e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);try{for(var g=(a=void 0,Rd(l)),w=g.next();!w.done;w=g.next()){var y=w.value;f+=y}}catch(A){a={error:A}}finally{try{w&&!w.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}v>=10&&(d|=1<<5-h)}i=e.determineFirstDigit(i,d);var x=$e.findGuardPattern(r,f,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0));f=x[1];for(var h=0;h<6&&f<c;h++){var v=$e.decodeDigit(r,l,f,$e.L_PATTERNS);i+=String.fromCharCode(48+v);try{for(var m=(s=void 0,Rd(l)),_=m.next();!_.done;_=m.next()){var y=_.value;f+=y}}catch(S){s={error:S}}finally{try{_&&!_.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return K.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new D},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}($e),$w=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Dd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bd=function(t){$w(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,u,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var c=r.getSize(),f=n[1],d=0;d<4&&f<c;d++){var h=$e.decodeDigit(r,l,f,$e.L_PATTERNS);i+=String.fromCharCode(48+h);try{for(var v=(a=void 0,Dd(l)),g=v.next();!g.done;g=v.next()){var w=g.value;f+=w}}catch(_){a={error:_}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}}var y=$e.findGuardPattern(r,f,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var d=0;d<4&&f<c;d++){var h=$e.decodeDigit(r,l,f,$e.L_PATTERNS);i+=String.fromCharCode(48+h);try{for(var x=(s=void 0,Dd(l)),m=x.next();!m.done;m=x.next()){var w=m.value;f+=w}}catch(I){s={error:I}}finally{try{m&&!m.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return K.EAN_8},e}($e),Ww=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pd=function(t){Ww(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Ol,r}return e.prototype.getBarcodeFormat=function(){return K.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new xt(n.substring(1),null,null,r.getResultPoints(),K.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new D},e.prototype.reset=function(){this.ean13Reader.reset()},e}($e),Gw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kd=function(t){Gw(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(w){return w});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=r.getSize(),l=n[1],c=0,f=0;f<6&&l<u;f++){var d=e.decodeDigit(r,s,l,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+d%10);try{for(var h=(a=void 0,Xw(s)),v=h.next();!v.done;v=h.next()){var g=v.value;l+=g}}catch(w){a={error:w}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}d>=10&&(c|=1<<5-f)}return e.determineNumSysAndCheckDigit(new J(i),c),l},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return $e.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw D.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return K.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new J;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}($e),Yw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Md=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ou=function(t){Yw(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Ee.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(K.EAN_13)>-1&&a.push(new Ol),i.indexOf(K.UPC_A)>-1&&a.push(new Pd),i.indexOf(K.EAN_8)>-1&&a.push(new bd),i.indexOf(K.UPC_E)>-1&&a.push(new kd)),a.length===0&&(a.push(new Ol),a.push(new Pd),a.push(new bd),a.push(new kd)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=Md(this.readers),u=s.next();!u.done;u=s.next()){var l=u.value;try{var c=l.decodeRow(r,n,i),f=c.getBarcodeFormat()===K.EAN_13&&c.getText().charAt(0)==="0",d=i==null?null:i.get(Ee.POSSIBLE_FORMATS),h=d==null||d.includes(K.UPC_A);if(f&&h){var v=c.getRawBytes(),g=new xt(c.getText().substring(1),v,v?v.length:null,c.getResultPoints(),K.UPC_A);return g.putAllMetadata(c.getResultMetadata()),g}return c}catch{}}}catch(w){a={error:w}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new D},e.prototype.reset=function(){var r,n;try{for(var i=Md(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Ye),Kw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zw=function(t){Kw(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new D;var o=this.codaBarDecodeRow(a.row);if(!o)throw new D;return new xt(o,null,0,[new X(a.left,r),new X(a.right,r)],K.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],u=1,l=1;l<n.length;l++)n[l]===s?u++:(s=n[l],o.push(u),u=1);return o.push(u),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(u,l){return(u+l)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(u){return u<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Ye),qw=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dn=function(t){qw(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Ye.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new D},e.count=function(r){return se.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var c=Qw(r),f=c.next();!f.done;f=c.next()){var d=f.value;d>l&&(l=d),d<u&&(u=d)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Ye),Go=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),mp=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new X(n,a)),this.resultPoints.push(new X(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),Jw=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xn=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=Jw(e),u=s.next();!u.done;u=s.next()){var l=u.value;o+=l}}catch(x){i={error:x}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var c=0,f=0,d=e.length,h=0;h<d-1;h++){var v=void 0;for(v=1,f|=1<<h;v<e[h];v++,f&=~(1<<h)){var g=t.combins(o-v-1,d-h-2);if(n&&f===0&&o-v-(d-h-1)>=d-h-1&&(g-=t.combins(o-v-(d-h),d-h-2)),d-h-1>1){for(var w=0,y=o-v-(d-h-2);y>r;y--)w+=t.combins(o-v-y-1,d-h-3);g-=w*(d-1-h)}else o-v>r&&g--;c+=g}o-=v}return c},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),e3=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new et(n),a=0,o=e[0],s=o.getRightChar().getValue(),u=11;u>=0;--u)s&1<<u&&i.set(a),a++;for(var u=1;u<e.length;++u){for(var l=e[u],c=l.getLeftChar().getValue(),f=11;f>=0;--f)c&1<<f&&i.set(a),a++;if(l.getRightChar()!==null)for(var d=l.getRightChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(a),a++}return i},t}(),un=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),Vc=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),t3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tr=function(t){t3(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Vc),r3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ln=function(t){r3(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Vc),n3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kn=function(t){n3(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new H;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Vc),Ya=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i3=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,u,l;if(!e)return null;if(e.length<2)throw new D;var c=e.substring(0,2);try{for(var f=Ya(t.TWO_DIGIT_DATA_LENGTH),d=f.next();!d.done;d=f.next()){var h=d.value;if(h[0]===c)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,h[2],e):t.processFixedAI(2,h[1],e)}}catch(I){r={error:I}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new D;var v=e.substring(0,3);try{for(var g=Ya(t.THREE_DIGIT_DATA_LENGTH),w=g.next();!w.done;w=g.next()){var h=w.value;if(h[0]===v)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,h[2],e):t.processFixedAI(3,h[1],e)}}catch(I){i={error:I}}finally{try{w&&!w.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}try{for(var y=Ya(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),x=y.next();!x.done;x=y.next()){var h=x.value;if(h[0]===v)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(I){o={error:I}}finally{try{x&&!x.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}if(e.length<4)throw new D;var m=e.substring(0,4);try{for(var _=Ya(t.FOUR_DIGIT_DATA_LENGTH),A=_.next();!A.done;A=_.next()){var h=A.value;if(h[0]===m)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(I){u={error:I}}finally{try{A&&!A.done&&(l=_.return)&&l.call(_)}finally{if(u)throw u.error}}throw new D},t.processFixedAI=function(e,r,n){if(n.length<e)throw new D;var i=n.substring(0,e);if(n.length<e+r)throw new D;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,u=t.parseFieldsInGeneralPurpose(o);return u==null?s:s+u},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),u="("+i+")"+o,l=t.parseFieldsInGeneralPurpose(s);return l==null?u:u+l},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),go=function(){function t(e){this.buffer=new J,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=i3.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new kn(this.information.getSize(),kn.FNC1,kn.FNC1):new kn(this.information.getSize(),r-1,kn.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new kn(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ln(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ln(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new ln(this.current.getPosition(),this.buffer.toString()):r=new ln(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new un(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new ln(this.current.getPosition(),this.buffer.toString());return new un(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new un(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ln(this.current.getPosition(),this.buffer.toString());return new un(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new un(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ln(this.current.getPosition(),this.buffer.toString());return new un(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new un(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new tr(e+5,tr.FNC1);if(r>=5&&r<15)return new tr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new tr(e+7,""+(n+1));if(n>=90&&n<116)return new tr(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new H}return new tr(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new tr(e+5,tr.FNC1);if(r>=5&&r<15)return new tr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new tr(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Na("Decoding invalid alphanumeric value: "+n)}return new tr(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),wp=function(){function t(e){this.information=e,this.generalDecoder=new go(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),a3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ar=function(t){a3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-48;i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(wp),o3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),s3=function(t){o3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new J;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(ar),u3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l3=function(t){u3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new J;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(wp),c3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xo=function(t){c3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,u=0;u<5;++u)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(ar),f3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_p=function(t){f3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+xo.GTIN_SIZE+e.WEIGHT_SIZE)throw new D;var r=new J;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+xo.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(xo),d3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h3=function(t){d3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(_p),p3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v3=function(t){p3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(_p),g3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x3=function(t){g3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ar.GTIN_SIZE)throw new D;var r=new J;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ar.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ar.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(ar),y3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),m3=function(t){y3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ar.GTIN_SIZE)throw new D;var r=new J;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ar.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ar.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ar.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(ar),w3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lr=function(t){w3(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new D;var r=new J;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(xo);function _3(t){try{if(t.get(1))return new s3(t);if(!t.get(2))return new l3(t);var e=go.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new h3(t);case 5:return new v3(t)}var r=go.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new x3(t);case 13:return new m3(t)}var n=go.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Lr(t,"310","11");case 57:return new Lr(t,"320","11");case 58:return new Lr(t,"310","13");case 59:return new Lr(t,"320","13");case 60:return new Lr(t,"310","15");case 61:return new Lr(t,"320","15");case 62:return new Lr(t,"310","17");case 63:return new Lr(t,"320","17")}}catch(i){throw console.log(i),new Na("unknown decoder: "+t)}}var Ld=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),E3=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),C3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Br=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A3=function(t){C3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof D){if(!this.pairs.length)throw new D;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new D},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var u=(i=void 0,Br(r)),l=u.next();!l.done;l=u.next()){var c=l.value;this.pairs.push(c.getPairs())}}catch(d){i={error:d}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(s);try{return this.checkRows(f,o+1)}catch(d){console.log(d)}}}throw new D},e.isValidSequence=function(r){var n,i;try{for(var a=Br(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var u=!0,l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!==s[l]){u=!1;break}if(u)return!0}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new E3(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,u,l;try{for(var c=Br(n),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.getPairs().length!==r.length){var h=!0;try{for(var v=(o=void 0,Br(d.getPairs())),g=v.next();!g.done;g=v.next()){var w=g.value,y=!1;try{for(var x=(u=void 0,Br(r)),m=x.next();!m.done;m=x.next()){var _=m.value;if(Ld.equals(w,_)){y=!0;break}}}catch(A){u={error:A}}finally{try{m&&!m.done&&(l=x.return)&&l.call(x)}finally{if(u)throw u.error}}y||(h=!1)}}catch(A){o={error:A}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}}}}catch(A){i={error:A}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,u,l;try{for(var c=Br(n),f=c.next();!f.done;f=c.next()){var d=f.value,h=!0;try{for(var v=(o=void 0,Br(r)),g=v.next();!g.done;g=v.next()){var w=g.value,y=!1;try{for(var x=(u=void 0,Br(d.getPairs())),m=x.next();!m.done;m=x.next()){var _=m.value;if(w.equals(_)){y=!0;break}}}catch(A){u={error:A}}finally{try{m&&!m.done&&(l=x.return)&&l.call(x)}finally{if(u)throw u.error}}if(!y){h=!1;break}}}catch(A){o={error:A}}finally{try{g&&!g.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}if(h)return!0}}catch(A){i={error:A}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=e3.buildBitArray(r),i=_3(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],s[0],s[1]];return new xt(a,null,null,u,K.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);a+=u.getLeftChar().getChecksumPortion(),o++;var l=u.getRightChar();l!=null&&(a+=l.getChecksumPortion(),o++)}a%=211;var c=211*(o-4)+a;return c===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,u=-1;do this.findNextPair(r,n,u),o=this.parseFoundFinderPattern(r,i,a),o===null?u=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var l=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new D;var c;try{c=this.decodeDataCharacter(r,o,a,!1)}catch(f){c=null,console.log(f)}return new Ld(l,c,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var u=n[n.length-1];s=u.getFinderPattern().getStartEnd()[1]}var l=n.length%2!==0;this.startFromEven&&(l=!l);for(var c=!1;s<o&&(c=!r.get(s),!!c);)s++;for(var f=0,d=s,h=s;h<o;h++)if(r.get(h)!==c)a[f]++;else{if(f===3){if(l&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=d,this.startEnd[1]=h;return}l&&e.reverseCounters(a),d+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,f--}else f++;a[f]=1,c=!c}throw new D},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!r.get(u);)u--;u++,a=this.startEnd[0]-u,o=u,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var l=this.getDecodeFinderCounters();_e.arraycopy(l,0,l,1,l.length-1),l[0]=a;var c;try{c=this.parseFinderValue(l,e.FINDER_PATTERNS)}catch{return null}return new mp(c,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var u=0,l=o.length-1;u<l;u++,l--){var c=o[u];o[u]=o[l],o[l]=c}}var f=17,d=se.sum(new Int32Array(o))/f,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new D;for(var v=this.getOddCounts(),g=this.getEvenCounts(),w=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var x=1*o[u]/d,m=x+.5;if(m<1){if(x<.3)throw new D;m=1}else if(m>8){if(x>8.7)throw new D;m=8}var _=u/2;u&1?(g[_]=m,y[_]=x-m):(v[_]=m,w[_]=x-m)}this.adjustOddEvenCounts(f);for(var A=4*n.getValue()+(i?0:2)+(a?0:1)-1,I=0,S=0,u=v.length-1;u>=0;u--){if(e.isNotA1left(n,i,a)){var N=e.WEIGHTS[A][2*u];S+=v[u]*N}I+=v[u]}for(var b=0,u=g.length-1;u>=0;u--)if(e.isNotA1left(n,i,a)){var N=e.WEIGHTS[A][2*u+1];b+=g[u]*N}var P=S+b;if(I&1||I>13||I<4)throw new D;var R=(13-I)/2,z=e.SYMBOL_WIDEST[R],j=9-z,F=Xn.getRSSvalue(v,z,!0),B=Xn.getRSSvalue(g,j,!1),V=e.EVEN_TOTAL_SUBSET[R],$=e.GSUM[R],L=F*V+B+$;return new Go(L,P)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=se.sum(new Int32Array(this.getOddCounts())),i=se.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var l=n+i-r,c=(n&1)===1,f=(i&1)===0;if(l===1)if(c){if(f)throw new D;o=!0}else{if(!f)throw new D;u=!0}else if(l===-1)if(c){if(f)throw new D;a=!0}else{if(!f)throw new D;s=!0}else if(l===0){if(c){if(!f)throw new D;n<i?(a=!0,u=!0):(o=!0,s=!0)}else if(f)throw new D}else throw new D;if(a){if(o)throw new D;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new D;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(dn),S3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I3=function(t){S3(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Go),N3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),su=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bd=function(t){N3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,u,l=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,l),n.reverse();var c=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var f=su(this.possibleLeftPairs),d=f.next();!d.done;d=f.next()){var h=d.value;if(h.getCount()>1)try{for(var v=(s=void 0,su(this.possibleRightPairs)),g=v.next();!g.done;g=v.next()){var w=g.value;if(w.getCount()>1&&e.checkChecksum(h,w))return e.constructResult(h,w)}}catch(y){s={error:y}}finally{try{g&&!g.done&&(u=v.return)&&u.call(v)}finally{if(s)throw s.error}}}}catch(y){a={error:y}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}throw new D},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=su(r),u=s.next();!u.done;u=s.next()){var l=u.value;if(l.getValue()===n.getValue()){l.incrementCount(),o=!0;break}}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new J,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var u=0,s=0;s<13;s++){var l=o.charAt(s).charCodeAt(0)-48;u+=s&1?l:3*l}u=10-u%10,u===10&&(u=0),o.append(u.toString());var c=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new xt(o.toString(),null,0,[c[0],c[1],f[0],f[1]],K.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),u=a==null?null:a.get(Ee.NEED_RESULT_POINT_CALLBACK);if(u!=null){var l=(o[0]+o[1])/2;n&&(l=r.getSize()-1-l),u.foundPossibleResultPoint(new X(l,i))}var c=this.decodeDataCharacter(r,s,!0),f=this.decodeDataCharacter(r,s,!1);return new I3(1597*c.getValue()+f.getValue(),c.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Ye.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Ye.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,u=a.length-1;s<u;s++,u--){var l=a[s];a[s]=a[u],a[u]=l}}for(var c=i?16:15,f=se.sum(new Int32Array(a))/c,d=this.getOddCounts(),h=this.getEvenCounts(),v=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var w=a[s]/f,y=Math.floor(w+.5);y<1?y=1:y>8&&(y=8);var x=Math.floor(s/2);s&1?(h[x]=y,g[x]=w-y):(d[x]=y,v[x]=w-y)}this.adjustOddEvenCounts(i,c);for(var m=0,_=0,s=d.length-1;s>=0;s--)_*=9,_+=d[s],m+=d[s];for(var A=0,I=0,s=h.length-1;s>=0;s--)A*=9,A+=h[s],I+=h[s];var S=_+3*A;if(i){if(m&1||m>12||m<4)throw new D;var N=(12-m)/2,b=e.OUTSIDE_ODD_WIDEST[N],P=9-b,R=Xn.getRSSvalue(d,b,!1),z=Xn.getRSSvalue(h,P,!0),j=e.OUTSIDE_EVEN_TOTAL_SUBSET[N],F=e.OUTSIDE_GSUM[N];return new Go(R*j+z+F,S)}else{if(I&1||I>10||I<4)throw new D;var N=(10-I)/2,b=e.INSIDE_ODD_WIDEST[N],P=9-b,R=Xn.getRSSvalue(d,b,!0),z=Xn.getRSSvalue(h,P,!1),B=e.INSIDE_ODD_TOTAL_SUBSET[N],F=e.INSIDE_GSUM[N];return new Go(z*B+R+F,S)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var u=0,l=s,c=s;c<a;c++)if(r.get(c)!==o)i[u]++;else{if(u===3){if(dn.isFinderPattern(i))return[l,c];l+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,o=!o}throw new D},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var u=a[0]-s,l=this.getDecodeFinderCounters(),c=new Int32Array(l.length);_e.arraycopy(l,0,c,1,l.length-1),c[0]=u;var f=this.parseFinderValue(c,e.FINDER_PATTERNS),d=s,h=a[1];return i&&(d=r.getSize()-1-d,h=r.getSize()-1-h),new mp(f,[s,a[1]],d,h,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=se.sum(new Int32Array(this.getOddCounts())),a=se.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,u=!1,l=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?l=!0:a<4&&(u=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?l=!0:a<4&&(u=!0));var c=i+a-n,f=(i&1)===(r?1:0),d=(a&1)===1;if(c===1)if(f){if(d)throw new D;s=!0}else{if(!d)throw new D;l=!0}else if(c===-1)if(f){if(d)throw new D;o=!0}else{if(!d)throw new D;u=!0}else if(c===0){if(f){if(!d)throw new D;i<a?(o=!0,l=!0):(s=!0,u=!0)}else if(d)throw new D}else throw new D;if(o){if(s)throw new D;dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(l)throw new D;dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(dn),O3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yn=function(t){O3(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Ee.POSSIBLE_FORMATS):null,a=r&&r.get(Ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(Ee.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(K.EAN_13)||i.includes(K.UPC_A)||i.includes(K.EAN_8)||i.includes(K.UPC_E))&&n.readers.push(new ou(r)),i.includes(K.CODE_39)&&n.readers.push(new Nd(a,o)),i.includes(K.CODE_93)&&n.readers.push(new Od),i.includes(K.CODE_128)&&n.readers.push(new Id),i.includes(K.ITF)&&n.readers.push(new Td),i.includes(K.CODABAR)&&n.readers.push(new Zw),i.includes(K.RSS_14)&&n.readers.push(new Bd),i.includes(K.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new A3))),n.readers.length===0&&(n.readers.push(new ou(r)),n.readers.push(new Nd),n.readers.push(new Od),n.readers.push(new ou(r)),n.readers.push(new Id),n.readers.push(new Td),n.readers.push(new Bd)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new D},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Ye),T3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){T3(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Yn(n),r,n)||this}return e})(wi);var Fd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},de=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),le=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),R3=function(){function t(e,r,n,i,a,o){var s,u;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var l=0,c=o.getECCodewords(),f=o.getECBlocks();try{for(var d=Fd(f),h=d.next();!h.done;h=d.next()){var v=h.value;l+=v.getCount()*(v.getDataCodewords()+c)}}catch(g){s={error:g}}finally{try{h&&!h.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new H;try{for(var a=Fd(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new H},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new de(5,new le(1,3))),new t(2,12,12,10,10,new de(7,new le(1,5))),new t(3,14,14,12,12,new de(10,new le(1,8))),new t(4,16,16,14,14,new de(12,new le(1,12))),new t(5,18,18,16,16,new de(14,new le(1,18))),new t(6,20,20,18,18,new de(18,new le(1,22))),new t(7,22,22,20,20,new de(20,new le(1,30))),new t(8,24,24,22,22,new de(24,new le(1,36))),new t(9,26,26,24,24,new de(28,new le(1,44))),new t(10,32,32,14,14,new de(36,new le(1,62))),new t(11,36,36,16,16,new de(42,new le(1,86))),new t(12,40,40,18,18,new de(48,new le(1,114))),new t(13,44,44,20,20,new de(56,new le(1,144))),new t(14,48,48,22,22,new de(68,new le(1,174))),new t(15,52,52,24,24,new de(42,new le(2,102))),new t(16,64,64,14,14,new de(56,new le(2,140))),new t(17,72,72,16,16,new de(36,new le(4,92))),new t(18,80,80,18,18,new de(48,new le(4,114))),new t(19,88,88,20,20,new de(56,new le(4,144))),new t(20,96,96,22,22,new de(68,new le(4,174))),new t(21,104,104,24,24,new de(56,new le(6,136))),new t(22,120,120,18,18,new de(68,new le(6,175))),new t(23,132,132,20,20,new de(62,new le(8,163))),new t(24,144,144,22,22,new de(62,new le(8,156),new le(2,155))),new t(25,8,18,6,16,new de(7,new le(1,5))),new t(26,8,32,6,14,new de(11,new le(1,10))),new t(27,12,26,10,24,new de(14,new le(1,16))),new t(28,12,36,10,16,new de(18,new le(1,22))),new t(29,16,36,14,16,new de(24,new le(1,32))),new t(30,16,48,14,22,new de(28,new le(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),D3=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new H;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new wr(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return R3.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,u=!1,l=!1,c=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!u)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,u=!0;else if(n===a+4&&i===2&&!(o&7)&&!l)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,l=!0;else if(n===a-2&&i===0&&(o&7)===4&&!c)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,c=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new H;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new q("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,u=o*i,l=s*a,c=new wr(l,u),f=0;f<o;++f)for(var d=f*i,h=0;h<s;++h)for(var v=h*a,g=0;g<i;++g)for(var w=f*(i+2)+1+g,y=d+g,x=0;x<a;++x){var m=h*(a+2)+1+x;if(e.get(m,w)){var _=v+x;c.set(_,y)}}return c},t}(),jd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b3=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),u=0,l=s.getECBlocks();try{for(var c=jd(l),f=c.next();!f.done;f=c.next()){var d=f.value;u+=d.getCount()}}catch(F){n={error:F}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var h=new Array(u),v=0;try{for(var g=jd(l),w=g.next();!w.done;w=g.next())for(var d=w.value,y=0;y<d.getCount();y++){var x=d.getDataCodewords(),m=s.getECCodewords()+x;h[v++]=new t(x,new Uint8Array(m))}}catch(F){a={error:F}}finally{try{w&&!w.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}for(var _=h[0].codewords.length,A=_-s.getECCodewords(),I=A-1,S=0,y=0;y<I;y++)for(var N=0;N<v;N++)h[N].codewords[y]=e[S++];for(var b=r.getVersionNumber()===24,P=b?8:v,N=0;N<P;N++)h[N].codewords[A-1]=e[S++];for(var R=h[0].codewords.length,y=A;y<R;y++)for(var N=0;N<v;N++){var z=b?(N+8)%v:N,j=b&&z>7?y-1:y;h[z].codewords[j]=e[S++]}if(S!==e.length)throw new q;return h},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Ep=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new q(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,u=o-s,l=255>>8-s<<u;r=(a[i]&l)>>u,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var u=8-e,l=255>>u<<u;r=r<<e|(a[i]&l)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),ze;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(ze||(ze={}));var P3=function(){function t(){}return t.decode=function(e){var r=new Ep(e),n=new J,i=new J,a=new Array,o=ze.ASCII_ENCODE;do if(o===ze.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case ze.C40_ENCODE:this.decodeC40Segment(r,n);break;case ze.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case ze.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case ze.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case ze.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new H}o=ze.ASCII_ENCODE}while(o!==ze.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Es(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new H;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),ze.ASCII_ENCODE;if(a===129)return ze.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return ze.C40_ENCODE;case 231:return ze.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return ze.ANSIX12_ENCODE;case 239:return ze.TEXT_ENCODE;case 240:return ze.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new H;break}}while(e.available()>0);return ze.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new H;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(u){case 27:r.append("");break;case 30:n=!0;break;default:throw new H}a=0;break;case 3:n?(r.append(String.fromCharCode(u+224)),n=!1):r.append(String.fromCharCode(u+96)),a=0;break;default:throw new H}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new H;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(u){case 27:r.append("");break;case 30:n=!0;break;default:throw new H}a=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[u];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l),a=0}else throw new H;break;default:throw new H}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new H;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new H;for(var s=new Uint8Array(o),u=0;u<o;u++){if(e.available()<8)throw new H;s[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(Zt.decode(s,ie.ISO88591))}catch(l){throw new Na("Platform does not support required encoding: "+l.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),k3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M3=function(){function t(){this.rsDecoder=new Cs(Nt.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new D3(e),a=i.getVersion(),o=i.readCodewords(),s=b3.getDataBlocks(o,a),u=0;try{for(var l=k3(s),c=l.next();!c.done;c=l.next()){var f=c.value;u+=f.getNumDataCodewords()}}catch(m){r={error:m}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var d=new Uint8Array(u),h=s.length,v=0;v<h;v++){var g=s[v],w=g.getCodewords(),y=g.getNumDataCodewords();this.correctErrors(w,y);for(var x=0;x<y;x++)d[x*h+v]=w[x]}return P3.decode(d)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Ue}for(var i=0;i<r;i++)e[i]=n[i]},t}(),L3=function(){function t(e){this.image=e,this.rectangleDetector=new Nl(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new D;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var l=t.sampleGrid(this.image,n,i,a,o,s,u);return new Uc(l,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new X(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new X(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),u=this.transitionsBetween(i,a),l=this.transitionsBetween(a,r),c=o,f=[a,r,n,i];return c>s&&(c=s,f[0]=r,f[1]=n,f[2]=i,f[3]=a),c>u&&(c=u,f[0]=n,f[1]=i,f[2]=a,f[3]=r),c>l&&(f[0]=i,f[1]=a,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),u=t.shiftPoint(i,n,(o+1)*4),l=this.transitionsBetween(s,r),c=this.transitionsBetween(u,a);return l<c?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),u=t.shiftPoint(r,n,(s+1)*4),l=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(u,a),s=this.transitionsBetween(l,a);var c=new X(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),f=new X(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(c))return this.isValid(f)?f:null;if(!this.isValid(f))return c;var d=this.transitionsBetween(u,c)+this.transitionsBetween(l,c),h=this.transitionsBetween(u,f)+this.transitionsBetween(l,f);return d>h?c:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,u=t.shiftPoint(r,n,s*4),l=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(u,a)+1,s=this.transitionsBetween(l,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var c=(r.getX()+n.getX()+i.getX()+a.getX())/4,f=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,c,f),n=t.moveAway(n,c,f),i=t.moveAway(i,c,f),a=t.moveAway(a,c,f);var d,h;return u=t.shiftPoint(r,n,s*4),u=t.shiftPoint(u,a,o*4),d=t.shiftPoint(n,r,s*4),d=t.shiftPoint(d,i,o*4),l=t.shiftPoint(i,a,s*4),l=t.shiftPoint(l,n,o*4),h=t.shiftPoint(a,i,s*4),h=t.shiftPoint(h,r,o*4),[u,d,l,h]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var u=zc.getInstance();return u.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var u=n;n=i,i=u,u=a,a=o,o=u}for(var l=Math.abs(a-n),c=Math.abs(o-i),f=-l/2,d=i<o?1:-1,h=n<a?1:-1,v=0,g=this.image.get(s?i:n,s?n:i),w=n,y=i;w!==a;w+=h){var x=this.image.get(s?y:w,s?w:y);if(x!==g&&(v++,g=x),f+=c,f>0){if(y===o)break;y+=d,f-=l}}return v},t}(),Xo=function(){function t(){this.decoder=new M3}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Ee.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new L3(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),u=new xt(n.getText(),s,8*s.length,i,K.DATA_MATRIX,_e.currentTimeMillis()),l=n.getByteSegments();l!=null&&u.putMetadata(at.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!=null&&u.putMetadata(at.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new D;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],u=n[0],l=(u-s+1)/i,c=(o-a+1)/i;if(l<=0||c<=0)throw new D;var f=i/2;a+=f,s+=f;for(var d=new wr(l,c),h=0;h<c;h++)for(var v=a+h*i,g=0;g<l;g++)e.get(s+g*i,v)&&d.set(g,h);return d},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new D;var o=i-e[0];if(o===0)throw new D;return o},t.NO_POINTS=[],t}(),B3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){B3(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Xo,r)||this}return e})(wi);var Kn;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Kn||(Kn={}));var F3=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Le(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new q;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Kn.L,"L",1),t.M=new t(Kn.M,"M",0),t.Q=new t(Kn.Q,"Q",3),t.H=new t(Kn.H,"H",2),t}(),j3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cp=function(){function t(e){this.errorCorrectionLevel=F3.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return te.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=j3(t.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var l=u.value,c=l[0];if(c===e||c===r)return new t(l[1]);var f=t.numBitsDiffering(e,c);f<a&&(o=l[1],a=f),e!==r&&(f=t.numBitsDiffering(r,c),f<a&&(o=l[1],a=f))}}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),U3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=U3(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),E=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),z3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_n=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,u=a[0].getECCodewordsPerBlock(),l=a[0].getECBlocks();try{for(var c=z3(l),f=c.next();!f.done;f=c.next()){var d=f.value;s+=d.getCount()*(d.getDataCodewords()+u)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new H;try{return this.getVersionForNumber((e-17)/4)}catch{throw new H}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new q;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=Cp.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new wr(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new O(7,new E(1,19)),new O(10,new E(1,16)),new O(13,new E(1,13)),new O(17,new E(1,9))),new t(2,Int32Array.from([6,18]),new O(10,new E(1,34)),new O(16,new E(1,28)),new O(22,new E(1,22)),new O(28,new E(1,16))),new t(3,Int32Array.from([6,22]),new O(15,new E(1,55)),new O(26,new E(1,44)),new O(18,new E(2,17)),new O(22,new E(2,13))),new t(4,Int32Array.from([6,26]),new O(20,new E(1,80)),new O(18,new E(2,32)),new O(26,new E(2,24)),new O(16,new E(4,9))),new t(5,Int32Array.from([6,30]),new O(26,new E(1,108)),new O(24,new E(2,43)),new O(18,new E(2,15),new E(2,16)),new O(22,new E(2,11),new E(2,12))),new t(6,Int32Array.from([6,34]),new O(18,new E(2,68)),new O(16,new E(4,27)),new O(24,new E(4,19)),new O(28,new E(4,15))),new t(7,Int32Array.from([6,22,38]),new O(20,new E(2,78)),new O(18,new E(4,31)),new O(18,new E(2,14),new E(4,15)),new O(26,new E(4,13),new E(1,14))),new t(8,Int32Array.from([6,24,42]),new O(24,new E(2,97)),new O(22,new E(2,38),new E(2,39)),new O(22,new E(4,18),new E(2,19)),new O(26,new E(4,14),new E(2,15))),new t(9,Int32Array.from([6,26,46]),new O(30,new E(2,116)),new O(22,new E(3,36),new E(2,37)),new O(20,new E(4,16),new E(4,17)),new O(24,new E(4,12),new E(4,13))),new t(10,Int32Array.from([6,28,50]),new O(18,new E(2,68),new E(2,69)),new O(26,new E(4,43),new E(1,44)),new O(24,new E(6,19),new E(2,20)),new O(28,new E(6,15),new E(2,16))),new t(11,Int32Array.from([6,30,54]),new O(20,new E(4,81)),new O(30,new E(1,50),new E(4,51)),new O(28,new E(4,22),new E(4,23)),new O(24,new E(3,12),new E(8,13))),new t(12,Int32Array.from([6,32,58]),new O(24,new E(2,92),new E(2,93)),new O(22,new E(6,36),new E(2,37)),new O(26,new E(4,20),new E(6,21)),new O(28,new E(7,14),new E(4,15))),new t(13,Int32Array.from([6,34,62]),new O(26,new E(4,107)),new O(22,new E(8,37),new E(1,38)),new O(24,new E(8,20),new E(4,21)),new O(22,new E(12,11),new E(4,12))),new t(14,Int32Array.from([6,26,46,66]),new O(30,new E(3,115),new E(1,116)),new O(24,new E(4,40),new E(5,41)),new O(20,new E(11,16),new E(5,17)),new O(24,new E(11,12),new E(5,13))),new t(15,Int32Array.from([6,26,48,70]),new O(22,new E(5,87),new E(1,88)),new O(24,new E(5,41),new E(5,42)),new O(30,new E(5,24),new E(7,25)),new O(24,new E(11,12),new E(7,13))),new t(16,Int32Array.from([6,26,50,74]),new O(24,new E(5,98),new E(1,99)),new O(28,new E(7,45),new E(3,46)),new O(24,new E(15,19),new E(2,20)),new O(30,new E(3,15),new E(13,16))),new t(17,Int32Array.from([6,30,54,78]),new O(28,new E(1,107),new E(5,108)),new O(28,new E(10,46),new E(1,47)),new O(28,new E(1,22),new E(15,23)),new O(28,new E(2,14),new E(17,15))),new t(18,Int32Array.from([6,30,56,82]),new O(30,new E(5,120),new E(1,121)),new O(26,new E(9,43),new E(4,44)),new O(28,new E(17,22),new E(1,23)),new O(28,new E(2,14),new E(19,15))),new t(19,Int32Array.from([6,30,58,86]),new O(28,new E(3,113),new E(4,114)),new O(26,new E(3,44),new E(11,45)),new O(26,new E(17,21),new E(4,22)),new O(26,new E(9,13),new E(16,14))),new t(20,Int32Array.from([6,34,62,90]),new O(28,new E(3,107),new E(5,108)),new O(26,new E(3,41),new E(13,42)),new O(30,new E(15,24),new E(5,25)),new O(28,new E(15,15),new E(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new O(28,new E(4,116),new E(4,117)),new O(26,new E(17,42)),new O(28,new E(17,22),new E(6,23)),new O(30,new E(19,16),new E(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new O(28,new E(2,111),new E(7,112)),new O(28,new E(17,46)),new O(30,new E(7,24),new E(16,25)),new O(24,new E(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new O(30,new E(4,121),new E(5,122)),new O(28,new E(4,47),new E(14,48)),new O(30,new E(11,24),new E(14,25)),new O(30,new E(16,15),new E(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new O(30,new E(6,117),new E(4,118)),new O(28,new E(6,45),new E(14,46)),new O(30,new E(11,24),new E(16,25)),new O(30,new E(30,16),new E(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new O(26,new E(8,106),new E(4,107)),new O(28,new E(8,47),new E(13,48)),new O(30,new E(7,24),new E(22,25)),new O(30,new E(22,15),new E(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new O(28,new E(10,114),new E(2,115)),new O(28,new E(19,46),new E(4,47)),new O(28,new E(28,22),new E(6,23)),new O(30,new E(33,16),new E(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new O(30,new E(8,122),new E(4,123)),new O(28,new E(22,45),new E(3,46)),new O(30,new E(8,23),new E(26,24)),new O(30,new E(12,15),new E(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new O(30,new E(3,117),new E(10,118)),new O(28,new E(3,45),new E(23,46)),new O(30,new E(4,24),new E(31,25)),new O(30,new E(11,15),new E(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new O(30,new E(7,116),new E(7,117)),new O(28,new E(21,45),new E(7,46)),new O(30,new E(1,23),new E(37,24)),new O(30,new E(19,15),new E(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new O(30,new E(5,115),new E(10,116)),new O(28,new E(19,47),new E(10,48)),new O(30,new E(15,24),new E(25,25)),new O(30,new E(23,15),new E(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new O(30,new E(13,115),new E(3,116)),new O(28,new E(2,46),new E(29,47)),new O(30,new E(42,24),new E(1,25)),new O(30,new E(23,15),new E(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new O(30,new E(17,115)),new O(28,new E(10,46),new E(23,47)),new O(30,new E(10,24),new E(35,25)),new O(30,new E(19,15),new E(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new O(30,new E(17,115),new E(1,116)),new O(28,new E(14,46),new E(21,47)),new O(30,new E(29,24),new E(19,25)),new O(30,new E(11,15),new E(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new O(30,new E(13,115),new E(6,116)),new O(28,new E(14,46),new E(23,47)),new O(30,new E(44,24),new E(7,25)),new O(30,new E(59,16),new E(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new O(30,new E(12,121),new E(7,122)),new O(28,new E(12,47),new E(26,48)),new O(30,new E(39,24),new E(14,25)),new O(30,new E(22,15),new E(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new O(30,new E(6,121),new E(14,122)),new O(28,new E(6,47),new E(34,48)),new O(30,new E(46,24),new E(10,25)),new O(30,new E(2,15),new E(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new O(30,new E(17,122),new E(4,123)),new O(28,new E(29,46),new E(14,47)),new O(30,new E(49,24),new E(10,25)),new O(30,new E(24,15),new E(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new O(30,new E(4,122),new E(18,123)),new O(28,new E(13,46),new E(32,47)),new O(30,new E(48,24),new E(14,25)),new O(30,new E(42,15),new E(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new O(30,new E(20,117),new E(4,118)),new O(28,new E(40,47),new E(7,48)),new O(30,new E(43,24),new E(22,25)),new O(30,new E(10,15),new E(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new O(30,new E(19,118),new E(6,119)),new O(28,new E(18,47),new E(31,48)),new O(30,new E(34,24),new E(34,25)),new O(30,new E(20,15),new E(61,16)))],t}(),qe;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(qe||(qe={}));var Ud=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[qe.DATA_MASK_000,new t(qe.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[qe.DATA_MASK_001,new t(qe.DATA_MASK_001,function(e,r){return(e&1)===0})],[qe.DATA_MASK_010,new t(qe.DATA_MASK_010,function(e,r){return r%3===0})],[qe.DATA_MASK_011,new t(qe.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[qe.DATA_MASK_100,new t(qe.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[qe.DATA_MASK_101,new t(qe.DATA_MASK_101,function(e,r){return e*r%6===0})],[qe.DATA_MASK_110,new t(qe.DATA_MASK_110,function(e,r){return e*r%6<3})],[qe.DATA_MASK_111,new t(qe.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),V3=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new H;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=Cp.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return _n.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=_n.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=_n.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new H},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Ud.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),u=0,l=0,c=0,f=i-1;f>0;f-=2){f===6&&f--;for(var d=0;d<i;d++)for(var h=o?i-1-d:d,v=0;v<2;v++)a.get(f-v,h)||(c++,l<<=1,this.bitMatrix.get(f-v,h)&&(l|=1),c===8&&(s[u++]=l,c=0,l=0));o=!o}if(u!==r.getTotalCodewords())throw new H;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Ud.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),zd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H3=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new q;var u=r.getECBlocksForLevel(n),l=0,c=u.getECBlocks();try{for(var f=zd(c),d=f.next();!d.done;d=f.next()){var h=d.value;l+=h.getCount()}}catch(j){i={error:j}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var v=new Array(l),g=0;try{for(var w=zd(c),y=w.next();!y.done;y=w.next())for(var h=y.value,x=0;x<h.getCount();x++){var m=h.getDataCodewords(),_=u.getECCodewordsPerBlock()+m;v[g++]=new t(m,new Uint8Array(_))}}catch(j){o={error:j}}finally{try{y&&!y.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}for(var A=v[0].codewords.length,I=v.length-1;I>=0;){var S=v[I].codewords.length;if(S===A)break;I--}I++;for(var N=A-u.getECCodewordsPerBlock(),b=0,x=0;x<N;x++)for(var P=0;P<g;P++)v[P].codewords[x]=e[b++];for(var P=I;P<g;P++)v[P].codewords[N]=e[b++];for(var R=v[0].codewords.length,x=N;x<R;x++)for(var P=0;P<g;P++){var z=P<I?x:x+1;v[P].codewords[z]=e[b++]}return v},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),$t;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})($t||($t={}));var Se=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new q;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t($t.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t($t.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t($t.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t($t.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t($t.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t($t.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t($t.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t($t.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t($t.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t($t.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),$3=function(){function t(){}return t.decode=function(e,r,n,i){var a=new Ep(e),o=new J,s=new Array,u=-1,l=-1;try{var c=null,f=!1,d=void 0;do{if(a.available()<4)d=Se.TERMINATOR;else{var h=a.readBits(4);d=Se.forBits(h)}switch(d){case Se.TERMINATOR:break;case Se.FNC1_FIRST_POSITION:case Se.FNC1_SECOND_POSITION:f=!0;break;case Se.STRUCTURED_APPEND:if(a.available()<16)throw new H;u=a.readBits(8),l=a.readBits(8);break;case Se.ECI:var v=t.parseECIValue(a);if(c=We.getCharacterSetECIByValue(v),c===null)throw new H;break;case Se.HANZI:var g=a.readBits(4),w=a.readBits(d.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,w);break;default:var y=a.readBits(d.getCharacterCountBits(r));switch(d){case Se.NUMERIC:t.decodeNumericSegment(a,o,y);break;case Se.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,y,f);break;case Se.BYTE:t.decodeByteSegment(a,o,y,c,s,i);break;case Se.KANJI:t.decodeKanjiSegment(a,o,y);break;default:throw new H}break}}while(d!==Se.TERMINATOR)}catch{throw new H}return new Es(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),u,l)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new H;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(Zt.decode(i,ie.GB2312))}catch(u){throw new H(u)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new H;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(Zt.decode(i,ie.SHIFT_JIS))}catch(u){throw new H(u)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new H;for(var s=new Uint8Array(n),u=0;u<n;u++)s[u]=e.readBits(8);var l;i===null?l=ie.guessEncoding(s,o):l=i.getName();try{r.append(Zt.decode(s,l))}catch(c){throw new H(c)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new H;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new H;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new H;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new H;var i=e.readBits(10);if(i>=1e3)throw new H;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new H;var a=e.readBits(7);if(a>=100)throw new H;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new H;var o=e.readBits(4);if(o>=10)throw new H;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new H},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),Ap=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),Vd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W3=function(){function t(){this.rsDecoder=new Cs(Nt.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(wr.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new V3(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new Ap(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),c=H3.getDataBlocks(l,s,u),f=0;try{for(var d=Vd(c),h=d.next();!h.done;h=d.next()){var v=h.value;f+=v.getNumDataCodewords()}}catch(I){n={error:I}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var g=new Uint8Array(f),w=0;try{for(var y=Vd(c),x=y.next();!x.done;x=y.next()){var v=x.value,m=v.getCodewords(),_=v.getNumDataCodewords();this.correctErrors(m,_);for(var A=0;A<_;A++)g[w++]=m[A]}}catch(I){a={error:I}}finally{try{x&&!x.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}return $3.decode(g,s,u,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new Ue}for(var i=0;i<r;i++)e[i]=n[i]},t}(),G3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X3=function(t){G3(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(X),Y3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K3=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,u=0;u<r;u++){var l=a+(u&1?-Math.floor((u+1)/2):Math.floor((u+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var c=e;c<i&&!s.get(c,l);)c++;for(var f=0;c<i;){if(s.get(c,l))if(f===1)o[1]++;else if(f===2){if(this.foundPatternCross(o)){var d=this.handlePossibleCenter(o,l,c);if(d!==null)return d}o[0]=o[2],o[1]=1,o[2]=0,f=1}else o[++f]++;else f===1&&f++,o[f]++;c++}if(this.foundPatternCross(o)){var d=this.handlePossibleCenter(o,l,i);if(d!==null)return d}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new D},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&a.get(r,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&!a.get(r,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(r,u)&&s[1]<=n;)s[1]++,u++;if(u===o||s[1]>n)return NaN;for(;u<o&&!a.get(r,u)&&s[2]<=n;)s[2]++,u++;if(s[2]>n)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),u=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(u)){var l=(e[0]+e[1]+e[2])/3;try{for(var c=Y3(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value;if(d.aboutEquals(l,u,s))return d.combineEstimate(u,s,l)}}catch(v){i={error:v}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var h=new X3(s,u,l);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},t}(),Z3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q3=function(t){Z3(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,u=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,u,a)},e}(X),Q3=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),bi=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},J3=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Ee.TRY_HARDER)!==void 0,n=e!=null&&e.get(Ee.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var u=!1,l=new Int32Array(5),c=s-1;c<a&&!u;c+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var f=0,d=0;d<o;d++)if(i.get(d,c))(f&1)===1&&f++,l[f]++;else if(f&1)l[f]++;else if(f===4)if(t.foundPatternCross(l)){var h=this.handlePossibleCenter(l,c,d,n);if(h===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var v=this.findRowSkip();v>l[2]&&(c+=v-l[2]-s,d=o-1)}else{l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;continue}f=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,f=3;else l[++f]++;if(t.foundPatternCross(l)){var h=this.handlePossibleCenter(l,c,o,n);h===!0&&(s=l[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return X.orderBestPatterns(g),new Q3(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var u=s.getHeight(),l=s.getWidth();for(o=1;e+o<u&&r+o<l&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=u||r+o>=l)return!1;for(;e+o<u&&r+o<l&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=u||r+o>=l||a[3]>=n)return!1;for(;e+o<u&&r+o<l&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var c=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(c-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(r,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(r,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&a.get(r,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(r,u);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(r,u)&&s[3]<n;)s[3]++,u++;if(u===o||s[3]>=n)return NaN;for(;u<o&&a.get(r,u)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(u,r);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(u,r)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&a.get(u,r)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(u,r);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(u,r)&&s[3]<n;)s[3]++,u++;if(u===o||s[3]>=n)return NaN;for(;u<o&&a.get(u,r)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var u=a/7,l=!1,c=this.possibleCenters,f=0,d=c.length;f<d;f++){var h=c[f];if(h.aboutEquals(u,s,o)){c[f]=h.combineEstimate(s,o,u),l=!0;break}}if(!l){var v=new q3(o,s,u);c.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=bi(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var u=bi(this.possibleCenters),l=u.next();!l.done;l=u.next()){var c=l.value;c.getCount()>=t.CENTER_QUORUM&&(a++,o+=c.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}if(a<3)return!1;var f=o/s,d=0;try{for(var h=bi(this.possibleCenters),v=h.next();!v.done;v=h.next()){var c=v.value;d+=Math.abs(c.getEstimatedModuleSize()-f)}}catch(g){n={error:g}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return d<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new D;var o=this.possibleCenters,s;if(a>3){var u=0,l=0;try{for(var c=bi(this.possibleCenters),f=c.next();!f.done;f=c.next()){var d=f.value,h=d.getEstimatedModuleSize();u+=h,l+=h*h}}catch(A){e={error:A}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}s=u/a;var v=Math.sqrt(l/a-s*s);o.sort(function(A,I){var S=Math.abs(I.getEstimatedModuleSize()-s),N=Math.abs(A.getEstimatedModuleSize()-s);return S<N?-1:S>N?1:0});for(var g=Math.max(.2*s,v),w=0;w<o.length&&o.length>3;w++){var y=o[w];Math.abs(y.getEstimatedModuleSize()-s)>g&&(o.splice(w,1),w--)}}if(o.length>3){var u=0;try{for(var x=bi(o),m=x.next();!m.done;m=x.next()){var _=m.value;u+=_.getEstimatedModuleSize()}}catch(I){n={error:I}}finally{try{m&&!m.done&&(i=x.return)&&i.call(x)}finally{if(n)throw n.error}}s=u/o.length,o.sort(function(I,S){if(S.getCount()===I.getCount()){var N=Math.abs(S.getEstimatedModuleSize()-s),b=Math.abs(I.getEstimatedModuleSize()-s);return N<b?1:N>b?-1:0}else return S.getCount()-I.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),e_=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Ee.NEED_RESULT_POINT_CALLBACK);var r=new J3(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new D("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=_n.getProvisionalVersionForDimension(o),u=s.getDimensionForVersion()-7,l=null;if(s.getAlignmentPatternCenters().length>0)for(var c=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),d=1-3/u,h=Math.floor(r.getX()+d*(c-r.getX())),v=Math.floor(r.getY()+d*(f-r.getY())),g=4;g<=16;g<<=1)try{l=this.findAlignmentInRegion(a,h,v,g);break}catch(m){if(!(m instanceof D))throw m}var w=t.createTransform(r,n,i,l,o),y=t.sampleGrid(this.image,w,o),x;return l===null?x=[i,r,n]:x=[i,r,n,l],new Uc(y,x)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,u,l,c;return i!==null?(s=i.getX(),u=i.getY(),l=o-3,c=l):(s=r.getX()-e.getX()+n.getX(),u=r.getY()-e.getY()+n.getY(),l=o,c=o),yp.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,l,c,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,u,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=zc.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=se.round(X.distance(e,r)/i),o=se.round(X.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new D("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(r-(i-r)*o);return o=1,u<0?(o=r/(r-u),u=0):u>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(u-r),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,u),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),u=Math.abs(i-r),l=-s/2,c=e<n?1:-1,f=r<i?1:-1,d=0,h=n+c,v=e,g=r;v!==h;v+=c){var w=a?g:v,y=a?v:g;if(d===1===this.image.get(w,y)){if(d===2)return se.distance(v,g,e,r);d++}if(l+=u,l>0){if(g===i)break;g+=f,l-=s}}return d===2?se.distance(n+c,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new D("Alignment top exceeds estimated module size.");var u=Math.max(0,n-a),l=Math.min(this.image.getHeight()-1,n+a);if(l-u<e*3)throw new D("Alignment bottom exceeds estimated module size.");var c=new K3(this.image,o,u,s-o,l-u,e,this.resultPointCallback);return c.find()},t}(),Yo=function(){function t(){this.decoder=new W3}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Ee.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new e_(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof Ap&&n.getOther().applyMirroredCorrection(i);var s=new xt(n.getText(),n.getRawBytes(),void 0,i,K.QR_CODE,void 0),u=n.getByteSegments();u!==null&&s.putMetadata(at.BYTE_SEGMENTS,u);var l=n.getECLevel();return l!==null&&s.putMetadata(at.ERROR_CORRECTION_LEVEL,l),n.hasStructuredAppend()&&(s.putMetadata(at.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(at.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new D;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],u=n[0];if(s>=u||a>=o)throw new D;if(o-a!==u-s&&(u=s+(o-a),u>=e.getWidth()))throw new D;var l=Math.round((u-s+1)/i),c=Math.round((o-a+1)/i);if(l<=0||c<=0)throw new D;if(c!==l)throw new D;var f=Math.floor(i/2);a+=f,s+=f;var d=s+Math.floor((l-1)*i)-u;if(d>0){if(d>f)throw new D;s-=d}var h=a+Math.floor((c-1)*i)-o;if(h>0){if(h>f)throw new D;a-=h}for(var v=new wr(l,c),g=0;g<c;g++)for(var w=a+Math.floor(g*i),y=0;y<l;y++)e.get(s+Math.floor(y*i),w)&&v.set(y,g);return v},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,u=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++u===5)break;s=!s}a++,o++}if(a===i||o===n)throw new D;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),t_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ae=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return se.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=t_(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[a++]=u}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Ge.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),r_=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),n_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i_=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new r_(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,u=!1;o<r.getHeight();){var l=t.findVertices(r,o,s);if(l[0]==null&&l[3]==null){if(!u)break;u=!1,s=0;try{for(var c=(n=void 0,n_(a)),f=c.next();!f.done;f=c.next()){var d=f.value;d[1]!=null&&(o=Math.trunc(Math.max(o,d[1].getY()))),d[3]!=null&&(o=Math.max(o,Math.trunc(d[3].getY())))}}catch(h){n={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(u=!0,a.push(l),!e)break;l[2]!=null?(s=Math.trunc(l[2].getX()),o=Math.trunc(l[2].getY())):(s=Math.trunc(l[4].getX()),o=Math.trunc(l[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),u=!1,l=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var c=t.findGuardPattern(e,a,i,n,!1,o,l);if(c!=null){for(;i>0;){var f=t.findGuardPattern(e,a,--i,n,!1,o,l);if(f!=null)c=f;else{i++;break}}s[0]=new X(c[0],i),s[1]=new X(c[1],i),u=!0;break}}var d=i+1;if(u){for(var h=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);d<r;d++){var c=t.findGuardPattern(e,f[0],d,n,!1,o,l);if(c!=null&&Math.abs(f[0]-c[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-c[1])<t.MAX_PATTERN_DRIFT)f=c,h=0;else{if(h>t.SKIPPED_ROW_COUNT_MAX)break;h++}}d-=h+1,s[2]=new X(f[0],d),s[3]=new X(f[1],d)}return d-i<t.BARCODE_MIN_HEIGHT&&Ge.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){Ge.fillWithin(s,0,s.length,0);for(var u=r,l=0;e.get(u,n)&&u>0&&l++<t.MAX_PIXEL_DRIFT;)u--;for(var c=u,f=0,d=o.length,h=a;c<i;c++){var v=e.get(c,n);if(v!==h)s[f]++;else{if(f===d-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,c]);u+=s[0]+s[1],_e.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,h=!h}}return f===d-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,c-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var u=a/o;n*=u;for(var l=0,c=0;c<i;c++){var f=e[c],d=r[c]*u,h=f>d?f-d:d-f;if(h>n)return 1/0;l+=h}return l/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),a_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xn=function(){function t(e,r){if(r.length===0)throw new q;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),_e.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=a_(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(f){r={error:f}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var u=this.coefficients[0],l=this.coefficients.length,c=1;c<l;c++)u=this.field.add(this.field.multiply(e,u),this.coefficients[c]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new q("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;_e.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new q("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new q("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var u=r[s],l=0;l<a;l++)o[s+l]=this.field.add(o[s+l],this.field.multiply(u,i[l]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new q;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new J,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),o_=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new q;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new xp;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),s_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u_=function(t){s_(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new xn(i,new Int32Array([0])),i.one=new xn(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new q;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new xn(this,i)},e.PDF417_GF=new e(ae.NUMBER_OF_CODEWORDS,3),e}(o_),l_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c_=function(){function t(){this.field=u_.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new xn(this.field,e),s=new Int32Array(r),u=!1,l=r;l>0;l--){var c=o.evaluateAt(this.field.exp(l));s[r-l]=c,c!==0&&(u=!0)}if(!u)return 0;var f=this.field.getOne();if(n!=null)try{for(var d=l_(n),h=d.next();!h.done;h=d.next()){var v=h.value,g=this.field.exp(e.length-1-v),w=new xn(this.field,new Int32Array([this.field.subtract(0,g),1]));f=f.multiply(w)}}catch(N){i={error:N}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}for(var y=new xn(this.field,s),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),y,r),m=x[0],_=x[1],A=this.findErrorLocations(m),I=this.findErrorMagnitudes(_,m,A),l=0;l<A.length;l++){var S=e.length-1-this.field.log(A[l]);if(S<0)throw Ue.getChecksumInstance();e[S]=this.field.subtract(e[S],I[l])}return A.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),u=this.field.getOne();o.getDegree()>=Math.round(n/2);){var l=a,c=s;if(a=o,s=u,a.isZero())throw Ue.getChecksumInstance();o=l;for(var f=this.field.getZero(),d=a.getCoefficient(a.getDegree()),h=this.field.inverse(d);o.getDegree()>=a.getDegree()&&!o.isZero();){var v=o.getDegree()-a.getDegree(),g=this.field.multiply(o.getCoefficient(o.getDegree()),h);f=f.add(this.field.buildMonomial(v,g)),o=o.subtract(a.multiplyByMonomial(v,g))}u=f.multiply(s).subtract(c).negative()}var w=u.getCoefficient(0);if(w===0)throw Ue.getChecksumInstance();var y=this.field.inverse(w),x=u.multiply(y),m=o.multiply(y);return[x,m]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw Ue.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new xn(this.field,a),u=n.length,l=new Int32Array(u),o=0;o<u;o++){var c=this.field.inverse(n[o]),f=this.field.subtract(0,e.evaluateAt(c)),d=this.field.inverse(s.evaluateAt(c));l[o]=this.field.multiply(f,d)}return l},t}(),Tl=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new D;o?(r=new X(0,i.getY()),n=new X(0,a.getY())):s&&(i=new X(e.getWidth()-1,r.getY()),a=new X(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var u=n?this.topLeft:this.topRight,l=Math.trunc(u.getY()-e);l<0&&(l=0);var c=new X(u.getX(),l);n?i=c:o=c}if(r>0){var f=n?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+r);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);var h=new X(f.getX(),d);n?a=h:s=h}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),f_=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),Hc=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,u,l,c,f){if(o==="%%")return"%";if(r[++n]!==void 0){o=l?parseInt(l.substr(1)):void 0;var d=c?parseInt(c.substr(1)):void 0,h;switch(f){case"s":h=r[n];break;case"c":h=r[n][0];break;case"f":h=parseFloat(r[n]).toFixed(o);break;case"p":h=parseFloat(r[n]).toPrecision(o);break;case"e":h=parseFloat(r[n]).toExponential(o);break;case"x":h=parseInt(r[n]).toString(d||16);break;case"d":h=parseFloat(parseInt(r[n],d||10).toPrecision(o)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(d);for(var v=parseInt(u),g=u&&u[0]+""=="0"?"0":" ";h.length<v;)h=s!==void 0?h+g:g+h;return h}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),d_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Sp=function(){function t(e){this.boundingBox=new Tl(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new Hc,i=0;try{for(var a=d_(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),h_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},p_=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},Ui=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(f,d){var h={getKey:function(){return f},getValue:function(){return d}};h.getValue()>n?(n=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===n&&i.push(h.getKey())};try{for(var o=h_(this.values.entries()),s=o.next();!s.done;s=o.next()){var u=p_(s.value,2),l=u[0],c=u[1];a(l,c)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return ae.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),v_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hd=function(t){v_(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=uu(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),l=-1,c=1,f=0,d=s;d<u;d++)if(n[d]!=null){var h=n[d],v=h.getRowNumber()-l;if(v===0)f++;else if(v===1)c=Math.max(c,f),f=1,l=h.getRowNumber();else if(v<0||h.getRowNumber()>=r.getRowCount()||v>d)n[d]=null;else{var g=void 0;c>2?g=(c-2)*v:g=v;for(var w=g>=d,y=1;y<=g&&!w;y++)w=n[d-y]!=null;w?n[d]=null:(l=h.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=uu(this.getCodewords()),s=o.next();!s.done;s=o.next()){var u=s.value;if(u!=null){var l=u.getRowNumber();if(l>=a.length)continue;a[l]++}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.getCodewords(),l=-1,c=o;c<s;c++)if(u[c]!=null){var f=u[c];f.setRowNumberAsRowIndicatorColumn();var d=f.getRowNumber()-l;d===0||(d===1?l=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?u[c]=null:l=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new Ui,o=new Ui,s=new Ui,u=new Ui;try{for(var l=uu(i),c=l.next();!c.done;c=l.next()){var f=c.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var d=f.getValue()%30,h=f.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:o.setValue(d*3+1);break;case 1:u.setValue(d/3),s.setValue(d%3);break;case 2:a.setValue(d+1);break}}}}catch(g){r={error:g}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<ae.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>ae.MAX_ROWS_IN_BARCODE)return null;var v=new f_(a.getValue()[0],o.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,v),v},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(Sp),g_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},x_=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ae.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var l=new Array(14);l[2]=s[r],l[3]=u[r],r>0&&(l[0]=n[r-1],l[4]=s[r-1],l[5]=u[r-1]),r>1&&(l[8]=n[r-2],l[10]=s[r-2],l[11]=u[r-2]),r<n.length-1&&(l[1]=n[r+1],l[6]=s[r+1],l[7]=u[r+1]),r<n.length-2&&(l[9]=n[r+2],l[12]=s[r+2],l[13]=u[r+2]);try{for(var c=g_(l),f=c.next();!f.done;f=c.next()){var d=f.value;if(t.adjustRowNumber(o,d))return}}catch(h){i={error:h}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new Hc,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),y_=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),m_=function(){function t(){}return t.initialize=function(){for(var e=0;e<ae.SYMBOL_TABLE.length;e++)for(var r=ae.SYMBOL_TABLE[e],n=r&1,i=0;i<ae.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(ae.BARS_IN_MODULE)),t.RATIOS_TABLE[e][ae.BARS_IN_MODULE-i-1]=Math.fround(a/ae.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=se.sum(e),n=new Int32Array(ae.BARS_IN_MODULE),i=0,a=0,o=0;o<ae.MODULES_IN_CODEWORD;o++){var s=r/(2*ae.MODULES_IN_CODEWORD)+o*r/ae.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return ae.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=se.sum(e),n=new Array(ae.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=Il.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,l=t.RATIOS_TABLE[s],c=0;c<ae.BARS_IN_MODULE;c++){var f=Math.fround(l[c]-n[c]);if(u+=Math.fround(f*f),u>=a)break}u<a&&(a=u,o=ae.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(ae.SYMBOL_TABLE.length).map(function(e){return new Array(ae.BARS_IN_MODULE)}),t}(),w_=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),$d=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),__=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E_=function(t){__(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(kt),C_=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new E_;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new jc;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),A_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S_=function(t){A_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(kt),I_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N_=function(t){I_(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new q("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new S_;i=te.MAX_VALUE}this.buf=Ge.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new jc;this.ensureCapacity(this.count+i),_e.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Ge.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(C_),xe;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(xe||(xe={}));function Ip(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Ka;function Ur(t){if(typeof Ka>"u"&&(Ka=Ip()),Ka===null)throw new Error("BigInt is not supported!");return Ka(t)}function O_(){var t=[];t[0]=Ur(1);var e=Ur(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var T_=function(){function t(){}return t.decode=function(e,r){var n=new J(""),i=We.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new w_;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:We.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new H;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw H.getFormatInstance()}if(n.length()===0)throw H.getFormatInstance();var u=new Es(null,n.toString(),null,r);return u.setOther(s),u},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw H.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(te.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new J;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new J;r=t.textCompaction(e,r+1,u),n.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new J;r=t.textCompaction(e,r+1,l),n.setSender(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new J;r=t.textCompaction(e,r+1,c),n.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new J;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(te.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var d=new J;r=t.numericCompaction(e,r+1,d),n.setTimestamp($d.parseLong(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new J;r=t.numericCompaction(e,r+1,h),n.setChecksum(te.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var v=new J;r=t.numericCompaction(e,r+1,v),n.setFileSize($d.parseLong(v.toString()));break;default:throw H.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(s!==-1){var g=r-s;n.isLastSegment()&&g--,n.setOptionalData(Ge.copyOfRange(e,s,s+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var u=e[r++];if(u<t.TEXT_COMPACTION_MODE_LATCH)i[o]=u/30,i[o+1]=u%30,o+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[r++],a[o]=u,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=xe.ALPHA,o=xe.ALPHA,s=0;s<n;){var u=e[s],l="";switch(a){case xe.ALPHA:if(u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.LL:a=xe.LOWER;break;case t.ML:a=xe.MIXED;break;case t.PS:o=a,a=xe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=xe.ALPHA;break}break;case xe.LOWER:if(u<26)l=String.fromCharCode(97+u);else switch(u){case 26:l=" ";break;case t.AS:o=a,a=xe.ALPHA_SHIFT;break;case t.ML:a=xe.MIXED;break;case t.PS:o=a,a=xe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=xe.ALPHA;break}break;case xe.MIXED:if(u<t.PL)l=t.MIXED_CHARS[u];else switch(u){case t.PL:a=xe.PUNCT;break;case 26:l=" ";break;case t.LL:a=xe.LOWER;break;case t.AL:a=xe.ALPHA;break;case t.PS:o=a,a=xe.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=xe.ALPHA;break}break;case xe.PUNCT:if(u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=xe.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=xe.ALPHA;break}break;case xe.ALPHA_SHIFT:if(a=o,u<26)l=String.fromCharCode(65+u);else switch(u){case 26:l=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=xe.ALPHA;break}break;case xe.PUNCT_SHIFT:if(a=o,u<t.PAL)l=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=xe.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=xe.ALPHA;break}break}l!==""&&i.append(l),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new N_,s=0,u=0,l=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),f=r[i++];i<r[0]&&!l;)switch(c[s++]=f,u=900*u+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break;default:if(s%5===0&&s>0){for(var d=0;d<6;++d)o.write(Number(Ur(u)>>Ur(8*(5-d))));u=0,s=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=f);for(var h=0;h<s;h++)o.write(c[h]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!l;){var v=r[i++];if(v<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+v;else switch(v){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break}if(s%5===0&&s>0){for(var d=0;d<6;++d)o.write(Number(Ur(u)>>Ur(8*(5-d))));u=0,s=0}}break}return a.append(Zt.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ur(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ur(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new H;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=Ip()?O_():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Pi=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},R_=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var u=new Tl(e,r,n,i,a),l=null,c=null,f,d=!0;;d=!1){if(r!=null&&(l=t.getRowIndicatorColumn(e,u,r,!0,o,s)),i!=null&&(c=t.getRowIndicatorColumn(e,u,i,!1,o,s)),f=t.merge(l,c),f==null)throw D.getNotFoundInstance();var h=f.getBoundingBox();if(d&&h!=null&&(h.getMinY()<u.getMinY()||h.getMaxY()>u.getMaxY()))u=h;else break}f.setBoundingBox(u);var v=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,l),f.setDetectionResultColumn(v,c);for(var g=l!=null,w=1;w<=v;w++){var y=g?w:v-w;if(f.getDetectionResultColumn(y)===void 0){var x=void 0;y===0||y===v?x=new Hd(u,y===0):x=new Sp(u),f.setDetectionResultColumn(y,x);for(var m=-1,_=m,A=u.getMinY();A<=u.getMaxY();A++){if(m=t.getStartColumn(f,y,A,g),m<0||m>u.getMaxX()){if(_===-1)continue;m=_}var I=t.detectCodeword(e,u.getMinX(),u.getMaxX(),g,m,A,o,s);I!=null&&(x.setCodeword(A,I),_=m,o=Math.min(o,I.getWidth()),s=Math.max(s,I.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=Tl.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new x_(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=Pi(i),u=s.next();!u.done;u=s.next()){var l=u.value;if(o+=a-l,l>0)break}}catch(h){r={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var c=e.getCodewords(),f=0;o>0&&c[f]==null;f++)o--;for(var d=0,f=i.length-1;f>=0&&(d+=a-i[f],!(i[f]>0));f--);for(var f=c.length-1;d>0&&c[f]==null;f--)d--;return e.getBoundingBox().addMissingRows(o,d,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Pi(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new Hd(r,i),u=0;u<2;u++)for(var l=u===0?1:-1,c=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=l){var d=t.detectCodeword(e,0,e.getWidth(),i,c,f,a,o);d!=null&&(s.setCodeword(f,d),i?c=d.getStartX():c=d.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>ae.MAX_CODEWORDS_IN_BARCODE)throw D.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var l=r[s][u+1].getValue(),c=s*e.getBarcodeColumnCount()+u;l.length===0?n.push(c):l.length===1?i[c]=l[0]:(o.push(c),a.push(l))}for(var f=new Array(a.length),d=0;d<f.length;d++)f[d]=a[d];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ae.toIntArray(n),ae.toIntArray(o),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<o.length;u++)r[i[u]]=a[u][o[u]];try{return t.decodeCodewords(r,e,n)}catch(c){var l=c instanceof Ue;if(!l)throw c}if(o.length===0)throw Ue.getChecksumInstance();for(var u=0;u<o.length;u++)if(o[u]<a[u].length-1){o[u]++;break}else if(o[u]=0,u===o.length-1)throw Ue.getChecksumInstance()}throw Ue.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var u=0;u<o[s].length;u++)o[s][u]=new Ui;var l=0;try{for(var c=Pi(e.getDetectionResultColumns()),f=c.next();!f.done;f=c.next()){var d=f.value;if(d!=null)try{for(var h=(i=void 0,Pi(d.getCodewords())),v=h.next();!v.done;v=h.next()){var g=v.value;if(g!=null){var w=g.getRowNumber();if(w>=0){if(w>=o.length)continue;o[w][l].setValue(g.getValue())}}}}catch(y){i={error:y}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}l++}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,u=null;if(t.isValidBarcodeColumn(e,r-s)&&(u=e.getDetectionResultColumn(r-s).getCodeword(n)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(r).getCodewordNearby(n),u!=null)return i?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(u=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),u!=null)return i?u.getEndX():u.getStartX();for(var l=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var c=(a=void 0,Pi(e.getDetectionResultColumn(r).getCodewords())),f=c.next();!f.done;f=c.next()){var d=f.value;if(d!=null)return(i?d.getEndX():d.getStartX())+s*l*(d.getEndX()-d.getStartX())}}catch(h){a={error:h}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}l++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,u){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var l=t.getModuleBitCount(e,r,n,i,a,o);if(l==null)return null;var c,f=se.sum(l);if(i)c=a+f;else{for(var d=0;d<l.length/2;d++){var h=l[d];l[d]=l[l.length-1-d],l[l.length-1-d]=h}c=a,a=c-f}if(!t.checkCodewordSkew(f,s,u))return null;var v=m_.getDecodedValue(l),g=ae.getCodeword(v);return g===-1?null:new y_(a,c,t.getCodewordBucketNumber(v),g)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,u=new Int32Array(8),l=0,c=i?1:-1,f=i;(i?s<n:s>=r)&&l<u.length;)e.get(s,o)===f?(u[l]++,s+=c):(l++,f=!f);return l===u.length||s===(i?n:r)&&l===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,u=i?-1:1,l=0;l<2;l++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=u}u=-u,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw H.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=T_.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Ue.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw H.getFormatInstance();var n=e[0];if(n>e.length)throw H.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw H.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new Hc,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new c_,t}(),D_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ko=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw D.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof H||n instanceof Ue?D.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=i_.detectMultiple(e,r,n);try{for(var u=D_(s.getPoints()),l=u.next();!l.done;l=u.next()){var c=l.value,f=R_.decode(s.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),d=new xt(f.getText(),f.getRawBytes(),void 0,c,K.PDF_417);d.putMetadata(at.ERROR_CORRECTION_LEVEL,f.getECLevel());var h=f.getOther();h!=null&&d.putMetadata(at.PDF417_EXTRA_METADATA,h),o.push(d)}}catch(v){i={error:v}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o.map(function(v){return v})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?te.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*ae.MODULES_IN_CODEWORD/ae.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*ae.MODULES_IN_CODEWORD/ae.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*ae.MODULES_IN_CODEWORD/ae.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*ae.MODULES_IN_CODEWORD/ae.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),b_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wd=function(t){b_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(kt),Gd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Np=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Ee.TRY_HARDER)!==void 0,n=e==null?null:e.get(Ee.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===K.UPC_A||o===K.UPC_E||o===K.EAN_13||o===K.EAN_8||o===K.CODABAR||o===K.CODE_39||o===K.CODE_93||o===K.CODE_128||o===K.ITF||o===K.RSS_14||o===K.RSS_EXPANDED});a&&!r&&i.push(new Yn(e)),n.includes(K.QR_CODE)&&i.push(new Yo),n.includes(K.DATA_MATRIX)&&i.push(new Xo),n.includes(K.AZTEC)&&i.push(new Wo),n.includes(K.PDF_417)&&i.push(new Ko),a&&r&&i.push(new Yn(e))}i.length===0&&(r||i.push(new Yn(e)),i.push(new Yo),i.push(new Xo),i.push(new Wo),i.push(new Ko),r&&i.push(new Yn(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=Gd(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new Wd("No readers where selected, nothing can be read.");try{for(var i=Gd(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof Wd)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new D("No MultiFormat Readers were able to detect the code.")},t}(),P_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){P_(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new Np;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(wi);var k_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){k_(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Ko,r)||this}return e})(wi);var M_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){M_(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Yo,r)||this}return e})(wi);var Rl;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Rl||(Rl={}));const Za=Rl;var Op=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Jr(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new Jr(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new q("No error correction bytes");var n=e.length-r;if(n<=0)throw new q("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);_e.arraycopy(e,0,a,0,n);var o=new Jr(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],u=s.getCoefficients(),l=r-u.length,c=0;c<l;c++)e[n+c]=0;_e.arraycopy(u,0,e,n+l,u.length)},t}(),zi=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],u=0;u<i-1;u++){var l=s[u];l===s[u+1]&&l===n[o+1][u]&&l===n[o+1][u+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var u=n[o];s+6<i&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],u=0;u<i;u++)s[u]===1&&r++;var l=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(r*2-l)*10/l);return c*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new q("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var u=0,l=-1,c=0;c<a;c++){var f=r?o[s][c]:o[c][s];f===l?u++:(u>=5&&(n+=t.N1+(u-5)),u=1,l=f)}u>=5&&(n+=t.N1+(u-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),L_=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B_=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=L_(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Ge.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,u=this.width;s<u;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new J,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Dl=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new J;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),F_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ae=function(t){F_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(kt),Xd=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new et;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),u=t.TYPE_INFO_COORDINATES[a],l=u[0],c=u[1];if(n.setBoolean(l,c,s),a<8){var f=n.getWidth()-a-1,d=8;n.setBoolean(f,d,s)}else{var f=8,d=n.getHeight()-7+(a-8);n.setBoolean(f,d,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new et;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var u=0;u<2;++u){var l=o-u;if(t.isEmpty(n.get(l,s))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,r!==255&&zi.getDataMaskBit(r,l,s)&&(c=!c),n.setBoolean(l,s,c)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new Ae("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-te.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new q("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Dl.isValidMaskPattern(r))throw new Ae("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new et;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new Ae("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new Ae("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Ae;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new Ae;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new Ae;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var u=0;u!==o;u++){var l=i[u];l>=0&&t.isEmpty(r.get(l,s))&&t.embedPositionAdjustmentPattern(l-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),j_=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),Yd=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return zi.applyMaskPenaltyRule1(e)+zi.applyMaskPenaltyRule2(e)+zi.applyMaskPenaltyRule3(e)+zi.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(Za.CHARACTER_SET)!==void 0;a&&(i=n.get(Za.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new et;if(o===Se.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=We.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(o,s);var l=new et;this.appendBytes(e,o,l,i);var c;if(n!==null&&n.get(Za.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Za.QR_VERSION).toString(),10);c=_n.getVersionForNumber(f);var d=this.calculateBitsNeeded(o,s,l,c);if(!this.willFit(d,c,r))throw new Ae("Data too big for requested version")}else c=this.recommendVersion(r,o,s,l);var h=new et;h.appendBitArray(s);var v=o===Se.BYTE?l.getSizeInBytes():e.length;this.appendLengthInfo(v,c,o,h),h.appendBitArray(l);var g=c.getECBlocksForLevel(r),w=c.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(w,h);var y=this.interleaveWithECBytes(h,c.getTotalCodewords(),w,g.getNumBlocks()),x=new Dl;x.setECLevel(r),x.setMode(o),x.setVersion(c);var m=c.getDimensionForVersion(),_=new B_(m,m),A=this.chooseMaskPattern(y,r,c,_);return x.setMaskPattern(A),Xd.buildMatrix(y,r,c,A,_),x.setMatrix(_),x},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,_n.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),We.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Se.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Se.BYTE}return i?Se.ALPHANUMERIC:n?Se.NUMERIC:Se.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Zt.encode(e,We.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<Dl.NUM_MASK_PATTERNS;s++){Xd.buildMatrix(e,r,n,s,i);var u=this.calculateMaskPenalty(i);u<a&&(a=u,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=_n.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new Ae("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,u=(e+7)/8;return s>=u},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new Ae("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new Ae("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new Ae("Block ID too large");var s=e%n,u=n-s,l=Math.floor(e/n),c=l+1,f=Math.floor(r/n),d=f+1,h=l-f,v=c-d;if(h!==v)throw new Ae("EC bytes mismatch");if(n!==u+s)throw new Ae("RS blocks mismatch");if(e!==(f+h)*u+(d+v)*s)throw new Ae("Total bytes mismatch");i<u?(a[0]=f,o[0]=h):(a[0]=d,o[0]=v)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,u;if(e.getSizeInBytes()!==n)throw new Ae("Number of bits and data bytes does not match");for(var l=0,c=0,f=0,d=new Array,h=0;h<i;++h){var v=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,h,v,g);var w=v[0],y=new Uint8Array(w);e.toBytes(8*l,y,0,w);var x=t.generateECBytes(y,g[0]);d.push(new j_(y,x)),c=Math.max(c,w),f=Math.max(f,x.length),l+=v[0]}if(n!==l)throw new Ae("Data bytes does not match offset");for(var m=new et,h=0;h<c;++h)try{for(var _=(a=void 0,Yd(d)),A=_.next();!A.done;A=_.next()){var I=A.value,y=I.getDataBytes();h<y.length&&m.appendBits(y[h],8)}}catch(P){a={error:P}}finally{try{A&&!A.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}for(var h=0;h<f;++h)try{for(var S=(s=void 0,Yd(d)),N=S.next();!N.done;N=S.next()){var I=N.value,x=I.getErrorCorrectionBytes();h<x.length&&m.appendBits(x[h],8)}}catch(P){s={error:P}}finally{try{N&&!N.done&&(u=S.return)&&u.call(S)}finally{if(s)throw s.error}}if(r!==m.getSizeInBytes())throw new Ae("Interleaving error: "+r+" and "+m.getSizeInBytes()+" differ.");return m},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new Op(Nt.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new Ae(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Se.NUMERIC:t.appendNumericBytes(e,n);break;case Se.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Se.BYTE:t.append8BitBytes(e,n,i);break;case Se.KANJI:t.appendKanjiBytes(e,n);break;default:throw new Ae("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Ae;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new Ae;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Zt.encode(e,n)}catch(u){throw new Ae(u)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Zt.encode(e,We.SJIS)}catch(f){throw new Ae(f)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,u=o<<8&4294967295|s,l=-1;if(u>=33088&&u<=40956?l=u-33088:u>=57408&&u<=60351&&(l=u-49472),l===-1)throw new Ae("Invalid byte sequence");var c=(l>>8)*192+(l&255);r.appendBits(c,13)}},t.appendECI=function(e,r){r.appendBits(Se.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=We.UTF8.getName(),t})();var U_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){U_(e,t);function e(r,n,i,a,o,s,u,l){var c=t.call(this,s,u)||this;if(c.yuvData=r,c.dataWidth=n,c.dataHeight=i,c.left=a,c.top=o,a+s>n||o+u>i)throw new q("Crop rectangle does not fit within image data.");return l&&c.reverseHorizontal(s,u),c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new q("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return _e.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return _e.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var u=s*r;_e.arraycopy(this.yuvData,o,a,u,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var u=s*r,l=0;l<r;l++){var c=a[o+l*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+l]=4278190080|c*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,u=o,l=o+r-1;u<s;u++,l--){var c=i[u];i[u]=i[l],i[l]=c}},e.prototype.invert=function(){return new _s(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Ia);var z_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){z_(e,t);function e(r,n,i,a,o,s,u){var l=t.call(this,n,i)||this;if(l.dataWidth=a,l.dataHeight=o,l.left=s,l.top=u,r.BYTES_PER_ELEMENT===4){for(var c=n*i,f=new Uint8ClampedArray(c),d=0;d<c;d++){var h=r[d],v=h>>16&255,g=h>>7&510,w=h&255;f[d]=(v+g+w)/4&255}l.luminances=f}else l.luminances=r;if(a===void 0&&(l.dataWidth=n),o===void 0&&(l.dataHeight=i),s===void 0&&(l.left=0),u===void 0&&(l.top=0),l.left+n>l.dataWidth||l.top+i>l.dataHeight)throw new q("Crop rectangle does not fit within image data.");return l}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new q("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return _e.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return _e.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var u=s*r;_e.arraycopy(this.luminances,o,a,u,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new _s(this)},e})(Ia);var V_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H_=function(t){V_(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(We),$_=function(){function t(){}return t.ISO_8859_1=We.ISO8859_1,t}(),bl,W_=301,G_=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=W_);return{LOG:t,ALOG:e}};bl=G_([],[]),bl.LOG;bl.ALOG;var Kd;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Kd||(Kd={}));var Zd=129,Tp=230,X_=231,Y_=235,K_=236,Z_=237,q_=238,Q_=239,J_=240,lu=254,eE=254,qd="[)>05",Qd="[)>06",Jd="",ve=0,nt=1,wt=2,Ve=3,Qe=4,pt=5,tE=function(){function t(){}return t.prototype.getEncodingMode=function(){return ve},t.prototype.encode=function(e){var r=or.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=or.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case pt:e.writeCodeword(X_),e.signalEncoderChange(pt);return;case nt:e.writeCodeword(Tp),e.signalEncoderChange(nt);return;case Ve:e.writeCodeword(q_),e.signalEncoderChange(Ve);break;case wt:e.writeCodeword(Q_),e.signalEncoderChange(wt);break;case Qe:e.writeCodeword(J_),e.signalEncoderChange(Qe);break;default:throw new Error("Illegal mode: "+i)}else or.isExtendedASCII(n)?(e.writeCodeword(Y_),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(or.isDigit(e)&&or.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),rE=function(){function t(){}return t.prototype.getEncodingMode=function(){return pt},t.prototype.encode=function(e){var r=new J;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=or.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ve);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||u)if(a<=249)r.setCharAt(0,ie.getCharAt(a));else if(a<=1555)r.setCharAt(0,ie.getCharAt(Math.floor(a/250)+249)),r.insert(1,ie.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var l=0,n=r.length();l<n;l++)e.writeCodeword(this.randomize255State(r.charAt(l).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),$c=function(){function t(){}return t.prototype.getEncodingMode=function(){return nt},t.prototype.encodeMaximal=function(e){for(var r=new J,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),u=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(u);var l=e.getSymbolInfo().getDataCapacity()-u,c=Math.floor(r.length()%3);(c===2&&l!==2||c===1&&(n>3||l!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(Tp),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new J;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var u=new J;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,u,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,u,i);break}var l=r.length();if(l%3===0){var c=or.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(c!==this.getEncodingMode()){e.signalEncoderChange(ve);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(lu)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(lu),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(lu)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ve)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new J;return a.append(n),a.append(i),a.toString()},t}(),nE=function(){function t(){}return t.prototype.getEncodingMode=function(){return Qe},t.prototype.encode=function(e){for(var r=new J;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=or.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange(ve);break}}}r.append(ie.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),u=!e.hasMoreCharacters(),l=u&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(l=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}l?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange(ve)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ie.getCharAt(e-64)):or.illegalCharacter(ie.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,u=s>>16&255,l=s>>8&255,c=s&255,f=new J;return f.append(u),r>=2&&f.append(l),r>=3&&f.append(c),f.toString()},t}(),iE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ce=function(){function t(e,r,n,i,a,o,s,u){s===void 0&&(s=0),u===void 0&&(u=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=u}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var u=aE(sE),l=u.next();!l.done;l=u.next()){var c=l.value;if(!(r===1&&c.rectangular)&&!(r===2&&!c.rectangular)&&!(n!=null&&(c.getSymbolWidth()<n.getWidth()||c.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(c.getSymbolWidth()>i.getWidth()||c.getSymbolHeight()>i.getHeight()))&&e<=c.dataCapacity)return c}}catch(f){o={error:f}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),oE=function(t){iE(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(ce),sE=[new ce(!1,3,5,8,8,1),new ce(!1,5,7,10,10,1),new ce(!0,5,7,16,6,1),new ce(!1,8,10,12,12,1),new ce(!0,10,11,14,6,2),new ce(!1,12,12,14,14,1),new ce(!0,16,14,24,10,1),new ce(!1,18,14,16,16,1),new ce(!1,22,18,18,18,1),new ce(!0,22,18,16,10,2),new ce(!1,30,20,20,20,1),new ce(!0,32,24,16,14,2),new ce(!1,36,24,22,22,1),new ce(!1,44,28,24,24,1),new ce(!0,49,28,22,14,2),new ce(!1,62,36,14,14,4),new ce(!1,86,42,16,16,4),new ce(!1,114,48,18,18,4),new ce(!1,144,56,20,20,4),new ce(!1,174,68,22,22,4),new ce(!1,204,84,24,24,4,102,42),new ce(!1,280,112,14,14,16,140,56),new ce(!1,368,144,16,16,16,92,36),new ce(!1,456,192,18,18,16,114,48),new ce(!1,576,224,20,20,16,144,56),new ce(!1,696,272,22,22,16,174,68),new ce(!1,816,336,24,24,16,136,56),new ce(!1,1050,408,18,18,36,175,68),new ce(!1,1304,496,20,20,36,163,62),new oE],uE=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new J,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new J,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ce.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),lE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cE=function(t){lE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ve},e.prototype.encode=function(r){for(var n=new J;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=or.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(ve);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):or.illegalCharacter(ie.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(eE),r.getNewEncoding()<0&&r.signalEncoderChange(ve)},e}($c),fE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dE=function(t){fE(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return wt},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}($c),or=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=Zd+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new $c,s=[new tE,o,new dE,new cE,new nE,new rE],u=new uE(e);u.setSymbolShape(r),u.setSizeConstraints(n,i),e.startsWith(qd)&&e.endsWith(Jd)?(u.writeCodeword(K_),u.setSkipAtEnd(2),u.pos+=qd.length):e.startsWith(Qd)&&e.endsWith(Jd)&&(u.writeCodeword(Z_),u.setSkipAtEnd(2),u.pos+=Qd.length);var l=ve;for(a&&(o.encodeMaximal(u),l=u.getNewEncoding(),u.resetEncoderSignal());u.hasMoreCharacters();)s[l].encode(u),u.getNewEncoding()>=0&&(l=u.getNewEncoding(),u.resetEncoderSignal());var c=u.getCodewordCount();u.updateSymbolInfo();var f=u.getSymbolInfo().getDataCapacity();c<f&&l!==ve&&l!==pt&&l!==Qe&&u.writeCodeword("");var d=u.getCodewords();for(d.length()<f&&d.append(Zd);d.length()<f;)d.append(this.randomize253State(d.length()+1));return u.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Ve&&i===Ve){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return ve}else if(n===Qe&&i===Qe){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return ve}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===ve?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){Ge.fill(o,0),Ge.fill(s,0);var u=this.findMinimums(i,s,te.MAX_VALUE,o),l=this.getMinimumCount(o);if(s[ve]===u)return ve;if(l===1){if(o[pt]>0)return pt;if(o[Qe]>0)return Qe;if(o[wt]>0)return wt;if(o[Ve]>0)return Ve}return nt}var c=e.charCodeAt(r+a);if(a++,this.isDigit(c)?i[ve]+=.5:this.isExtendedASCII(c)?(i[ve]=Math.ceil(i[ve]),i[ve]+=2):(i[ve]=Math.ceil(i[ve]),i[ve]++),this.isNativeC40(c)?i[nt]+=2/3:this.isExtendedASCII(c)?i[nt]+=8/3:i[nt]+=4/3,this.isNativeText(c)?i[wt]+=2/3:this.isExtendedASCII(c)?i[wt]+=8/3:i[wt]+=4/3,this.isNativeX12(c)?i[Ve]+=2/3:this.isExtendedASCII(c)?i[Ve]+=13/3:i[Ve]+=10/3,this.isNativeEDIFACT(c)?i[Qe]+=3/4:this.isExtendedASCII(c)?i[Qe]+=17/4:i[Qe]+=13/4,this.isSpecialB256(c)?i[pt]+=4:i[pt]++,a>=4){if(Ge.fill(o,0),Ge.fill(s,0),this.findMinimums(i,s,te.MAX_VALUE,o),s[ve]<this.min(s[pt],s[nt],s[wt],s[Ve],s[Qe]))return ve;if(s[pt]<s[ve]||s[pt]+1<this.min(s[nt],s[wt],s[Ve],s[Qe]))return pt;if(s[Qe]+1<this.min(s[pt],s[nt],s[wt],s[Ve],s[ve]))return Qe;if(s[wt]+1<this.min(s[pt],s[nt],s[Qe],s[Ve],s[ve]))return wt;if(s[Ve]+1<this.min(s[pt],s[nt],s[Qe],s[wt],s[ve]))return Ve;if(s[nt]+1<this.min(s[ve],s[pt],s[Qe],s[wt])){if(s[nt]<s[Ve])return nt;if(s[nt]===s[Ve]){for(var f=r+a+1;f<e.length;){var d=e.charCodeAt(f);if(this.isX12TermSep(d))return Ve;if(!this.isNativeX12(d))break;f++}return nt}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,Ge.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=te.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),cu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},e0=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Zt.encode(e,this.charset)!=null}catch{return!1}},t}(),hE=function(){function t(e,r,n){var i,a,o,s,u,l;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(b){return new e0(H_.forName(b))}),this.encoders=[];var c=[];c.push(new e0($_.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),d=0;d<e.length;d++){var h=!1;try{for(var v=(i=void 0,cu(c)),g=v.next();!g.done;g=v.next()){var w=g.value,y=e.charAt(d),x=y.charCodeAt(0);if(x===n||w.canEncode(y)){h=!0;break}}}catch(b){i={error:b}}finally{try{g&&!g.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}if(!h)try{for(var m=(o=void 0,cu(this.ENCODERS)),_=m.next();!_.done;_=m.next()){var w=_.value;if(w.canEncode(e.charAt(d))){c.push(w),h=!0;break}}}catch(b){o={error:b}}finally{try{_&&!_.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}h||(f=!0)}if(c.length===1&&!f)this.encoders=[c[0]];else{this.encoders=[];var A=0;try{for(var I=cu(c),S=I.next();!S.done;S=I.next()){var w=S.value;this.encoders[A++]=w}}catch(b){u={error:b}}finally{try{S&&!S.done&&(l=I.return)&&l.call(I)}finally{if(u)throw u.error}}}var N=-1;if(r!=null){for(var d=0;d<this.encoders.length;d++)if(this.encoders[d]!=null&&r.name===this.encoders[d].name){N=d;break}}this.priorityEncoderIndex=N}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Zt.encode(ie.getCharAt(e),this.encoders[r].name)},t}(),pE=3,vE=function(){function t(e,r,n){this.fnc1=n;var i=new hE(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new J,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),u=0,l=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(u=r.getPriorityEncoderIndex(),l=u+1);for(var c=u;c<l;c++)(s===o||r.canEncode(s,c))&&this.addEdge(n,i+1,new t0(s,r,c,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new t0[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var u=-1,l=te.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var c=a[i][s];c.cachedTotalSize<l&&(l=c.cachedTotalSize,u=s)}if(u<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],d=a[i][u];d!=null;){if(d.isFNC1())f.unshift(1e3);else for(var h=r.encode(d.c,d.encoderIndex),o=h.length-1;o>=0;o--)f.unshift(h[o]&255);var v=d.previous===null?0:d.previous.encoderIndex;v!==d.encoderIndex&&f.unshift(256+r.getECIValue(d.encoderIndex)),d=d.previous}for(var g=[],o=0;o<g.length;o++)g[o]=f[o];return g},t}(),t0=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=pE),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),gE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var r0;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(r0||(r0={}));(function(t){gE(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(vE);var xE=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),n0=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),yE=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),mE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wc=function(t){mE(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+te.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(yE),wE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_E=function(t){wE(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Wc);function EE(t,e,r){return new _E(t,e,r)}function ki(t,e,r){return new Wc(t,e,r)}var CE=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],en=0,Zo=1,Yt=2,Rp=3,xr=4,AE=new Wc(null,0,0),fu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],SE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function IE(t){var e,r;try{for(var n=SE(t),i=n.next();!i.done;i=n.next()){var a=i.value;Ge.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[en][xr]=0,t[Zo][xr]=0,t[Zo][en]=28,t[Rp][xr]=0,t[Yt][xr]=0,t[Yt][en]=15,t}var Dp=IE(Ge.createInt32Array(6,6)),NE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OE=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=fu[this.mode][e];i=ki(i,a&65535,a>>16),n+=a>>16}var o=e===Yt?4:5;return i=ki(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Yt?4:5;return n=ki(n,Dp[this.mode][e],i),n=ki(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===xr||this.mode===Yt){var a=fu[n][en];r=ki(r,a&65535,a>>16),i+=a>>16,n=en}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=EE(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(fu[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new et;try{for(var s=NE(i),u=s.next();!u.done;u=s.next()){var l=u.value;l.appendTo(o,e)}}catch(c){r={error:c}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return ie.format("%s bits=%d bytes=%d",CE[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(AE,en,0,0),t}();function TE(t){var e=ie.getCharCode(" "),r=ie.getCharCode("."),n=ie.getCharCode(",");t[en][e]=1;for(var i=ie.getCharCode("Z"),a=ie.getCharCode("A"),o=a;o<=i;o++)t[en][o]=o-a+2;t[Zo][e]=1;for(var s=ie.getCharCode("z"),u=ie.getCharCode("a"),o=u;o<=s;o++)t[Zo][o]=o-u+2;t[Yt][e]=1;for(var l=ie.getCharCode("9"),c=ie.getCharCode("0"),o=c;o<=l;o++)t[Yt][o]=o-c+2;t[Yt][n]=12,t[Yt][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],d=0;d<f.length;d++)t[Rp][ie.getCharCode(f[d])]=d;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],d=0;d<h.length;d++)ie.getCharCode(h[d])>0&&(t[xr][ie.getCharCode(h[d])]=d);return t}var du=TE(Ge.createInt32Array(5,256)),qa=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RE=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ie.getCharCode(" "),r=ie.getCharCode(`
`),n=n0.singletonList(OE.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ie.getCharCode("\r"):a=o===r?2:0;break;case ie.getCharCode("."):a=o===e?3:0;break;case ie.getCharCode(","):a=o===e?4:0;break;case ie.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=n0.min(n,function(u,l){return u.getBitCount()-l.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=qa(e),s=o.next();!s.done;s=o.next()){var u=s.value;this.updateStateForChar(u,r,a)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=du[e.getMode()][i]>0,o=null,s=0;s<=xr;s++){var u=du[s][i];if(u>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===Yt){var l=o.latchAndAppend(s,u);n.push(l)}if(!a&&Dp[e.getMode()][s]>=0){var c=o.shiftAndAppend(s,u);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||du[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=qa(e),u=s.next();!u.done;u=s.next()){var l=u.value;this.updateStateForPair(l,r,n,o)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(xr,n)),e.getMode()!==xr&&i.push(a.shiftAndAppend(xr,n)),n===3||n===4){var o=a.latchAndAppend(Yt,16-n).latchAndAppend(Yt,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=qa(e),u=s.next();!u.done;u=s.next()){var l=u.value,c=!0,f=function(w){if(w.isBetterThanOrEqualTo(l))return c=!1,"break";l.isBetterThanOrEqualTo(w)&&(o=o.filter(function(y){return y!==w}))};try{for(var d=(i=void 0,qa(o)),h=d.next();!h.done;h=d.next()){var v=h.value,g=f(v);if(g==="break")break}}catch(w){i={error:w}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}c&&o.push(l)}}catch(w){r={error:w}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),DE=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new RE(e).encode(),a=te.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,u,l,c,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,u=Math.abs(n),u>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new q(ie.format("Illegal value %s for layers",n));l=t.totalBitsInLayer(u,s),c=t.WORD_SIZE[u];var d=l-l%c;if(f=t.stuffBits(i,c),f.getSize()+a>d)throw new q("Data to large for user specified layer");if(s&&f.getSize()>c*64)throw new q("Data to large for user specified layer")}else{c=0,f=null;for(var h=0;;h++){if(h>t.MAX_NB_BITS)throw new q("Data too large for an Aztec code");if(s=h<=3,u=s?h+1:h,l=t.totalBitsInLayer(u,s),!(o>l)){(f==null||c!==t.WORD_SIZE[u])&&(c=t.WORD_SIZE[u],f=t.stuffBits(i,c));var d=l-l%c;if(!(s&&f.getSize()>c*64)&&f.getSize()+a<=d)break}}}var v=t.generateCheckWords(f,l,c),g=f.getSize()/c,w=t.generateModeMessage(s,u,g),y=(s?11:14)+u*4,x=new Int32Array(y),m;if(s){m=y;for(var h=0;h<x.length;h++)x[h]=h}else{m=y+1+2*te.truncDivision(te.truncDivision(y,2)-1,15);for(var _=te.truncDivision(y,2),A=te.truncDivision(m,2),h=0;h<_;h++){var I=h+te.truncDivision(h,15);x[_-h-1]=A-I-1,x[_+h]=A+I+1}}for(var S=new wr(m),h=0,N=0;h<u;h++){for(var b=(u-h)*4+(s?9:12),P=0;P<b;P++)for(var R=P*2,z=0;z<2;z++)v.get(N+R+z)&&S.set(x[h*2+z],x[h*2+P]),v.get(N+b*2+R+z)&&S.set(x[h*2+P],x[y-1-h*2-z]),v.get(N+b*4+R+z)&&S.set(x[y-1-h*2-z],x[y-1-h*2-P]),v.get(N+b*6+R+z)&&S.set(x[y-1-h*2-P],x[h*2+z]);N+=b*8}if(t.drawModeMessage(S,s,m,w),s)t.drawBullsEye(S,te.truncDivision(m,2),5);else{t.drawBullsEye(S,te.truncDivision(m,2),7);for(var h=0,P=0;h<te.truncDivision(y,2)-1;h+=15,P+=16)for(var z=te.truncDivision(m,2)&1;z<m;z+=2)S.set(te.truncDivision(m,2)-P,z),S.set(te.truncDivision(m,2)+P,z),S.set(z,te.truncDivision(m,2)-P),S.set(z,te.truncDivision(m,2)+P)}var j=new xE;return j.setCompact(s),j.setSize(m),j.setLayers(u),j.setCodeWords(g),j.setMatrix(S),j},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new et;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=te.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+te.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new Op(t.getGF(n)),u=te.truncDivision(r,n),l=t.bitsToWords(e,n,u);s.encode(l,u-o);var c=r%n,f=new et;f.appendBits(0,c);try{for(var d=DE(Array.from(l)),h=d.next();!h.done;h=d.next()){var v=h.value;f.appendBits(v,n)}}catch(g){i={error:g}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,u=0;u<r;u++)s|=e.get(a*r+u)?1<<r-u-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return Nt.AZTEC_PARAM;case 6:return Nt.AZTEC_DATA_6;case 8:return Nt.AZTEC_DATA_8;case 10:return Nt.AZTEC_DATA_10;case 12:return Nt.AZTEC_DATA_12;default:throw new q("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new et,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,u=0;u<r;u++)(o+u>=i||e.get(o+u))&&(s|=1<<r-1-u);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var bE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PE=function(t){bE(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,s=0,u=r.length;o<u;o+=4,s++){var l=void 0,c=r[o+3];if(c===0)l=255;else{var f=r[o],d=r[o+1],h=r[o+2];l=306*f+601*d+117*h+512>>10}a[s]=l}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new q("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new _s(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*o),u=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*o);n.width=s,n.height=u;var l=n.getContext("2d");if(!l)throw new Error("Could not create a Canvas Context element.");return l.translate(s/2,u/2),l.rotate(i),l.drawImage(this.canvas,a/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(Ia);function bp(){return typeof navigator<"u"}function kE(){return bp()&&!!navigator.mediaDevices}function ME(){return!!(kE()&&navigator.mediaDevices.enumerateDevices)}var Zn=function(){return Zn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zn.apply(this,arguments)},Te=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},Re=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},hu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LE={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},_i=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=Zn(Zn({},LE),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(Ee.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return Te(this,void 0,void 0,function(){return Re(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var a=hu(i),o=a.next();!o.done;o=a.next()){var s=o.value;if(t.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Le("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Le("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new PE(e),n=new gp(r);return new vp(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new Le("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,a=n.height;return r.style.width=i+"px",r.style.height=a+"px",r.width=i,r.height=a,r},t.tryPlayVideo=function(e){return Te(this,void 0,void 0,function(){var r;return Re(this,function(n){switch(n.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return Te(this,void 0,void 0,function(){var e,r,n,i,a,o,s,u,l,c,f,d;return Re(this,function(h){switch(h.label){case 0:if(!bp())throw new Error("Can't enumerate devices, navigator is not present.");if(!ME())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),r=[];try{for(n=hu(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device ".concat(r.length+1),l=a.groupId,c={deviceId:s,label:u,kind:o,groupId:l},r.push(c))}catch(v){f={error:v}}finally{try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.findDeviceById=function(e){return Te(this,void 0,void 0,function(){var r;return Re(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return Te(this,void 0,void 0,function(){var n;return Re(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(a,o){var s=setTimeout(function(){t.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",u))},r),u=function(){t.tryPlayVideo(e).then(function(l){clearTimeout(s),e.removeEventListener("canplay",u),a(l)})};e.addEventListener("canplay",u)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),Te(this,void 0,void 0,function(){var i;return Re(this,function(a){switch(a.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return a.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,a=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),n())},i),o=function(){clearTimeout(a),e.removeEventListener("load",o),r()};e.addEventListener("load",o)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new Le("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return Te(this,void 0,void 0,function(){var r;return Re(this,function(n){switch(n.label){case 0:if(!e)throw new Le("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return Te(this,void 0,void 0,function(){var r;return Re(this,function(n){switch(n.label){case 0:if(!e)throw new Le("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Te(this,void 0,void 0,function(){var i,a;return Re(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,o.sent()];case 4:throw a=o.sent(),t.disposeMediaStream(i),a;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return Te(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f,d,h=this;return Re(this,function(v){switch(v.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return a=v.sent(),o=function(){t.disposeMediaStream(e),t.cleanVideoSource(a)},s=this.scan(a,n,o),u=e.getVideoTracks(),l=Zn(Zn({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(g,w){return Te(this,void 0,void 0,function(){var y,x,m,_,A,I,S;return Re(this,function(N){switch(N.label){case 0:y=w?u.filter(w):u,N.label=1;case 1:N.trys.push([1,6,7,8]),x=hu(y),m=x.next(),N.label=2;case 2:return m.done?[3,5]:(_=m.value,[4,_.applyConstraints(g)]);case 3:N.sent(),N.label=4;case 4:return m=x.next(),[3,2];case 5:return[3,8];case 6:return A=N.sent(),I={error:A},[3,8];case 7:try{m&&!m.done&&(S=x.return)&&S.call(x)}finally{if(I)throw I.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(g){return u.find(g).getConstraints()},streamVideoSettingsGet:function(g){return u.find(g).getSettings()},streamVideoCapabilitiesGet:function(g){return u.find(g).getCapabilities()}}),c=t.mediaStreamIsTorchCompatible(e),c&&(f=u==null?void 0:u.find(function(g){return t.mediaStreamIsTorchCompatibleTrack(g)}),d=function(g){return Te(h,void 0,void 0,function(){return Re(this,function(w){switch(w.label){case 0:return[4,t.mediaStreamSetTorch(f,g)];case 1:return w.sent(),[2]}})})},l.switchTorch=d,l.stop=function(){return Te(h,void 0,void 0,function(){return Re(this,function(g){switch(g.label){case 0:return s.stop(),[4,d(!1)];case 1:return g.sent(),[2]}})})}),[2,l]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Te(this,void 0,void 0,function(){var i,a;return Re(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return Te(this,void 0,void 0,function(){var n,i;return Re(this,function(a){switch(a.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Le("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return a.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return Te(this,void 0,void 0,function(){var n,i,a,o;return Re(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new Le("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},a=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,a)];case 1:return s.sent(),o=this.scan(n,r,i),[2,o]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Te(this,void 0,void 0,function(){var n;return Re(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Te(this,void 0,void 0,function(){var n,i,a;return Re(this,function(o){switch(o.label){case 0:return n=!!r,[4,t.attachStreamToVideo(e,r)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=o.sent(),[2,a];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Te(this,void 0,void 0,function(){var n,i;return Re(this,function(a){switch(a.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return Te(this,void 0,void 0,function(){var r,n;return Re(this,function(i){switch(i.label){case 0:if(!e)throw new Le("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return Te(this,void 0,void 0,function(){var r,n;return Re(this,function(i){switch(i.label){case 0:if(!e)throw new Le("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var a=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(o,s){a.scan(e,function(u,l,c){if(u){o(u),c.stop();return}if(l){if(l instanceof D&&r||l instanceof Ue&&n||l instanceof H&&i)return;c.stop(),s(l)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var a=t.createCaptureCanvas(e),o;try{o=a.getContext("2d",{willReadFrequently:!0})}catch{o=a.getContext("2d")}if(!o)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){o=void 0,a=void 0},u=!1,l,c=function(){u=!0,clearTimeout(l),s(),n&&n()},f={stop:c},d=function(){if(!u)try{t.drawImageOnCanvas(o,e);var h=i.decodeFromCanvas(a);r(h,void 0,f),l=setTimeout(d,i.options.delayBetweenScanSuccess)}catch(y){r(void 0,y,f);var v=y instanceof Ue,g=y instanceof H,w=y instanceof D;if(v||g||w){l=setTimeout(d,i.options.delayBetweenScanAttempts);return}s(),n&&n(y)}};return d(),f},t.prototype._decodeOnLoadImage=function(e){return Te(this,void 0,void 0,function(){var r;return Re(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return Te(this,void 0,void 0,function(){var r;return Re(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}(),BE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){BE(e,t);function e(r,n){return t.call(this,new Wo,r,n)||this}return e})(_i);var FE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){FE(e,t);function e(r,n){return t.call(this,new Yn(r),r,n)||this}return e})(_i);var jE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){jE(e,t);function e(r,n){return t.call(this,new Xo,r,n)||this}return e})(_i);var UE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zE=function(t){UE(e,t);function e(r,n){var i=this,a=new Np;return a.setHints(r),i=t.call(this,a,r,n)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(Ee.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e}(_i),VE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){VE(e,t);function e(r,n){return t.call(this,new Ko,r,n)||this}return e})(_i);var HE=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){HE(e,t);function e(r,n){return t.call(this,new Yo,r,n)||this}return e})(_i);const $E=[K.EAN_13,K.EAN_8,K.UPC_A,K.UPC_E,K.CODE_128,K.CODE_39,K.ITF,K.QR_CODE],WE=["ean_13","ean_8","code_128","code_39","upc_a","upc_e","itf","qr_code"],GE=1600,XE="ims.scanner.deviceId";function YE(t,e){if(!t||!e)return null;const r=Math.max(e.width,1),n=Math.max(e.height,1);return{x:Math.max(0,(t.left-e.left)/r),y:Math.max(0,(t.top-e.top)/n),width:Math.min(1,t.width/r),height:Math.min(1,t.height/n)}}async function KE(){return new zE(void 0,$E)}async function ZE(){var t;if(!((t=navigator.mediaDevices)!=null&&t.enumerateDevices))return[];try{let e=await navigator.mediaDevices.enumerateDevices();return e.some(r=>r.kind==="videoinput")||((await navigator.mediaDevices.getUserMedia({audio:!1,video:!0})).getTracks().forEach(n=>n.stop()),e=await navigator.mediaDevices.enumerateDevices()),e.filter(r=>r.kind==="videoinput")}catch(e){throw console.warn("Unable to enumerate cameras",e),e}}function pu(){let t=null,e=null,r=null,n=null,i=null,a=null,o=null,s=null,u=null,l=!1,c=()=>{},f="",d=0,h=!1,v;const g=()=>{s&&o||(s=document.createElement("canvas"),o=s.getContext("2d",{willReadFrequently:!0}))},w=()=>{r&&(cancelAnimationFrame(r),r=null),n&&(window.clearTimeout(n),n=null)},y=()=>{var B;w(),(B=a==null?void 0:a.reset)==null||B.call(a),t&&t.getTracks().forEach(V=>V.stop()),e&&(e.srcObject=null),t=null,h=!1,l=!1},x=B=>{if(!B)return;const V=typeof B=="string"?B:String(B),$=Date.now();V===f&&$-d<GE||(f=V,d=$,c(V))},m=async()=>{if(!(!i||!e||!l)){try{const B=await i.detect(e);if(B.length){const V=B[0];V.rawValue&&x(V.rawValue)}}catch(B){console.warn("BarcodeDetector detect error",B)}l&&(r=requestAnimationFrame(m))}},_=async()=>{if(!a||!o||!e||!l)return;const B=e.videoWidth,V=e.videoHeight;if(!B||!V){n=window.setTimeout(_,250);return}const $=u?{sx:u.x*B,sy:u.y*V,sw:u.width*B,sh:u.height*V}:{sx:B*.1,sy:V*.2,sw:B*.8,sh:V*.6};s.width=$.sw,s.height=$.sh,o.drawImage(e,$.sx,$.sy,$.sw,$.sh,0,0,$.sw,$.sh);try{const L=await a.decodeFromCanvas(s);L!=null&&L.getText()&&x(L.getText())}catch{}l&&(n=window.setTimeout(_,250))},A=B=>{var L,k;const V=((k=(L=navigator.mediaDevices).getSupportedConstraints)==null?void 0:k.call(L))??{},$={width:{ideal:1280},height:{ideal:720},aspectRatio:{ideal:1.777}};return B!=null&&B.deviceId?$.deviceId={exact:B.deviceId}:B!=null&&B.facingMode?$.facingMode={ideal:B.facingMode}:$.facingMode={ideal:"environment"},V.focusMode&&($.focusMode="continuous"),{audio:!1,video:$}},I=async(B,V)=>{var L;if(y(),!((L=navigator.mediaDevices)!=null&&L.getUserMedia))throw new Error("Camera non disponibile sul dispositivo");e=B,e.autoplay=!0,e.muted=!0,e.playsInline=!0,e.setAttribute("playsinline","true"),e.crossOrigin="anonymous";const $=A(V);t=await navigator.mediaDevices.getUserMedia($),t.getVideoTracks()[0],e.srcObject=t;try{await e.play()}catch(k){console.warn("Video play error",k)}u=YE(V==null?void 0:V.roi,V==null?void 0:V.videoRect),i=null;try{window.BarcodeDetector&&(i=new window.BarcodeDetector({formats:WE}))}catch(k){console.warn("BarcodeDetector unavailable",k),i=null}g(),a||(a=await KE()),l=!0,i?m():_(),h=!1},S=async(B,V)=>{v={...V},await I(B,V)},N=async B=>{if(!e)throw new Error("Video element non inizializzato");v={...v||{},deviceId:B},await I(e,v)},b=()=>{y(),e=null,v=void 0},P=B=>{c=B},R=()=>(t==null?void 0:t.getVideoTracks()[0])??null,z=()=>{var $;const B=R(),V=($=B==null?void 0:B.getCapabilities)==null?void 0:$.call(B);return!!(V&&"torch"in V)},j=async B=>{const V=R();if(!V||!z())return!1;try{return await V.applyConstraints({advanced:[{torch:B}]}),h=B,!0}catch($){return console.warn("Torch toggle error",$),!1}};return{start:S,stop:b,switchDevice:N,listVideoInputs:async()=>{const B=await ZE();if(B.length&&typeof window<"u"){const V=localStorage.getItem(XE);V&&B.some($=>$.deviceId===V)&&(v={...v||{},deviceId:V})}return B},onCode:P,isActive:()=>l,getActiveTrack:R,setTorch:B=>j(B),supportsTorch:z}}function qE(t){var n,i;if(!t)return!1;const e=(n=t.tagName)==null?void 0:n.toLowerCase(),r=(i=t.getAttribute)==null?void 0:i.call(t,"contenteditable");return e==="input"||e==="textarea"||r==="true"}function QE(t){C.useEffect(()=>{const e=r=>{qE(document.activeElement)||t==null||t(r)};return window.addEventListener("keydown",e,{capture:!0}),()=>{window.removeEventListener("keydown",e,{capture:!0})}},[t])}const vu="ims.scanner.deviceId",gu=t=>{const e=t.toLowerCase();return/front|user|selfie|facetime/.test(e)?"front":/back|rear|environment|world/.test(e)?"back":null},JE=(t,e)=>t.label?t.label:`Fotocamera ${e+1}`;function Oa({open:t,onOpenChange:e,onDetected:r,focusRef:n,title:i="Scanner barcode",description:a="Inquadra il codice nel riquadro e mantieni fermo il dispositivo"}){const o=C.useRef(null),s=C.useRef(null),u=C.useRef(null),l=C.useRef(null),[c,f]=C.useState(!1),[d,h]=C.useState(!1),[v,g]=C.useState(null),[w,y]=C.useState(""),[x,m]=C.useState([]),[_,A]=C.useState(()=>{if(typeof window>"u")return null;try{return localStorage.getItem(vu)}catch{return null}}),[I,S]=C.useState(!1),[N,b]=C.useState("environment"),P=_r();C.useEffect(()=>{l.current||(l.current=pu()),l.current.onCode(k=>{g(null),r(k)})},[r]),QE(k=>{(k.ctrlKey||k.metaKey)&&k.key.toLowerCase()==="b"&&(k.preventDefault(),e(!0)),k.key==="Escape"&&t&&(k.preventDefault(),e(!1))});const R=()=>{var k;(k=l.current)==null||k.stop(),h(!1),f(!1)},z=()=>{l.current?f(l.current.supportsTorch()):f(!1)},j=async k=>{var fe;if(!t)return;l.current||(l.current=pu());const M=l.current,Y=o.current;if(!Y)return;const Z=(fe=s.current)==null?void 0:fe.getBoundingClientRect(),ne=Y.getBoundingClientRect();S(!0),y("Avvio camera..."),g(null),h(!1),f(!1);try{const ye=k&&Object.prototype.hasOwnProperty.call(k,"deviceId")?(k==null?void 0:k.deviceId)??void 0:_??void 0,Mt=(k==null?void 0:k.facingMode)??N;await M.start(Y,{deviceId:ye,facingMode:Mt,roi:Z??void 0,videoRect:ne}),z(),y("")}catch(ee){console.error("Scanner start error",ee),R(),g((ee==null?void 0:ee.message)||"Impossibile avviare la fotocamera. Controlla i permessi o la connessione HTTPS."),y("")}finally{S(!1)}},F=async()=>{l.current||(l.current=pu());try{const k=await l.current.listVideoInputs();m(k);let M=_;if(k.length){const Y=_&&k.some(Z=>Z.deviceId===_)?_:k[0].deviceId;Y!==_&&A(Y),M=Y;try{localStorage.setItem(vu,Y)}catch{}}return M}catch(k){return g((k==null?void 0:k.message)||"Non  stato possibile ottenere la lista delle fotocamere."),null}};C.useEffect(()=>{var Y;let k=!1;if(!t){R(),n!=null&&n.current?n.current.focus():(Y=u.current)==null||Y.focus();return}u.current=document.activeElement,y("Avvio camera..."),g(null),h(!1),(async()=>{const Z=await F();k||await j({deviceId:Z??void 0})})();const M=()=>{document.visibilityState==="hidden"&&R()};return document.addEventListener("visibilitychange",M),()=>{k=!0,document.removeEventListener("visibilitychange",M),R()}},[t]),C.useEffect(()=>{if(t)return()=>{R()}},[P.pathname,t]);const B=async k=>{if(!k){A(null),await j({deviceId:null});return}A(k);try{localStorage.setItem(vu,k)}catch{}if(l.current){if(h(!1),f(!1),!l.current.isActive()){await j({deviceId:k});return}S(!0),y("Cambio fotocamera...");try{await l.current.switchDevice(k),z(),y("")}catch(M){console.error("Switch device error",M),g((M==null?void 0:M.message)||"Cambio fotocamera non riuscito."),await j({deviceId:k})}finally{S(!1)}}},V=async()=>{var M,Y;if(x.length>1&&_){const Z=gu(((M=x.find(ye=>ye.deviceId===_))==null?void 0:M.label)||""),ne=x.find(ye=>gu(ye.label||"")==="front"),fe=x.find(ye=>gu(ye.label||"")==="back"),ee=Z==="front"?fe==null?void 0:fe.deviceId:Z==="back"?ne==null?void 0:ne.deviceId:(Y=x.find(ye=>ye.deviceId!==_))==null?void 0:Y.deviceId;if(ee&&ee!==_){await B(ee);return}}const k=N==="environment"?"user":"environment";b(k),await j({facingMode:k,deviceId:null})},$=async()=>{if(!l.current)return;const k=!d;await l.current.setTorch(k)&&h(k)},L=C.useMemo(()=>x.map((k,M)=>({id:k.deviceId||`device-${M}`,label:JE(k,M)})),[x]);return t?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-40 bg-black/60",onClick:()=>e(!1)}),p.jsx("div",{className:"fixed inset-x-0 bottom-0 z-50 flex justify-center px-4 pb-6",children:p.jsxs("div",{className:"w-full max-w-3xl rounded-3xl bg-white shadow-2xl",children:[p.jsxs("div",{className:"flex flex-col gap-3 border-b border-gray-100 px-4 py-3 sm:flex-row sm:items-center sm:justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-semibold",children:i}),p.jsx("p",{className:"text-xs text-gray-500",children:a})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(Tm,{className:"h-4 w-4 text-gray-500"}),p.jsxs("select",{className:"input h-9",value:_??"",onChange:k=>B(k.target.value),disabled:!L.length||I,children:[L.length===0&&p.jsx("option",{value:"",children:"Nessuna fotocamera"}),L.map(k=>p.jsx("option",{value:k.id,children:k.label},k.id))]})]}),p.jsxs("button",{type:"button",className:"btn bg-gray-100 text-gray-700",onClick:V,disabled:I,children:[p.jsx(Bm,{className:"h-4 w-4"}),p.jsx("span",{className:"ml-1",children:"Inverti"})]}),p.jsxs("button",{className:"btn",onClick:()=>e(!1),autoFocus:!0,children:[p.jsx(Gm,{className:"h-4 w-4"}),p.jsx("span",{className:"ml-2",children:"Annulla"})]})]})]}),p.jsxs("div",{className:"flex flex-col items-center gap-4 p-4",children:[p.jsxs("div",{className:"scan-frame",children:[p.jsx("video",{ref:o,className:"scan-video"}),p.jsx("div",{ref:s,className:"scan-roi"})]}),w&&p.jsx("p",{className:"text-xs text-gray-500",children:w}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-600",children:[p.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-gray-100 px-2 py-1",children:[p.jsx(Ym,{className:"h-3 w-3"}),"Visione computer"]}),c&&p.jsx("button",{type:"button",className:"rounded-full bg-black px-3 py-1 text-white transition hover:bg-gray-800",onClick:$,children:d?"Torcia ON":"Torcia OFF"})]}),v&&p.jsx("p",{className:"text-sm text-red-600 text-center",children:v})]})]})})]}):null}function e4(){const[t,e]=C.useState(""),[r,n]=C.useState([]),[i,a]=C.useState(!1),[o,s]=C.useState(!1),u=C.useRef(null),[l,c]=C.useState(""),[f,d]=C.useState(""),[h,v]=C.useState(!0),[g,w]=C.useState(""),[y,x]=C.useState(""),[m,_]=C.useState("title"),[A,I]=C.useState("asc"),[S,N]=C.useState(1),[b,P]=C.useState(9),[R,z]=C.useState(!1),{mode:j,location:F,locations:B,openSelector:V}=sn(),$=j==="location"?(F==null?void 0:F.id)??null:null,L=(F==null?void 0:F.name)??"Location",k=C.useMemo(()=>{const W=new Set;return r.forEach(me=>me.brand&&W.add(me.brand)),Array.from(W).sort()},[r]);C.useEffect(()=>{j!=="location"&&z(!1)},[j]);async function M(W){a(!0);try{const me=typeof W=="string"?W:t,ue=(await he.get("/products/with-stock",{params:{q:me,limit:100}})).data;Array.isArray(ue)?n(ue.map(Ke=>({...Ke,stock:Array.isArray(Ke.stock)?Ke.stock:[],total_qty:typeof Ke.total_qty=="number"?Ke.total_qty:0}))):(console.error("Unexpected /products/with-stock response shape:",ue),c("Errore API prodotti: risposta non valida"),n([]))}catch(me){console.error("Error loading products:",me),c("Errore caricamento prodotti"),n([])}a(!1)}C.useEffect(()=>{o&&window.scrollTo({top:0,behavior:"smooth"})},[o]);const Y=C.useMemo(()=>p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Array.from({length:6}).map((W,me)=>p.jsxs("div",{className:"card animate-pulse flex gap-3 items-center",children:[p.jsx("div",{className:"w-[90px] h-[90px] rounded bg-gray-200"}),p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),p.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),p.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})]},me))}),[]);C.useEffect(()=>{M()},[]);const Z=C.useMemo(()=>{let W=r;h&&(W=W.filter(ue=>ue.is_active!==!1)),f&&(W=W.filter(ue=>ue.brand===f));const me=g?Number(g):null,Lt=y?Number(y):null;return me!==null&&(W=W.filter(ue=>(ue.price??0)>=me)),Lt!==null&&(W=W.filter(ue=>(ue.price??0)<=Lt)),R&&$&&(W=W.filter(ue=>(ue.stock||[]).some(Ke=>Ke.location_id===$&&Ke.qty>0))),W},[r,f,h,g,y,R,$]),ne=C.useMemo(()=>{const W=[...Z];return W.sort((me,Lt)=>{const ue=me[m],Ke=Lt[m];return ue==null&&Ke==null?0:ue==null?A==="asc"?-1:1:Ke==null?A==="asc"?1:-1:typeof ue=="number"&&typeof Ke=="number"?A==="asc"?ue-Ke:Ke-ue:A==="asc"?String(ue).localeCompare(String(Ke)):String(Ke).localeCompare(String(ue))}),W},[Z,m,A]),fe=Math.max(1,Math.ceil(ne.length/b)),ee=C.useMemo(()=>{const W=(S-1)*b;return ne.slice(W,W+b)},[ne,S,b]),ye=W=>{const me=B.find(Lt=>Lt.id===W);return me?me.name:`Location ${W}`},Mt=async W=>{W&&(s(!1),e(W),await M(W))};return p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Prodotti"}),i&&Y,p.jsxs("div",{className:"flex gap-2 flex-wrap",children:[p.jsx(mi,{ref:u,placeholder:"Cerca SKU/Barcode/Titolo",value:t,onChange:e,onScan:W=>Mt(W),onRequestScan:()=>s(!0)}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-600",children:"Marca"}),p.jsxs("select",{className:"input",value:f,onChange:W=>d(W.target.value),children:[p.jsx("option",{value:"",children:"Tutte"}),k.map(W=>p.jsx("option",{value:W,children:W},W))]})]}),j==="location"&&p.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:R,onChange:W=>z(W.target.checked)}),"Solo ",L]}),p.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:h,onChange:W=>v(W.target.checked)}),"Solo attivi"]}),p.jsx("input",{className:"input",type:"number",placeholder:"Prezzo min",value:g,onChange:W=>w(W.target.value)}),p.jsx("input",{className:"input",type:"number",placeholder:"Prezzo max",value:y,onChange:W=>x(W.target.value)}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-600",children:"Ordina per"}),p.jsxs("select",{className:"input",value:m,onChange:W=>_(W.target.value),children:[p.jsx("option",{value:"title",children:"Titolo"}),p.jsx("option",{value:"brand",children:"Marca"}),p.jsx("option",{value:"price",children:"Prezzo"}),p.jsx("option",{value:"sku",children:"SKU"})]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-600",children:"Direzione"}),p.jsxs("select",{className:"input",value:A,onChange:W=>I(W.target.value),children:[p.jsx("option",{value:"asc",children:"Asc"}),p.jsx("option",{value:"desc",children:"Desc"})]})]}),p.jsx("button",{className:"btn",onClick:()=>M(),disabled:i,children:i?"...":"Cerca"}),p.jsx("a",{className:"btn",href:"/products/new",children:"Nuovo prodotto"})]}),l&&p.jsx("div",{className:"text-sm text-red-600",children:l}),p.jsx("div",{className:"grid md:grid-cols-3 gap-3",children:ee.map(W=>p.jsxs("div",{className:"card flex gap-3 items-center",children:[W.image_url?p.jsx("img",{src:W.image_url,alt:"",style:{width:90,height:90,objectFit:"cover",borderRadius:8}}):p.jsx("div",{style:{width:90,height:90,borderRadius:8,background:"#e5e7eb",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280",fontSize:12},children:"No image"}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:W.title}),p.jsxs("div",{className:"text-sm text-gray-600",children:[W.brand,"  SKU ",W.sku," ",W.barcode?` ${W.barcode}`:""]}),p.jsxs("div",{className:"text-sm",children:["Prezzo: ",W.price??"-"]}),p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:W.stock&&W.stock.length?p.jsxs("div",{className:"flex flex-wrap gap-1",children:[W.stock.map(me=>p.jsxs("span",{className:`px-2 py-1 rounded-full ${me.location_id===$?"bg-black text-white":"bg-gray-200"}`,children:[ye(me.location_id),": ",me.qty]},`${W.id}-${me.location_id}`)),p.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-100 font-semibold text-gray-700",children:["Totale: ",W.total_qty??0]})]}):p.jsx("span",{children:"Nessuno stock registrato"})})]}),p.jsxs("div",{className:"ml-auto flex gap-2 flex-wrap",children:[p.jsx("a",{className:"btn",href:`/products/edit/${W.id}`,children:"Modifica"}),p.jsx("button",{className:"btn bg-red-100",onClick:async()=>{var me,Lt;try{await he.patch(`/products/${W.id}`,{is_active:!1}),n(ue=>ue.filter(Ke=>Ke.id!==W.id))}catch(ue){c(((Lt=(me=ue==null?void 0:ue.response)==null?void 0:me.data)==null?void 0:Lt.detail)||"Errore eliminazione")}},children:"Elimina"}),p.jsx("button",{className:`btn ${$?"":"opacity-60 cursor-not-allowed"}`,onClick:async()=>{var me,Lt;if(!$){c("Seleziona una location per usare la vendita rapida."),V();return}try{await he.post("/stock/movement",{product_id:W.id,type:"sell",qty_change:1,from_location_id:$,to_location_id:null,note:"Vendita rapida"}),c(`Venduto 1 da ${F==null?void 0:F.name}`)}catch(ue){c(((Lt=(me=ue==null?void 0:ue.response)==null?void 0:me.data)==null?void 0:Lt.detail)||"Errore vendita")}},children:$?`Vendi 1 (${L})`:"Scegli una location"})]})]},W.id))}),p.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[p.jsxs("div",{className:"text-sm",children:["Pagina ",S," di ",fe]}),p.jsx("button",{className:"btn",disabled:S<=1,onClick:()=>N(W=>Math.max(1,W-1)),children:"Prev"}),p.jsx("button",{className:"btn",disabled:S>=fe,onClick:()=>N(W=>Math.min(fe,W+1)),children:"Next"}),p.jsxs("select",{className:"input w-[100px]",value:b,onChange:W=>{P(Number(W.target.value)),N(1)},children:[p.jsx("option",{value:6,children:"6"}),p.jsx("option",{value:9,children:"9"}),p.jsx("option",{value:12,children:"12"})]})]}),p.jsx(Oa,{open:o,onOpenChange:s,onDetected:W=>Mt(W),focusRef:u})]})}async function As(t){return t?(await he.get("/products/lookup",{params:{barcode:t}})).data:{found:!1,gtin:t}}function Ss({data:t,loading:e}){var r;return e?p.jsx("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 p-3 text-sm text-gray-600",children:"Ricerca informazioni pubbliche..."}):t?t.found?p.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-900 dark:border-emerald-900/40 dark:bg-emerald-900/10 dark:text-emerald-100",children:p.jsxs("div",{className:"flex items-start gap-3",children:[((r=t.image)==null?void 0:r.url)&&p.jsx("img",{src:t.image.url,alt:t.title||"Anteprima",className:"h-16 w-16 rounded-lg object-cover"}),p.jsxs("div",{className:"flex-1 space-y-1",children:[p.jsx("div",{className:"text-base font-semibold",children:t.title||"Titolo non disponibile"}),t.brand&&p.jsxs("div",{children:["Brand: ",t.brand]}),t.description&&p.jsx("div",{className:"text-xs text-emerald-900/80 dark:text-emerald-100/80 line-clamp-3",children:t.description}),p.jsxs("div",{className:"text-xs uppercase",children:["Fonte: ",t.source||"sconosciuta","  GTIN ",t.gtin]})]})]})}):p.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 p-3 text-sm text-gray-500",children:["Nessuna informazione pubblica trovata per ",t.gtin,". Procedi pure manualmente."]}):null}function t4(){const[t,e]=C.useState({barcode:"",title:"",brand:"",description:"",size:"",price_eur:"",cost_eur:"",weight_g:"",package_required:"",image_url:""}),[r,n]=C.useState(null),[i,a]=C.useState(null),[o,s]=C.useState(!1),[u,l]=C.useState(!1),[c,f]=C.useState(null),[d,h]=C.useState(!1),[v,g]=C.useState(1),[w,y]=C.useState(!1),x=C.useRef(null),[m,_]=C.useState(null),{mode:A,location:I,openSelector:S}=sn(),N=A==="location"?(I==null?void 0:I.id)??null:null,b=A==="location"?(I==null?void 0:I.name)??"":"";async function P(F){try{return(await he.get(`/products/barcode/${encodeURIComponent(F)}`)).data}catch{return null}}async function R(){var F,B;if(!c||!N){a("Seleziona una location operativa per aggiungere stock"),N||S();return}n(null),a(null);try{await he.post("/stock/movement",{product_id:c.id,type:"in",qty_change:v,from_location_id:null,to_location_id:N,note:"Ricezione merce"}),n(`Aggiunte ${v} unit in "${b}" per prodotto #${c.id}`),h(!1),f(null),g(1)}catch(V){a(((B=(F=V==null?void 0:V.response)==null?void 0:F.data)==null?void 0:B.detail)||V.message||"Errore aggiunta stock")}}async function z(){var F,B,V,$;if(!t.barcode||!t.title){a("Barcode e Titolo sono obbligatori");return}n(null),a(null);try{const L=await he.post("/products/receive",{...t,price_eur:t.price_eur?Number(t.price_eur):null,cost_eur:t.cost_eur?Number(t.cost_eur):null,weight_g:t.weight_g?Number(t.weight_g):null,location:b||void 0});n(`Prodotto creato${(F=L.data)!=null&&F.shopify_product_id?" e sincronizzato su Shopify":""}: #${(B=L.data)==null?void 0:B.id}${b?` - Stock aggiunto in "${b}"`:""}`),e({barcode:"",title:"",brand:"",description:"",size:"",price_eur:"",cost_eur:"",weight_g:"",package_required:"",image_url:""}),f(null)}catch(L){a((($=(V=L==null?void 0:L.response)==null?void 0:V.data)==null?void 0:$.detail)||L.message||"Errore salvataggio")}}async function j(F){if(!F)return;y(!1),e(V=>({...V,barcode:F})),l(!0),a(null),n(null),f(null),_(null);const B=await P(F);if(B){N?(f(B),h(!0)):(f(null),h(!1),n("Prodotto gi presente nel sistema. Seleziona una location per aggiungere stock.")),l(!1);return}try{const V=await As(F);V!=null&&V.found?(e($=>{var L;return{...$,barcode:F,title:V.title||$.title||"",brand:V.brand||$.brand||"",description:V.description||$.description||"",image_url:((L=V.image)==null?void 0:L.url)||$.image_url||""}}),n(`Informazioni prodotto caricate automaticamente${V.source?` da ${V.source}`:""}!`),_(V)):(_(V||{found:!1,gtin:F}),e($=>({...$,barcode:F})),n("Barcode scansionato. Inserisci le informazioni prodotto."))}catch(V){console.warn("Errore ricerca barcode:",V),e($=>({...$,barcode:F})),n("Barcode scansionato. Inserisci le informazioni prodotto."),_(null)}finally{l(!1)}}return p.jsxs("div",{className:"space-y-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Ricezione merce"}),p.jsx("div",{className:"rounded-2xl border border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/40 p-4 text-sm",children:N?p.jsxs("p",{children:["Operi su ",p.jsx("span",{className:"font-semibold",children:I==null?void 0:I.name}),". Tutto lo stock verr aggiunto automaticamente a questa sede."]}):p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{children:"Modalit generale attiva: registri solo l'anagrafica dei prodotti senza aggiungere stock."}),p.jsx("button",{className:"btn",onClick:S,children:"Scegli una location"})]})}),p.jsx(Oa,{open:w,onOpenChange:y,onDetected:j,focusRef:x}),p.jsx(Ss,{data:m,loading:u}),u&&p.jsx("div",{className:"text-sm text-blue-600",children:"Ricerca informazioni prodotto..."}),d&&c&&p.jsxs("div",{className:"card bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-300 dark:border-blue-700 p-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-lg",children:"Prodotto gi presente nel sistema"}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[p.jsx("strong",{children:c.title})," (Barcode: ",c.barcode,")"]}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["SKU: ",c.sku,"  Brand: ",c.brand||"N/A"]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium",children:"Quantit da aggiungere"}),p.jsx("input",{type:"number",min:"1",value:v,onChange:F=>g(Number(F.target.value)||1),className:"input mt-1"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium",children:"Location"}),p.jsx("div",{className:"input mt-1 bg-gray-100 dark:bg-gray-800",children:b||"Nessuna"})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:R,className:"btn bg-green-600 text-white hover:bg-green-700",children:"Aggiungi Stock"}),p.jsx("button",{onClick:()=>{h(!1),f(null),g(1)},className:"btn bg-gray-200 hover:bg-gray-300",children:"Annulla"})]})]}),!d&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[p.jsx(mi,{ref:x,placeholder:"Barcode *",value:t.barcode,onChange:F=>e({...t,barcode:F}),onScan:j,onRequestScan:()=>y(!0),autoFocusOnMount:!0}),p.jsx("input",{className:"input",placeholder:"Titolo *",value:t.title,onChange:F=>e({...t,title:F.target.value}),required:!0}),p.jsx("input",{className:"input",placeholder:"Brand",value:t.brand,onChange:F=>e({...t,brand:F.target.value})}),p.jsx("input",{className:"input",placeholder:"Descrizione",value:t.description,onChange:F=>e({...t,description:F.target.value})}),p.jsx("input",{className:"input",placeholder:"Taglia",value:t.size,onChange:F=>e({...t,size:F.target.value})}),p.jsx("input",{className:"input",placeholder:"Prezzo EUR",type:"number",step:"0.01",value:t.price_eur,onChange:F=>e({...t,price_eur:F.target.value})}),p.jsx("input",{className:"input",placeholder:"Costo EUR",type:"number",step:"0.01",value:t.cost_eur,onChange:F=>e({...t,cost_eur:F.target.value})}),p.jsx("input",{className:"input",placeholder:"Peso (g)",type:"number",value:t.weight_g,onChange:F=>e({...t,weight_g:F.target.value})}),p.jsx("input",{className:"input",placeholder:"Pacco richiesto (es. Box M)",value:t.package_required,onChange:F=>e({...t,package_required:F.target.value})}),p.jsx("input",{className:"input",placeholder:"URL immagine (opz.)",value:t.image_url,onChange:F=>e({...t,image_url:F.target.value})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"file",accept:"image/*",onChange:async F=>{if(!(!F.target.files||F.target.files.length===0)){s(!0);try{const B=new FormData;B.append("file",F.target.files[0]);const V=await he.post("/uploads/",B);e($=>({...$,image_url:V.data.url}))}catch{a("Errore upload immagine")}finally{s(!1)}}}}),o&&p.jsx("span",{className:"text-xs text-gray-600",children:"Caricamento"})]})]}),p.jsx("button",{className:"btn bg-black text-white",onClick:z,children:"Crea Prodotto"})]}),r&&p.jsx("p",{className:"text-green-600",children:r}),i&&p.jsx("p",{className:"text-red-600",children:i})]})}function r4(){const[t,e]=C.useState(""),[r,n]=C.useState(""),[i,a]=C.useState(""),[o,s]=C.useState(null),[u,l]=C.useState(null);async function c(){var f,d,h,v;s(null),l(null);try{const g=await he.post("/shopify/setup",{shop:t,access_token:r,location_id:i||null});s(`OK! Location ID: ${((f=g.data)==null?void 0:f.location_id)||"(non reso)"}. Copialo in .env e riavvia.`),(d=g.data)!=null&&d.location_id&&!i&&a(g.data.location_id)}catch(g){l(((v=(h=g==null?void 0:g.response)==null?void 0:h.data)==null?void 0:v.detail)||"Errore setup Shopify")}}return p.jsxs("div",{className:"space-y-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Setup Shopify"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[p.jsx("input",{className:"input",placeholder:"shop.myshopify.com",value:t,onChange:f=>e(f.target.value)}),p.jsx("input",{className:"input",placeholder:"Admin API access token",value:r,onChange:f=>n(f.target.value)}),p.jsx("input",{className:"input",placeholder:"Location ID (opz.)",value:i,onChange:f=>a(f.target.value)})]}),p.jsx("button",{className:"btn bg-black text-white",onClick:c,children:"Test & Save"}),o&&p.jsx("p",{className:"text-green-600",children:o}),u&&p.jsx("p",{className:"text-red-600",children:u}),p.jsx("p",{className:"text-xs text-gray-500",children:"Se non vuoi Shopify ora, tieni `DISABLE_SHOPIFY=true` nel .env del backend."})]})}function i0(){const{id:t}=F2(),e=Ea(),[r,n]=C.useState({sku:"",barcode:"",title:"",brand:"",description:"",size:"",color:"",weight_grams:"",package_required:"",cost:"",price:"",image_url:""}),[i,a]=C.useState("");C.useEffect(()=>{async function u(){if(t)try{const l=await he.get(`/products/${t}`);n({sku:l.data.sku||"",barcode:l.data.barcode||"",title:l.data.title||"",brand:l.data.brand||"",description:l.data.description||"",size:l.data.size||"",color:l.data.color||"",weight_grams:String(l.data.weight_grams??""),package_required:l.data.package_required||"",cost:String(l.data.cost??""),price:String(l.data.price??""),image_url:l.data.image_url||""})}catch{}}u()},[t]);function o(u,l){n({...r,[u]:l})}async function s(){var u,l,c;try{const f={...r,weight_grams:r.weight_grams?Number(r.weight_grams):null,cost:r.cost?Number(r.cost):null,price:r.price?Number(r.price):null};t?(await he.patch(`/products/${t}`,f),a("Prodotto aggiornato.")):(await he.post("/products/",{...f,initial_qty:0}),a("Prodotto creato."))}catch(f){const d=((l=(u=f==null?void 0:f.response)==null?void 0:u.data)==null?void 0:l.detail)||"Errore creazione";try{if(d.includes("SKU gi presente")&&r.sku){const v=(c=(await he.get("/products/",{params:{q:r.sku,limit:1}})).data)==null?void 0:c[0];if(v){e(`/products/edit/${v.id}`);return}}}catch{}a(d)}}return p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:t?"Modifica prodotto":"Nuovo prodotto"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[p.jsx("input",{className:"input",placeholder:"SKU",value:r.sku,onChange:u=>o("sku",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Barcode",value:r.barcode,onChange:u=>o("barcode",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Titolo",value:r.title,onChange:u=>o("title",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Brand",value:r.brand,onChange:u=>o("brand",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Taglia",value:r.size,onChange:u=>o("size",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Colore",value:r.color,onChange:u=>o("color",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Peso (g)",value:r.weight_grams,onChange:u=>o("weight_grams",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Pacco richiesto",value:r.package_required,onChange:u=>o("package_required",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Costo",value:r.cost,onChange:u=>o("cost",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Prezzo",value:r.price,onChange:u=>o("price",u.target.value)}),p.jsx("input",{className:"input",placeholder:"Immagine URL",value:r.image_url,onChange:u=>o("image_url",u.target.value)}),p.jsx("textarea",{className:"input",placeholder:"Descrizione",value:r.description,onChange:u=>o("description",u.target.value)})]}),p.jsx("button",{className:"btn",onClick:s,children:"Salva"}),i&&p.jsx("div",{className:"text-sm",children:i})]})}function n4(){const[t,e]=C.useState(null),[r,n]=C.useState([]),[i,a]=C.useState([]),[o,s]=C.useState(""),[u,l]=C.useState(1),[c,f]=C.useState(null),[d,h]=C.useState(!1),[v,g]=C.useState(!1),[w,y]=C.useState(""),[x,m]=C.useState(!1),_=C.useRef(null),[A,I]=C.useState(null),[S,N]=C.useState(!1),{mode:b,location:P,locations:R,openSelector:z}=sn(),j=b==="location"?(P==null?void 0:P.id)??null:null,F=(P==null?void 0:P.name)??"",B=C.useCallback(async M=>{if(!j){f(null);return}h(!0);try{const Y=await he.get(`/stock/by_product/${M}`),ne=(Array.isArray(Y.data)?Y.data:[]).find(fe=>fe.location_id===j);f((ne==null?void 0:ne.qty)??0)}catch{f(null)}h(!1)},[j]);async function V(){w&&await $(w)}async function $(M){var Y;if(M){e(null),n([]),a([]),f(null),I(null),N(!0);try{const Z=await As(M);I(Z)}catch{I(null)}finally{N(!1)}try{try{const Z=await he.get(`/products/barcode/${encodeURIComponent(M)}/all`),ne=Array.isArray(Z.data)?Z.data:[Z.data];if(n(ne),ne.length>1){const fe=await Promise.all(ne.map(async ee=>{try{const ye=await he.get(`/stock/by_product/${ee.id}`),Mt=Array.isArray(ye.data)?ye.data:[];return{...ee,stock:Mt}}catch{return{...ee,stock:[]}}}));a(fe)}else ne.length===1&&(e(ne[0]),await B(ne[0].id));s("")}catch{const Z=await he.get(`/products/barcode/${encodeURIComponent(M)}`);e(Z.data),n([Z.data]),(Y=Z.data)!=null&&Y.id&&await B(Z.data.id),s("")}}catch{e(null),n([]),a([]),f(null),s("Prodotto non trovato. Puoi aggiungerlo dalla pagina Nuovo prodotto.")}}}function L(M){if(e(M),Array.isArray(M.stock)&&j){const Y=M.stock.find(Z=>Z.location_id===j);f((Y==null?void 0:Y.qty)??0)}}async function k(){var ne,fe;if(!t||!j){s("Seleziona una location operativa per registrare la vendita."),j||z();return}if(c===null){s("Caricamento stock in corso, riprova tra poco.");return}if(u>c){s(`Stock insufficiente. Disponibili ${c} pezzi in ${F}.`);return}const M=t.price??t.cost??"",Y=window.prompt("Prezzo di vendita (per pezzo)",M?String(M):"");if(Y===null)return;const Z=parseFloat(Y.replace(",","."));if(Number.isNaN(Z)||Z<0){s("Inserisci un prezzo valido.");return}g(!0);try{await he.post("/stock/movement",{product_id:t.id,type:"sell",qty_change:u,from_location_id:j,to_location_id:null,note:"POS vendita",sale_price:Z}),s(`Venduto ${u} pezzo/i in ${F} a ${Z.toFixed(2)}.`),f(ee=>ee===null?ee:Math.max(0,ee-u))}catch(ee){s(((fe=(ne=ee==null?void 0:ee.response)==null?void 0:ne.data)==null?void 0:fe.detail)||"Errore vendita")}g(!1)}return C.useEffect(()=>{if(t&&j)if(Array.isArray(t.stock)&&t.stock.length){const M=t.stock.find(Y=>Y.location_id===j);f((M==null?void 0:M.qty)??0)}else B(t.id);else j||f(null)},[t,j,B]),j?p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Vendi"}),p.jsx(mi,{ref:_,placeholder:"Scansiona o cerca barcode",value:w,onChange:y,onScan:async M=>{y(M),m(!1),await $(M)},onRequestScan:()=>m(!0)}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{className:"btn",onClick:V,disabled:!w,children:"Cerca"})}),p.jsx(Ss,{data:A,loading:S}),p.jsx(Oa,{open:x,onOpenChange:m,onDetected:async M=>{m(!1),y(M),await $(M)},focusRef:_}),p.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-600",children:"Quantit"}),p.jsx("input",{className:"input",type:"number",min:1,value:u,onChange:M=>{const Y=Math.max(1,Number(M.target.value||1));l(c!==null?Math.min(Y,Math.max(1,c)):Y)}}),c!==null&&p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Disponibili in sede: ",d?"":c]})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:["Location corrente:",p.jsx("div",{className:"font-semibold text-base",children:F})]})]}),r.length>1&&!t?p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"text-sm font-medium",children:["Trovati ",r.length," prodotti con questo barcode. Seleziona quale vendere:"]}),i.length>0?i.map(M=>{var fe;const Y=ee=>{var ye;return((ye=R.find(Mt=>Mt.id===ee))==null?void 0:ye.name)||`Location ${ee}`},Z=M.stock.reduce((ee,ye)=>ee+ye.qty,0),ne=j?((fe=M.stock.find(ee=>ee.location_id===j))==null?void 0:fe.qty)??0:null;return p.jsxs("div",{className:"card cursor-pointer hover:bg-gray-50",onClick:()=>L(M),children:[p.jsx("div",{className:"font-medium",children:M.title}),p.jsxs("div",{className:"text-sm text-gray-600",children:["SKU ",M.sku,"  ",M.brand||"N/A"]}),p.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Stock totale: ",Z," ",M.stock.map(ee=>p.jsxs("span",{className:"ml-2",children:[Y(ee.location_id),": ",ee.qty]},ee.location_id))]}),ne!==null&&p.jsxs("div",{className:"text-xs text-emerald-600 mt-1",children:["Disponibili qui: ",ne]})]},M.id)}):r.map(M=>p.jsxs("div",{className:"card cursor-pointer hover:bg-gray-50",onClick:()=>L(M),children:[p.jsx("div",{className:"font-medium",children:M.title}),p.jsxs("div",{className:"text-sm text-gray-600",children:["SKU ",M.sku,"  ",M.brand||"N/A"]})]},M.id))]}):t?p.jsxs("div",{className:"card space-y-2",children:[p.jsx("div",{className:"font-medium",children:t.title}),p.jsxs("div",{className:"text-sm text-gray-600",children:["SKU ",t.sku,"  ",t.brand||"N/A"]}),p.jsxs("div",{className:"text-xs text-gray-500",children:["Taglia: ",t.size||"-","  Prezzo listino: ",t.price?`${Number(t.price).toFixed(2)}`:"N/D"]}),p.jsxs("div",{className:"text-sm",children:["Stock in ",F||"sede",": ",c??"?"]}),p.jsx("button",{className:"btn",onClick:k,disabled:v,children:v?"Registrazione...":"Vendi"}),o&&p.jsx("div",{className:"text-xs text-gray-600",children:o})]}):p.jsx("div",{className:"text-sm",children:o||"Scansiona o cerca un barcode per vendere."})]}):p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Vendi"}),p.jsx("div",{className:"rounded-2xl border border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 p-4 text-sm",children:"Seleziona una location per abilitare le vendite. La giacenza verr scalata dalla sede scelta."}),p.jsx("button",{className:"btn",onClick:z,children:"Scegli location"})]})}function i4(){const[t,e]=C.useState({product_id:"",from_location_id:"",to_location_id:"",qty:"1"}),[r,n]=C.useState("");function i(o,s){e({...t,[o]:s})}async function a(){var o,s;try{await he.post("/stock/movement",{product_id:Number(t.product_id),type:"transfer",qty_change:Number(t.qty),from_location_id:Number(t.from_location_id),to_location_id:Number(t.to_location_id),note:"Trasferimento"}),n("OK trasferito")}catch(u){n(((s=(o=u==null?void 0:u.response)==null?void 0:o.data)==null?void 0:s.detail)||"Errore trasferimento")}}return p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Trasferimenti"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[p.jsx("input",{className:"input",placeholder:"Product ID",value:t.product_id,onChange:o=>i("product_id",o.target.value)}),p.jsx("input",{className:"input",placeholder:"Da Location ID",value:t.from_location_id,onChange:o=>i("from_location_id",o.target.value)}),p.jsx("input",{className:"input",placeholder:"A Location ID",value:t.to_location_id,onChange:o=>i("to_location_id",o.target.value)}),p.jsx("input",{className:"input",placeholder:"Qty",value:t.qty,onChange:o=>i("qty",o.target.value)})]}),p.jsx("button",{className:"btn",onClick:a,children:"Trasferisci"}),r&&p.jsx("div",{className:"text-sm",children:r})]})}function a4(){const[t,e]=C.useState([]),[r,n]=C.useState(""),[i,a]=C.useState("");async function o(){try{const l=(await he.get("/locations/")).data;Array.isArray(l)?e(l):l&&Array.isArray(l.items)?e(l.items):(console.error("Unexpected /locations response shape:",l),e([]))}catch(u){console.error("Error loading locations:",u),e([])}}async function s(){var u,l;try{const c=r.trim();if(!c){a("Nome richiesto");return}await he.post("/locations/",{name:c}),n(""),await o()}catch(c){a(((l=(u=c==null?void 0:c.response)==null?void 0:u.data)==null?void 0:l.detail)||"Errore")}}return C.useEffect(()=>{o()},[]),p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Sedi/Location"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Crea le sedi da usare nella vendita e nell'inventario."}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{className:"input",placeholder:"Nome sede",value:r,onChange:u=>n(u.target.value)}),p.jsx("button",{className:"btn",onClick:s,children:"Aggiungi"})]}),p.jsx("ul",{className:"list-disc pl-6",children:t.map(u=>p.jsx("li",{children:u.name},u.id))}),i&&p.jsx("div",{className:"text-sm",children:i})]})}function o4(){const[t,e]=C.useState([]),[r,n]=C.useState(null),[i,a]=C.useState(!1),[o,s]=C.useState(""),[u,l]=C.useState(!1),{locations:c,mode:f,location:d,openSelector:h}=sn(),v=f==="location"?(d==null?void 0:d.id)??null:null,[g,w]=C.useState(!1),y=C.useRef(null),[x,m]=C.useState(null),[_,A]=C.useState(!1);C.useEffect(()=>{(async()=>{a(!0);try{const R=await he.get("/products/with-stock",{params:{limit:200}}),z=Array.isArray(R.data)?R.data:[];e(z.map(j=>({...j,stock:Array.isArray(j.stock)?j.stock:[],total_qty:typeof j.total_qty=="number"?j.total_qty:0})))}catch{n("Errore caricamento inventario"),e([])}finally{a(!1)}})()},[]);const I=R=>{const z=c.find(j=>j.id===R);return z?z.name:`Location ${R}`},S=C.useMemo(()=>{let R=t;if(o){const z=o.toLowerCase();R=R.filter(j=>j.title.toLowerCase().includes(z)||(j.sku||"").toLowerCase().includes(z)||(j.barcode||"").toLowerCase().includes(z))}return u&&(R=R.filter(z=>(z.total_qty??0)>0)),R},[t,o,u]),N=C.useMemo(()=>S.reduce((R,z)=>R+(z.total_qty??0),0),[S]),b=C.useMemo(()=>v?S.reduce((R,z)=>{const j=(z.stock||[]).find(F=>F.location_id===v);return R+((j==null?void 0:j.qty)??0)},0):null,[S,v]),P=async R=>{if(R){s(R),w(!1),m(null),A(!0);try{const z=await As(R);m(z)}catch{m(null)}finally{A(!1)}}};return p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Inventario"}),r&&p.jsx("p",{className:"text-red-600",children:r}),p.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[p.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 p-4",children:[p.jsx("div",{className:"text-xs uppercase text-gray-500",children:"SKU monitorati"}),p.jsx("div",{className:"text-2xl font-semibold",children:S.length})]}),p.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 p-4",children:[p.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Pezzi totali"}),p.jsx("div",{className:"text-2xl font-semibold",children:N})]}),p.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 p-4",children:[p.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Sede attiva"}),v?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-2xl font-semibold",children:d==null?void 0:d.name}),p.jsxs("div",{className:"text-sm text-gray-500",children:[b," pezzi disponibili"]})]}):p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-semibold",children:"Vista generale"}),p.jsx("div",{className:"text-sm text-gray-500",children:"Seleziona una sede per filtrare"})]})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[p.jsxs("div",{className:"flex-1 min-w-[180px]",children:[p.jsx("div",{className:"text-xs text-gray-600",children:"Cerca"}),p.jsx(mi,{ref:y,placeholder:"Cerca per titolo, SKU o barcode",value:o,onChange:s,onScan:P,onRequestScan:()=>w(!0),autoFocusOnMount:!1})]}),p.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[p.jsx("input",{type:"checkbox",checked:u,onChange:R=>l(R.target.checked)}),"Nascondi prodotti senza stock"]}),p.jsx("button",{className:"btn",onClick:h,children:v?"Cambia sede":"Scegli sede"})]}),p.jsx(Ss,{data:x,loading:_}),p.jsx(Oa,{open:g,onOpenChange:w,onDetected:P,focusRef:y}),i&&p.jsx("div",{className:"text-sm text-gray-500",children:"Caricamento inventario..."}),p.jsx("div",{className:"space-y-2",children:S.map(R=>{const z=R.stock||[],j=R.total_qty??z.reduce((F,B)=>F+B.qty,0);return p.jsxs("div",{className:"card",children:[p.jsx("div",{className:"font-medium",children:R.title}),p.jsxs("div",{className:"text-sm text-gray-600",children:[R.barcode&&`Barcode: ${R.barcode}  `,"SKU: ",R.sku||R.id]}),p.jsx("div",{className:"mt-2",children:z.length>0?p.jsxs("div",{className:"flex flex-wrap gap-2",children:[z.map((F,B)=>p.jsxs("div",{className:`px-3 py-1 rounded-lg font-medium ${v===F.location_id?"bg-black text-white":"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200"}`,children:[I(F.location_id),": ",F.qty]},`${R.id}-${F.location_id}-${B}`)),p.jsxs("div",{className:"px-3 py-1 rounded-lg bg-gray-200 dark:bg-gray-700 font-semibold",children:["Totale: ",j]})]}):p.jsx("div",{className:"text-sm text-gray-500",children:"Nessuno stock disponibile"})})]},R.id)})})]})}const xu=t=>t==null?"N/D":`${t.toFixed(2)}`;function s4(){const[t,e]=C.useState([]),[r,n]=C.useState(!1),[i,a]=C.useState(""),[o,s]=C.useState(""),[u,l]=C.useState(""),[c,f]=C.useState("created_at"),[d,h]=C.useState("desc"),[v,g]=C.useState(1),[w,y]=C.useState(15),[x,m]=C.useState(null);async function _(){n(!0);try{const R=await he.get("/stock/movements",{params:{type:"sell",limit:500,from_dt:i||void 0,to_dt:o||void 0}});e(Array.isArray(R.data)?R.data:[]),m(null)}catch{m("Errore caricamento storico vendite")}n(!1)}C.useEffect(()=>{_()},[i,o]);const A=C.useMemo(()=>{if(!u)return t;const R=u.toLowerCase();return t.filter(z=>{var B,V,$,L;const j=((V=(B=z.product)==null?void 0:B.title)==null?void 0:V.toLowerCase())||"",F=(($=z.note)==null?void 0:$.toLowerCase())||"";return String(z.product_id).includes(R)||j.includes(R)||F.includes(R)||(((L=z.product)==null?void 0:L.size)||"").toLowerCase().includes(R)})},[t,u]),I=C.useMemo(()=>{const R=[...A];return R.sort((z,j)=>{if(c==="created_at"){const V=new Date(z.created_at).getTime(),$=new Date(j.created_at).getTime();return d==="asc"?V-$:$-V}if(c==="qty_change")return d==="asc"?Math.abs(z.qty_change)-Math.abs(j.qty_change):Math.abs(j.qty_change)-Math.abs(z.qty_change);if(c==="sale_price"){const V=z.sale_price??0,$=j.sale_price??0;return d==="asc"?V-$:$-V}const F=z[c],B=j[c];return d==="asc"?String(F).localeCompare(String(B)):String(B).localeCompare(String(F))}),R},[A,c,d]),S=Math.max(1,Math.ceil(I.length/w)),N=C.useMemo(()=>{const R=(v-1)*w;return I.slice(R,R+w)},[I,v,w]),b=C.useMemo(()=>{const R=A.reduce((j,F)=>j+Math.abs(F.qty_change),0),z=A.reduce((j,F)=>j+(F.sale_price??0)*Math.abs(F.qty_change),0);return{totalItems:R,totalRevenue:z}},[A]);function P(){const R="<tr><th>Nome prodotto</th><th>Taglia</th><th>Prezzo ()</th></tr>",z=A.map($=>{var Z,ne;const L=((Z=$.product)==null?void 0:Z.title)||`ID ${$.product_id}`,k=((ne=$.product)==null?void 0:ne.size)||"",M=$.sale_price??0,Y=fe=>fe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return`<tr><td>${Y(L)}</td><td>${Y(k)}</td><td>${M?M.toFixed(2):""}</td></tr>`}).join(""),j=`<table>${R}${z}</table>`,F=new Blob([j],{type:"application/vnd.ms-excel"}),B=URL.createObjectURL(F),V=document.createElement("a");V.href=B,V.download=`vendite_${new Date().toISOString().slice(0,10)}.xls`,V.click(),URL.revokeObjectURL(B)}return p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Storico vendite"}),x&&p.jsx("div",{className:"text-red-600",children:x}),p.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[p.jsxs("div",{className:"rounded-xl bg-emerald-50 p-3 text-emerald-900",children:[p.jsx("div",{className:"text-xs uppercase tracking-wide",children:"Articoli venduti"}),p.jsx("div",{className:"text-2xl font-bold",children:b.totalItems})]}),p.jsxs("div",{className:"rounded-xl bg-indigo-50 p-3 text-indigo-900",children:[p.jsx("div",{className:"text-xs uppercase tracking-wide",children:"Incassato"}),p.jsx("div",{className:"text-2xl font-bold",children:xu(b.totalRevenue)})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 items-end",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-600",children:"Da"}),p.jsx("input",{className:"input",type:"date",value:i,onChange:R=>a(R.target.value)})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-600",children:"A"}),p.jsx("input",{className:"input",type:"date",value:o,onChange:R=>s(R.target.value)})]}),p.jsxs("div",{className:"flex-1 min-w-[180px]",children:[p.jsx("div",{className:"text-xs text-gray-600",children:"Cerca"}),p.jsx("input",{className:"input",placeholder:"Prodotto, taglia o nota",value:u,onChange:R=>l(R.target.value)})]}),p.jsx("button",{className:"btn",onClick:P,children:"Esporta Excel"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-600",children:"Ordina per"}),p.jsxs("select",{className:"input",value:c,onChange:R=>f(R.target.value),children:[p.jsx("option",{value:"created_at",children:"Data"}),p.jsx("option",{value:"product_id",children:"Prodotto"}),p.jsx("option",{value:"qty_change",children:"Quantit"}),p.jsx("option",{value:"sale_price",children:"Prezzo"})]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-600",children:"Direzione"}),p.jsxs("select",{className:"input",value:d,onChange:R=>h(R.target.value),children:[p.jsx("option",{value:"asc",children:"Asc"}),p.jsx("option",{value:"desc",children:"Desc"})]})]})]}),r&&p.jsx("div",{children:"Caricamento"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"text-left",children:[p.jsx("th",{className:"p-2",children:"#"}),p.jsx("th",{className:"p-2",children:"Prodotto"}),p.jsx("th",{className:"p-2",children:"Taglia"}),p.jsx("th",{className:"p-2",children:"Quantit"}),p.jsx("th",{className:"p-2",children:"Prezzo"}),p.jsx("th",{className:"p-2",children:"Totale"}),p.jsx("th",{className:"p-2",children:"Nota"}),p.jsx("th",{className:"p-2",children:"Data"})]})}),p.jsx("tbody",{children:N.map(R=>{var F,B;const z=Math.abs(R.qty_change),j=(R.sale_price??0)*z;return p.jsxs("tr",{className:"border-t",children:[p.jsx("td",{className:"p-2",children:R.id}),p.jsx("td",{className:"p-2",children:((F=R.product)==null?void 0:F.title)||`ID ${R.product_id}`}),p.jsx("td",{className:"p-2",children:((B=R.product)==null?void 0:B.size)||""}),p.jsx("td",{className:"p-2",children:z}),p.jsx("td",{className:"p-2",children:xu(R.sale_price)}),p.jsx("td",{className:"p-2",children:xu(j)}),p.jsx("td",{className:"p-2",children:R.note||""}),p.jsx("td",{className:"p-2",children:new Date(R.created_at).toLocaleString()})]},R.id)})})]})}),p.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[p.jsxs("div",{className:"text-sm",children:["Pagina ",v," di ",S]}),p.jsx("button",{className:"btn",disabled:v<=1,onClick:()=>g(R=>Math.max(1,R-1)),children:"Prev"}),p.jsx("button",{className:"btn",disabled:v>=S,onClick:()=>g(R=>Math.min(S,R+1)),children:"Next"}),p.jsxs("select",{className:"input w-[100px]",value:w,onChange:R=>{y(Number(R.target.value)),g(1)},children:[p.jsx("option",{value:10,children:"10"}),p.jsx("option",{value:15,children:"15"}),p.jsx("option",{value:20,children:"20"})]})]})]})}function u4(){const[t,e]=C.useState([]),[r,n]=C.useState([]),[i,a]=C.useState(null);C.useEffect(()=>{(async()=>{try{const s=await he.get("/products/",{params:{limit:500}}),u=Array.isArray(s.data)?s.data:[];e(u),Array.isArray(s.data)||a("Risposta prodotti non valida")}catch{a("Errore caricamento prodotti per analisi")}try{const s=await he.get("/stock/movements",{params:{type:"sell",limit:500}}),u=Array.isArray(s.data)?s.data:[];n(u),Array.isArray(s.data)||a(l=>l||"Risposta vendite non valida")}catch{a(s=>s||"Errore caricamento vendite per analisi")}})()},[]);const o=C.useMemo(()=>{const s=t.length,u=t.reduce((h,v)=>h+(v.price||0),0)/(t.length||1),l=r.length,c=new Date,f=r.filter(h=>new Date(h.created_at).toDateString()===c.toDateString()).length,d=r.reduce((h,v)=>{const g=t.find(x=>x.id===v.product_id),w=(g==null?void 0:g.price)||0,y=Math.abs(v.qty_change||0);return h+w*y},0);return{totalProducts:s,avgPrice:u,totalSales:l,todaySales:f,revenue:d}},[t,r]);return p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Analisi negozio"}),i&&p.jsx("div",{className:"text-red-600",children:i}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[p.jsxs("div",{className:"card",children:[p.jsx("div",{className:"text-sm text-gray-600",children:"Prodotti"}),p.jsx("div",{className:"text-2xl font-semibold",children:o.totalProducts})]}),p.jsxs("div",{className:"card",children:[p.jsx("div",{className:"text-sm text-gray-600",children:"Prezzo medio"}),p.jsx("div",{className:"text-2xl font-semibold",children:o.avgPrice.toFixed(2)})]}),p.jsxs("div",{className:"card",children:[p.jsx("div",{className:"text-sm text-gray-600",children:"Vendite totali"}),p.jsx("div",{className:"text-2xl font-semibold",children:o.totalSales})]}),p.jsxs("div",{className:"card",children:[p.jsx("div",{className:"text-sm text-gray-600",children:"Vendite oggi"}),p.jsx("div",{className:"text-2xl font-semibold",children:o.todaySales})]}),p.jsxs("div",{className:"card md:col-span-2",children:[p.jsx("div",{className:"text-sm text-gray-600",children:"Ricavi stimati"}),p.jsx("div",{className:"text-2xl font-semibold",children:o.revenue.toFixed(2)})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("div",{className:"font-medium mb-2",children:"Marche pi vendute"}),p.jsx(l4,{products:t,sales:r})]})]})}function l4({products:t,sales:e}){const r=C.useMemo(()=>{const n={};for(const i of e){const a=t.find(s=>s.id===i.product_id),o=(a==null?void 0:a.brand)||"";o&&(n[o]=(n[o]||0)+Math.abs(i.qty_change||0))}return Object.entries(n).sort((i,a)=>a[1]-i[1]).slice(0,8)},[t,e]);return p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[r.map(([n,i])=>p.jsxs("div",{className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700",children:[p.jsx("div",{className:"text-sm",children:n}),p.jsxs("div",{className:"text-xs text-gray-600",children:[i," pezzi"]})]},n)),r.length===0&&p.jsx("div",{className:"text-sm text-gray-500",children:"Nessun dato"})]})}function c4(){const[t,e]=C.useState(""),[r,n]=C.useState(null),[i,a]=C.useState([]),[o,s]=C.useState(""),[u,l]=C.useState(!1),{mode:c,location:f,openSelector:d}=sn(),[h,v]=C.useState(!1),g=C.useRef(null),[w,y]=C.useState(null),[x,m]=C.useState(!1),_=c==="location"?(f==null?void 0:f.id)??null:null;async function A(S){if(S){v(!1),e(S),n(null),a([]),s(""),y(null),m(!0);try{const N=await As(S);y(N)}catch{y(null)}finally{m(!1)}if(S){l(!0);try{const N=await he.get(`/products/barcode/${encodeURIComponent(S)}/all`),b=Array.isArray(N.data)?N.data:[N.data];a(b),b.length===1&&n(b[0]),b.length===0&&s("Barcode non riconosciuto.")}catch{n(null),a([]),s("Barcode non riconosciuto.")}l(!1)}}}async function I(){var S,N;if(!r||!_){_||(s("Seleziona prima una location dalla barra in alto."),d());return}try{await he.post("/stock/movement",{product_id:r.id,type:"in",qty_change:1,from_location_id:null,to_location_id:_,note:"Aggiunta rapida"}),s(`Aggiunto 1 pezzo a ${f==null?void 0:f.name}.`)}catch(b){s(((N=(S=b==null?void 0:b.response)==null?void 0:S.data)==null?void 0:N.detail)||"Errore durante l'aggiunta")}}return p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsx("h1",{className:"text-xl font-semibold",children:"Aggiungi stock"}),!_&&p.jsx("div",{className:"rounded-lg border border-dashed border-yellow-500 bg-yellow-50 p-3 text-sm text-yellow-800",children:"Seleziona una location per assegnare correttamente lo stock."}),p.jsx(mi,{ref:g,placeholder:"Scansiona o inserisci barcode",value:t,onChange:e,onScan:A,onRequestScan:()=>v(!0)}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{className:"btn",onClick:()=>A(t),disabled:!t,children:"Cerca"})}),p.jsx(Ss,{data:w,loading:x}),p.jsx(Oa,{open:h,onOpenChange:v,onDetected:A,focusRef:g}),u&&p.jsx("div",{className:"text-sm",children:"Ricerca in corso"}),i.length>1&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"text-sm font-medium",children:"Seleziona il prodotto da aggiornare:"}),i.map(S=>p.jsxs("div",{className:"card cursor-pointer hover:bg-gray-50",onClick:()=>n(S),children:[p.jsx("div",{className:"font-medium",children:S.title}),p.jsxs("div",{className:"text-xs text-gray-500",children:["SKU ",S.sku]})]},S.id))]}),r?p.jsxs("div",{className:"card space-y-2",children:[p.jsx("div",{className:"font-medium",children:r.title}),p.jsxs("div",{className:"text-sm text-gray-600",children:["SKU ",r.sku,"  Taglia ",r.size||"N/D"]}),p.jsx("button",{className:"btn",onClick:I,children:"Aggiungi +1"}),o&&p.jsx("div",{className:"text-xs text-gray-500",children:o})]}):o&&p.jsxs("div",{className:"rounded-lg border border-red-300 bg-red-50 p-3 text-sm text-red-700 space-y-2",children:[p.jsx("div",{children:o}),p.jsx(kc,{to:"/products/new",className:"btn inline-flex",children:"Vai a Nuovo prodotto"})]})]})}const Pp=vr.createContext({});function f4({children:t}){const{isAuthenticated:e}=vs();return e?p.jsx(p.Fragment,{children:t}):p.jsx(dl,{to:"/login",replace:!0})}function d4(){return p.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[p.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-4 pb-28 space-y-4",children:[p.jsx(pm,{}),p.jsx(Q2,{})]}),p.jsx(vm,{})]})}function h4(){const t=xm();return p.jsxs(Pp.Provider,{value:t,children:[p.jsxs(ex,{children:[p.jsx(Ze,{path:"/login",element:p.jsx(Km,{})}),p.jsxs(Ze,{element:p.jsx(f4,{children:p.jsx(d4,{})}),children:[p.jsx(Ze,{path:"/",element:p.jsx(dl,{to:"/dashboard",replace:!0})}),p.jsx(Ze,{path:"/dashboard",element:p.jsx(Zm,{})}),p.jsx(Ze,{path:"/products",element:p.jsx(e4,{})}),p.jsx(Ze,{path:"/receive",element:p.jsx(t4,{})}),p.jsx(Ze,{path:"/stock/add",element:p.jsx(c4,{})}),p.jsx(Ze,{path:"/sell",element:p.jsx(n4,{})}),p.jsx(Ze,{path:"/setup",element:p.jsx(r4,{})}),p.jsx(Ze,{path:"/products/new",element:p.jsx(i0,{})}),p.jsx(Ze,{path:"/products/edit/:id",element:p.jsx(i0,{})}),p.jsx(Ze,{path:"/transfers",element:p.jsx(i4,{})}),p.jsx(Ze,{path:"/locations",element:p.jsx(a4,{})}),p.jsx(Ze,{path:"/inventory",element:p.jsx(o4,{})}),p.jsx(Ze,{path:"/sales",element:p.jsx(s4,{})}),p.jsx(Ze,{path:"/analytics",element:p.jsx(u4,{})})]}),p.jsx(Ze,{path:"*",element:p.jsx(dl,{to:"/dashboard",replace:!0})})]}),p.jsx(gm,{toasts:t.toasts}),p.jsx(ym,{})]})}function p4(){return p.jsx(kx,{children:p.jsx(dm,{children:p.jsx(h4,{})})})}yu.createRoot(document.getElementById("root")).render(p.jsx(vr.StrictMode,{children:p.jsx(Cx,{children:p.jsx(p4,{})})}));
